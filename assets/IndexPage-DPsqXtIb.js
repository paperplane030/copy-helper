import{P as ei,g as Ue,r as I,p as Ct,a as ct,n as nt,i as ao,w as fe,o as xt,b as et,c as St,l as En,d as el,e as gt,f as ti,h as He,u as bn,j as Il,s as Ol,k as Bl,m as b,q as yn,t as Tn,v as Ml,x as Vl,y as $l,z as Ll,A as S,T as io,B as ht,C as Ye,D as Rl,E as nn,F as Pn,G as Ft,H as je,I as Fl,J as Ro,K as zt,L as Nt,M as ni,N as mo,O as zl,Q as ro,R as oi,S as li,U as Nl,V as Hl,W as Ze,X as ai,Y as jl,Z as ii,_ as go,$ as ri,a0 as Ul,a1 as Wl,a2 as uo,a3 as ui,a4 as si,a5 as ci,a6 as di,a7 as In,a8 as Lt,a9 as U,aa as _t,ab as Je,ac as M,ad as Qe,ae as de,af as an,ag as Kl,ah as Cn,ai as wt,aj as Ot,ak as Ce,al as fi,am as vi,an as mi,ao as Xl,ap as Fo,aq as Yl,ar as Ql,as as gi,at as hi,au as pi,av as bi,aw as tl,ax as yi,ay as Ci,az as Si,aA as wi,aB as Gl,aC as ki,aD as Jl,aE as xi,aF as nl,aG as _i,aH as sn,aI as Ei,aJ as Ti,aK as Zl,aL as qi,aM as Di,aN as Ai,aO as ol,aP as Pi,aQ as ea,aR as Dt,aS as Ii,aT as yt,aU as cn,aV as dn,aW as ll,aX as al,aY as ot,aZ as Yt,a_ as Oi}from"./index-BTPY1DFR.js";function qn(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),ei.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const ta={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Bi={...ta,contextMenu:Boolean};function na({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:l,emit:a}=Ue(),i=I(null);let r=null;function u(f){return i.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const s={};n===void 0&&(Object.assign(s,{hide(f){l.hide(f)},toggle(f){l.toggle(f),f.qAnchorHandled=!0},toggleKey(f){ao(f,13)===!0&&s.toggle(f)},contextClick(f){l.hide(f),Ct(f),nt(()=>{l.show(f),f.qAnchorHandled=!0})},prevent:Ct,mobileTouch(f){if(s.mobileCleanup(f),u(f)!==!0)return;l.hide(f),i.value.classList.add("non-selectable");const p=f.target;ct(s,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,l.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){i.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&f!==void 0&&qn()}}),n=function(f=o.contextMenu){if(o.noParentEvent===!0||i.value===null)return;let p;f===!0?l.$q.platform.is.mobile===!0?p=[[i.value,"touchstart","mobileTouch","passive"]]:p=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:p=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],ct(s,"anchor",p)});function c(){St(s,"anchor")}function h(f){for(i.value=f;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;n()}function m(){if(o.target===!1||o.target===""||l.$el.parentNode===null)i.value=null;else if(o.target===!0)h(l.$el.parentNode);else{let f=o.target;if(typeof o.target=="string")try{f=document.querySelector(o.target)}catch{f=void 0}f!=null?(i.value=f.$el||f,n()):(i.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return fe(()=>o.contextMenu,f=>{i.value!==null&&(c(),n(f))}),fe(()=>o.target,()=>{i.value!==null&&c(),m()}),fe(()=>o.noParentEvent,f=>{i.value!==null&&(f===!0?c():n())}),xt(()=>{m(),t!==!0&&o.modelValue===!0&&i.value===null&&a("update:modelValue",!1)}),et(()=>{r!==null&&clearTimeout(r),c()}),{anchorEl:i,canShow:u,anchorEvents:s}}function oa(e,t){const n=I(null);let o;function l(r,u){const s=`${u!==void 0?"add":"remove"}EventListener`,c=u!==void 0?u:o;r!==window&&r[s]("scroll",c,En.passive),window[s]("scroll",c,En.passive),o=u}function a(){n.value!==null&&(l(n.value),n.value=null)}const i=fe(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return et(i),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:l}}const{notPassiveCapture:Kn}=En,Rt=[];function Xn(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=el.length-1;for(;n>=0;){const o=el[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=Rt.length-1;o>=0;o--){const l=Rt[o];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function la(e){Rt.push(e),Rt.length===1&&(document.addEventListener("mousedown",Xn,Kn),document.addEventListener("touchstart",Xn,Kn))}function Yn(e){const t=Rt.findIndex(n=>n===e);t!==-1&&(Rt.splice(t,1),Rt.length===0&&(document.removeEventListener("mousedown",Xn,Kn),document.removeEventListener("touchstart",Xn,Kn)))}let il,rl;function Qn(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function aa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Oo={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Oo[`${e}#ltr`]=e,Oo[`${e}#rtl`]=e});function Gn(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Oo[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Mi(e,t){let{top:n,left:o,right:l,bottom:a,width:i,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],a+=t[1],l+=t[0],i+=t[0],r+=t[1]),{top:n,bottom:a,height:r,left:o,right:l,width:i,middle:o+(l-o)/2,center:n+(a-n)/2}}function Vi(e,t,n){let{top:o,left:l}=e.getBoundingClientRect();return o+=t.top,l+=t.left,n!==void 0&&(o+=n[1],l+=n[0]),{top:o,bottom:o+1,height:1,left:l,right:l+1,width:1,middle:l,center:o}}function $i(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function ul(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function zo(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{zo(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:l,anchorOrigin:a,selfOrigin:i,absoluteOffset:r,fit:u,cover:s,maxHeight:c,maxWidth:h}=e;if(gt.is.ios===!0&&window.visualViewport!==void 0){const D=document.body.style,{offsetLeft:z,offsetTop:Y}=window.visualViewport;z!==il&&(D.setProperty("--q-pe-left",z+"px"),il=z),Y!==rl&&(D.setProperty("--q-pe-top",Y+"px"),rl=Y)}const{scrollLeft:m,scrollTop:f}=n,p=r===void 0?Mi(l,s===!0?[0,0]:o):Vi(l,r,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:h,maxHeight:c,visibility:"visible"});const{offsetWidth:C,offsetHeight:k}=n,{elWidth:P,elHeight:V}=u===!0||s===!0?{elWidth:Math.max(p.width,C),elHeight:s===!0?Math.max(p.height,k):k}:{elWidth:C,elHeight:k};let y={maxWidth:h,maxHeight:c};(u===!0||s===!0)&&(y.minWidth=p.width+"px",s===!0&&(y.minHeight=p.height+"px")),Object.assign(n.style,y);const w=$i(P,V);let q=ul(p,w,a,i);if(r===void 0||o===void 0)ho(q,p,w,a,i);else{const{top:D,left:z}=q;ho(q,p,w,a,i);let Y=!1;if(q.top!==D){Y=!0;const Q=2*o[1];p.center=p.top-=Q,p.bottom-=Q+2}if(q.left!==z){Y=!0;const Q=2*o[0];p.middle=p.left-=Q,p.right-=Q+2}Y===!0&&(q=ul(p,w,a,i),ho(q,p,w,a,i))}y={top:q.top+"px",left:q.left+"px"},q.maxHeight!==void 0&&(y.maxHeight=q.maxHeight+"px",p.height>q.maxHeight&&(y.minHeight=y.maxHeight)),q.maxWidth!==void 0&&(y.maxWidth=q.maxWidth+"px",p.width>q.maxWidth&&(y.minWidth=y.maxWidth)),Object.assign(n.style,y),n.scrollTop!==f&&(n.scrollTop=f),n.scrollLeft!==m&&(n.scrollLeft=m)}function ho(e,t,n,o,l){const a=n.bottom,i=n.right,r=ti(),u=window.innerHeight-r,s=document.body.clientWidth;if(e.top<0||e.top+a>u)if(l.vertical==="center")e.top=t[o.vertical]>u/2?Math.max(0,u-a):0,e.maxHeight=Math.min(a,u);else if(t[o.vertical]>u/2){const c=Math.min(u,o.vertical==="center"?t.center:o.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,c),e.top=Math.max(0,c-a)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,u-e.top);if(e.left<0||e.left+i>s)if(e.maxWidth=Math.min(i,s),l.horizontal==="middle")e.left=t[o.horizontal]>s/2?Math.max(0,s-i):0;else if(t[o.horizontal]>s/2){const c=Math.min(s,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(i,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(i,s-e.left)}const zn=He({name:"QTooltip",inheritAttrs:!1,props:{...ta,...Bl,...bn,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...bn.transitionShow,default:"jump-down"},transitionHide:{...bn.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Qn},self:{type:String,default:"top middle",validator:Qn},offset:{type:Array,default:()=>[14,14],validator:aa},scrollTarget:Ol,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Il],setup(e,{slots:t,emit:n,attrs:o}){let l,a;const i=Ue(),{proxy:{$q:r}}=i,u=I(null),s=I(!1),c=b(()=>Gn(e.anchor,r.lang.rtl)),h=b(()=>Gn(e.self,r.lang.rtl)),m=b(()=>e.persistent!==!0),{registerTick:f,removeTick:p}=yn(),{registerTimeout:C}=Tn(),{transitionProps:k,transitionStyle:P}=Ml(e),{localScrollTarget:V,changeScrollEvent:y,unconfigureScrollTarget:w}=oa(e,Ie),{anchorEl:q,canShow:D,anchorEvents:z}=na({showing:s,configureAnchorEl:ke}),{show:Y,hide:Q}=Vl({showing:s,canShow:D,handleShow:se,handleHide:F,hideOnRouteChange:m,processOnMount:!0});Object.assign(z,{delayShow:ve,delayHide:Se});const{showPortal:ce,hidePortal:ae,renderPortal:te}=$l(i,u,B,"tooltip");if(r.platform.is.mobile===!0){const R={anchorEl:q,innerRef:u,onClickOutside(ue){return Q(ue),ue.target.classList.contains("q-dialog__backdrop")&&Ye(ue),!0}},ee=b(()=>e.modelValue===null&&e.persistent!==!0&&s.value===!0);fe(ee,ue=>{(ue===!0?la:Yn)(R)}),et(()=>{Yn(R)})}function se(R){ce(),f(()=>{a=new MutationObserver(()=>L()),a.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),L(),Ie()}),l===void 0&&(l=fe(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,L)),C(()=>{ce(!0),n("show",R)},e.transitionDuration)}function F(R){p(),ae(),W(),C(()=>{ae(!0),n("hide",R)},e.transitionDuration)}function W(){a!==void 0&&(a.disconnect(),a=void 0),l!==void 0&&(l(),l=void 0),w(),St(z,"tooltipTemp")}function L(){zo({targetEl:u.value,offset:e.offset,anchorEl:q.value,anchorOrigin:c.value,selfOrigin:h.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ve(R){if(r.platform.is.mobile===!0){qn(),document.body.classList.add("non-selectable");const ee=q.value,ue=["touchmove","touchcancel","touchend","click"].map(d=>[ee,d,"delayHide","passiveCapture"]);ct(z,"tooltipTemp",ue)}C(()=>{Y(R)},e.delay)}function Se(R){r.platform.is.mobile===!0&&(St(z,"tooltipTemp"),qn(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),C(()=>{Q(R)},e.hideDelay)}function ke(){if(e.noParentEvent===!0||q.value===null)return;const R=r.platform.is.mobile===!0?[[q.value,"touchstart","delayShow","passive"]]:[[q.value,"mouseenter","delayShow","passive"],[q.value,"mouseleave","delayHide","passive"]];ct(z,"anchor",R)}function Ie(){if(q.value!==null||e.scrollTarget!==void 0){V.value=Ll(q.value,e.scrollTarget);const R=e.noParentEvent===!0?L:Q;y(V.value,R)}}function _(){return s.value===!0?S("div",{...o,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,P.value],role:"tooltip"},ht(t.default)):null}function B(){return S(io,k.value,_)}return et(W),Object.assign(i.proxy,{updatePosition:L}),te}}),sl=He({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let o=!1,l,a,i=null,r=null,u,s;function c(){l?.(),l=null,o=!1,i!==null&&(clearTimeout(i),i=null),r!==null&&(clearTimeout(r),r=null),a?.removeEventListener("transitionend",u),u=null}function h(C,k,P){k!==void 0&&(C.style.height=`${k}px`),C.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,l=P}function m(C,k){C.style.overflowY=null,C.style.height=null,C.style.transition=null,c(),k!==s&&n(k)}function f(C,k){let P=0;a=C,o===!0?(c(),P=C.offsetHeight===C.scrollHeight?0:void 0):(s="hide",C.style.overflowY="hidden"),h(C,P,k),i=setTimeout(()=>{i=null,C.style.height=`${C.scrollHeight}px`,u=V=>{r=null,(Object(V)!==V||V.target===C)&&m(C,"show")},C.addEventListener("transitionend",u),r=setTimeout(u,e.duration*1.1)},100)}function p(C,k){let P;a=C,o===!0?c():(s="show",C.style.overflowY="hidden",P=C.scrollHeight),h(C,P,k),i=setTimeout(()=>{i=null,C.style.height=0,u=V=>{r=null,(Object(V)!==V||V.target===C)&&m(C,"hide")},C.addEventListener("transitionend",u),r=setTimeout(u,e.duration*1.1)},100)}return et(()=>{o===!0&&c()}),()=>S(io,{css:!1,appear:e.appear,onEnter:f,onLeave:p},t.default)}});/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cl(Object(n),!0).forEach(function(o){Li(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Nn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nn=function(t){return typeof t}:Nn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(){return Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Et.apply(this,arguments)}function Ri(e,t){if(e==null)return{};var n={},o=Object.keys(e),l,a;for(a=0;a<o.length;a++)l=o[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Fi(e,t){if(e==null)return{};var n=Ri(e,t),o,l;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)o=a[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var zi="1.15.6";function kt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Tt=kt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),On=kt(/Edge/i),dl=kt(/firefox/i),Sn=kt(/safari/i)&&!kt(/chrome/i)&&!kt(/android/i),No=kt(/iP(ad|od|hone)/i),ia=kt(/chrome/i)&&kt(/android/i),ra={capture:!1,passive:!1};function be(e,t,n){e.addEventListener(t,n,!Tt&&ra)}function he(e,t,n){e.removeEventListener(t,n,!Tt&&ra)}function Jn(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function ua(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function vt(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Jn(e,t):Jn(e,t))||o&&e===n)return e;if(e===n)break}while(e=ua(e))}return null}var fl=/\s+/g;function it(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(fl," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(fl," ")}}function J(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function on(e,t){var n="";if(typeof e=="string")n=e;else do{var o=J(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function sa(e,t,n){if(e){var o=e.getElementsByTagName(t),l=0,a=o.length;if(n)for(;l<a;l++)n(o[l],l);return o}return[]}function pt(){var e=document.scrollingElement;return e||document.documentElement}function Fe(e,t,n,o,l){if(!(!e.getBoundingClientRect&&e!==window)){var a,i,r,u,s,c,h;if(e!==window&&e.parentNode&&e!==pt()?(a=e.getBoundingClientRect(),i=a.top,r=a.left,u=a.bottom,s=a.right,c=a.height,h=a.width):(i=0,r=0,u=window.innerHeight,s=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(l=l||e.parentNode,!Tt))do if(l&&l.getBoundingClientRect&&(J(l,"transform")!=="none"||n&&J(l,"position")!=="static")){var m=l.getBoundingClientRect();i-=m.top+parseInt(J(l,"border-top-width")),r-=m.left+parseInt(J(l,"border-left-width")),u=i+a.height,s=r+a.width;break}while(l=l.parentNode);if(o&&e!==window){var f=on(l||e),p=f&&f.a,C=f&&f.d;f&&(i/=C,r/=p,h/=p,c/=C,u=i+c,s=r+h)}return{top:i,left:r,bottom:u,right:s,width:h,height:c}}}function vl(e,t,n){for(var o=It(e,!0),l=Fe(e)[t];o;){var a=Fe(o)[n],i=void 0;if(i=l>=a,!i)return o;if(o===pt())break;o=It(o,!1)}return!1}function rn(e,t,n,o){for(var l=0,a=0,i=e.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==Z.ghost&&(o||i[a]!==Z.dragged)&&vt(i[a],n.draggable,e,!1)){if(l===t)return i[a];l++}a++}return null}function Ho(e,t){for(var n=e.lastElementChild;n&&(n===Z.ghost||J(n,"display")==="none"||t&&!Jn(n,t));)n=n.previousElementSibling;return n||null}function st(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Z.clone&&(!t||Jn(e,t))&&n++;return n}function ml(e){var t=0,n=0,o=pt();if(e)do{var l=on(e),a=l.a,i=l.d;t+=e.scrollLeft*a,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function Ni(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function It(e,t){if(!e||!e.getBoundingClientRect)return pt();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=J(n);if(n.clientWidth<n.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return pt();if(o||t)return n;o=!0}}while(n=n.parentNode);return pt()}function Hi(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function po(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var wn;function ca(e,t){return function(){if(!wn){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),wn=setTimeout(function(){wn=void 0},t)}}}function ji(){clearTimeout(wn),wn=void 0}function da(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function fa(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function va(e,t,n){var o={};return Array.from(e.children).forEach(function(l){var a,i,r,u;if(!(!vt(l,t.draggable,e,!1)||l.animated||l===n)){var s=Fe(l);o.left=Math.min((a=o.left)!==null&&a!==void 0?a:1/0,s.left),o.top=Math.min((i=o.top)!==null&&i!==void 0?i:1/0,s.top),o.right=Math.max((r=o.right)!==null&&r!==void 0?r:-1/0,s.right),o.bottom=Math.max((u=o.bottom)!==null&&u!==void 0?u:-1/0,s.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var at="Sortable"+new Date().getTime();function Ui(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(l){if(!(J(l,"display")==="none"||l===Z.ghost)){e.push({target:l,rect:Fe(l)});var a=bt({},e[e.length-1].rect);if(l.thisAnimationDuration){var i=on(l,!0);i&&(a.top-=i.f,a.left-=i.e)}l.fromRect=a}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Ni(e,{target:o}),1)},animateAll:function(o){var l=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var a=!1,i=0;e.forEach(function(r){var u=0,s=r.target,c=s.fromRect,h=Fe(s),m=s.prevFromRect,f=s.prevToRect,p=r.rect,C=on(s,!0);C&&(h.top-=C.f,h.left-=C.e),s.toRect=h,s.thisAnimationDuration&&po(m,h)&&!po(c,h)&&(p.top-h.top)/(p.left-h.left)===(c.top-h.top)/(c.left-h.left)&&(u=Ki(p,m,f,l.options)),po(h,c)||(s.prevFromRect=c,s.prevToRect=h,u||(u=l.options.animation),l.animate(s,p,h,u)),u&&(a=!0,i=Math.max(i,u),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},u),s.thisAnimationDuration=u)}),clearTimeout(t),a?t=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),e=[]},animate:function(o,l,a,i){if(i){J(o,"transition",""),J(o,"transform","");var r=on(this.el),u=r&&r.a,s=r&&r.d,c=(l.left-a.left)/(u||1),h=(l.top-a.top)/(s||1);o.animatingX=!!c,o.animatingY=!!h,J(o,"transform","translate3d("+c+"px,"+h+"px,0)"),this.forRepaintDummy=Wi(o),J(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),J(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){J(o,"transition",""),J(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function Wi(e){return e.offsetWidth}function Ki(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Qt=[],bo={initializeByDefault:!0},Bn={mount:function(t){for(var n in bo)bo.hasOwnProperty(n)&&!(n in t)&&(t[n]=bo[n]);Qt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Qt.push(t)},pluginEvent:function(t,n,o){var l=this;this.eventCanceled=!1,o.cancel=function(){l.eventCanceled=!0};var a=t+"Global";Qt.forEach(function(i){n[i.pluginName]&&(n[i.pluginName][a]&&n[i.pluginName][a](bt({sortable:n},o)),n.options[i.pluginName]&&n[i.pluginName][t]&&n[i.pluginName][t](bt({sortable:n},o)))})},initializePlugins:function(t,n,o,l){Qt.forEach(function(r){var u=r.pluginName;if(!(!t.options[u]&&!r.initializeByDefault)){var s=new r(t,n,t.options);s.sortable=t,s.options=t.options,t[u]=s,Et(o,s.defaults)}});for(var a in t.options)if(t.options.hasOwnProperty(a)){var i=this.modifyOption(t,a,t.options[a]);typeof i<"u"&&(t.options[a]=i)}},getEventProperties:function(t,n){var o={};return Qt.forEach(function(l){typeof l.eventProperties=="function"&&Et(o,l.eventProperties.call(n[l.pluginName],t))}),o},modifyOption:function(t,n,o){var l;return Qt.forEach(function(a){t[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[n]=="function"&&(l=a.optionListeners[n].call(t[a.pluginName],o))}),l}};function Xi(e){var t=e.sortable,n=e.rootEl,o=e.name,l=e.targetEl,a=e.cloneEl,i=e.toEl,r=e.fromEl,u=e.oldIndex,s=e.newIndex,c=e.oldDraggableIndex,h=e.newDraggableIndex,m=e.originalEvent,f=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[at],!!t){var C,k=t.options,P="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Tt&&!On?C=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(C=document.createEvent("Event"),C.initEvent(o,!0,!0)),C.to=i||n,C.from=r||n,C.item=l||n,C.clone=a,C.oldIndex=u,C.newIndex=s,C.oldDraggableIndex=c,C.newDraggableIndex=h,C.originalEvent=m,C.pullMode=f?f.lastPutMode:void 0;var V=bt(bt({},p),Bn.getEventProperties(o,t));for(var y in V)C[y]=V[y];n&&n.dispatchEvent(C),k[P]&&k[P].call(t,C)}}var Yi=["evt"],lt=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=o.evt,a=Fi(o,Yi);Bn.pluginEvent.bind(Z)(t,n,bt({dragEl:$,parentEl:Me,ghostEl:le,rootEl:Ae,nextEl:$t,lastDownEl:Hn,cloneEl:Pe,cloneHidden:Pt,dragStarted:gn,putSortable:Xe,activeSortable:Z.active,originalEvent:l,oldIndex:en,oldDraggableIndex:kn,newIndex:rt,newDraggableIndex:At,hideGhostForTarget:pa,unhideGhostForTarget:ba,cloneNowHidden:function(){Pt=!0},cloneNowShown:function(){Pt=!1},dispatchSortableEvent:function(r){tt({sortable:n,name:r,originalEvent:l})}},a))};function tt(e){Xi(bt({putSortable:Xe,cloneEl:Pe,targetEl:$,rootEl:Ae,oldIndex:en,oldDraggableIndex:kn,newIndex:rt,newDraggableIndex:At},e))}var $,Me,le,Ae,$t,Hn,Pe,Pt,en,rt,kn,At,$n,Xe,Zt=!1,Zn=!1,eo=[],Mt,ft,yo,Co,gl,hl,gn,Gt,xn,_n=!1,Ln=!1,jn,Ge,So=[],Bo=!1,to=[],so=typeof document<"u",Rn=No,pl=On||Tt?"cssFloat":"float",Qi=so&&!ia&&!No&&"draggable"in document.createElement("div"),ma=(function(){if(so){if(Tt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),ga=function(t,n){var o=J(t),l=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),a=rn(t,0,n),i=rn(t,1,n),r=a&&J(a),u=i&&J(i),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Fe(a).width,c=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Fe(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&r.float&&r.float!=="none"){var h=r.float==="left"?"left":"right";return i&&(u.clear==="both"||u.clear===h)?"vertical":"horizontal"}return a&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||s>=l&&o[pl]==="none"||i&&o[pl]==="none"&&s+c>l)?"vertical":"horizontal"},Gi=function(t,n,o){var l=o?t.left:t.top,a=o?t.right:t.bottom,i=o?t.width:t.height,r=o?n.left:n.top,u=o?n.right:n.bottom,s=o?n.width:n.height;return l===r||a===u||l+i/2===r+s/2},Ji=function(t,n){var o;return eo.some(function(l){var a=l[at].options.emptyInsertThreshold;if(!(!a||Ho(l))){var i=Fe(l),r=t>=i.left-a&&t<=i.right+a,u=n>=i.top-a&&n<=i.bottom+a;if(r&&u)return o=l}}),o},ha=function(t){function n(a,i){return function(r,u,s,c){var h=r.options.group.name&&u.options.group.name&&r.options.group.name===u.options.group.name;if(a==null&&(i||h))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return n(a(r,u,s,c),i)(r,u,s,c);var m=(i?r:u).options.group.name;return a===!0||typeof a=="string"&&a===m||a.join&&a.indexOf(m)>-1}}var o={},l=t.group;(!l||Nn(l)!="object")&&(l={name:l}),o.name=l.name,o.checkPull=n(l.pull,!0),o.checkPut=n(l.put),o.revertClone=l.revertClone,t.group=o},pa=function(){!ma&&le&&J(le,"display","none")},ba=function(){!ma&&le&&J(le,"display","")};so&&!ia&&document.addEventListener("click",function(e){if(Zn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Zn=!1,!1},!0);var Vt=function(t){if($){t=t.touches?t.touches[0]:t;var n=Ji(t.clientX,t.clientY);if(n){var o={};for(var l in t)t.hasOwnProperty(l)&&(o[l]=t[l]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[at]._onDragOver(o)}}},Zi=function(t){$&&$.parentNode[at]._isOutsideThisEl(t.target)};function Z(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Et({},t),e[at]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ga(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,r){i.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Z.supportPointer!==!1&&"PointerEvent"in window&&(!Sn||No),emptyInsertThreshold:5};Bn.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);ha(t);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=t.forceFallback?!1:Qi,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?be(e,"pointerdown",this._onTapStart):(be(e,"mousedown",this._onTapStart),be(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(be(e,"dragover",this),be(e,"dragenter",this)),eo.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Et(this,Ui())}Z.prototype={constructor:Z,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Gt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,$):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,o=this.el,l=this.options,a=l.preventOnFilter,i=t.type,r=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(r||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,c=l.filter;if(rr(o),!$&&!(/mousedown|pointerdown/.test(i)&&t.button!==0||l.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Sn&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=vt(u,l.draggable,o,!1),!(u&&u.animated)&&Hn!==u)){if(en=st(u),kn=st(u,l.draggable),typeof c=="function"){if(c.call(this,t,u,this)){tt({sortable:n,rootEl:s,name:"filter",targetEl:u,toEl:o,fromEl:o}),lt("filter",n,{evt:t}),a&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(h){if(h=vt(s,h.trim(),o,!1),h)return tt({sortable:n,rootEl:h,name:"filter",targetEl:u,fromEl:o,toEl:o}),lt("filter",n,{evt:t}),!0}),c)){a&&t.preventDefault();return}l.handle&&!vt(s,l.handle,o,!1)||this._prepareDragStart(t,r,u)}}},_prepareDragStart:function(t,n,o){var l=this,a=l.el,i=l.options,r=a.ownerDocument,u;if(o&&!$&&o.parentNode===a){var s=Fe(o);if(Ae=a,$=o,Me=$.parentNode,$t=$.nextSibling,Hn=o,$n=i.group,Z.dragged=$,Mt={target:$,clientX:(n||t).clientX,clientY:(n||t).clientY},gl=Mt.clientX-s.left,hl=Mt.clientY-s.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,$.style["will-change"]="all",u=function(){if(lt("delayEnded",l,{evt:t}),Z.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!dl&&l.nativeDraggable&&($.draggable=!0),l._triggerDragStart(t,n),tt({sortable:l,name:"choose",originalEvent:t}),it($,i.chosenClass,!0)},i.ignore.split(",").forEach(function(c){sa($,c.trim(),wo)}),be(r,"dragover",Vt),be(r,"mousemove",Vt),be(r,"touchmove",Vt),i.supportPointer?(be(r,"pointerup",l._onDrop),!this.nativeDraggable&&be(r,"pointercancel",l._onDrop)):(be(r,"mouseup",l._onDrop),be(r,"touchend",l._onDrop),be(r,"touchcancel",l._onDrop)),dl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),lt("delayStart",this,{evt:t}),i.delay&&(!i.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(On||Tt))){if(Z.eventCanceled){this._onDrop();return}i.supportPointer?(be(r,"pointerup",l._disableDelayedDrag),be(r,"pointercancel",l._disableDelayedDrag)):(be(r,"mouseup",l._disableDelayedDrag),be(r,"touchend",l._disableDelayedDrag),be(r,"touchcancel",l._disableDelayedDrag)),be(r,"mousemove",l._delayedDragTouchMoveHandler),be(r,"touchmove",l._delayedDragTouchMoveHandler),i.supportPointer&&be(r,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(u,i.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&wo($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;he(t,"mouseup",this._disableDelayedDrag),he(t,"touchend",this._disableDelayedDrag),he(t,"touchcancel",this._disableDelayedDrag),he(t,"pointerup",this._disableDelayedDrag),he(t,"pointercancel",this._disableDelayedDrag),he(t,"mousemove",this._delayedDragTouchMoveHandler),he(t,"touchmove",this._delayedDragTouchMoveHandler),he(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?be(document,"pointermove",this._onTouchMove):n?be(document,"touchmove",this._onTouchMove):be(document,"mousemove",this._onTouchMove):(be($,"dragend",this),be(Ae,"dragstart",this._onDragStart));try{document.selection?Un(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Zt=!1,Ae&&$){lt("dragStarted",this,{evt:n}),this.nativeDraggable&&be(document,"dragover",Zi);var o=this.options;!t&&it($,o.dragClass,!1),it($,o.ghostClass,!0),Z.active=this,t&&this._appendGhost(),tt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(ft){this._lastX=ft.clientX,this._lastY=ft.clientY,pa();for(var t=document.elementFromPoint(ft.clientX,ft.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ft.clientX,ft.clientY),t!==n);)n=t;if($.parentNode[at]._isOutsideThisEl(t),n)do{if(n[at]){var o=void 0;if(o=n[at]._onDragOver({clientX:ft.clientX,clientY:ft.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=ua(n));ba()}},_onTouchMove:function(t){if(Mt){var n=this.options,o=n.fallbackTolerance,l=n.fallbackOffset,a=t.touches?t.touches[0]:t,i=le&&on(le,!0),r=le&&i&&i.a,u=le&&i&&i.d,s=Rn&&Ge&&ml(Ge),c=(a.clientX-Mt.clientX+l.x)/(r||1)+(s?s[0]-So[0]:0)/(r||1),h=(a.clientY-Mt.clientY+l.y)/(u||1)+(s?s[1]-So[1]:0)/(u||1);if(!Z.active&&!Zt){if(o&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(le){i?(i.e+=c-(yo||0),i.f+=h-(Co||0)):i={a:1,b:0,c:0,d:1,e:c,f:h};var m="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");J(le,"webkitTransform",m),J(le,"mozTransform",m),J(le,"msTransform",m),J(le,"transform",m),yo=c,Co=h,ft=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!le){var t=this.options.fallbackOnBody?document.body:Ae,n=Fe($,!0,Rn,!0,t),o=this.options;if(Rn){for(Ge=t;J(Ge,"position")==="static"&&J(Ge,"transform")==="none"&&Ge!==document;)Ge=Ge.parentNode;Ge!==document.body&&Ge!==document.documentElement?(Ge===document&&(Ge=pt()),n.top+=Ge.scrollTop,n.left+=Ge.scrollLeft):Ge=pt(),So=ml(Ge)}le=$.cloneNode(!0),it(le,o.ghostClass,!1),it(le,o.fallbackClass,!0),it(le,o.dragClass,!0),J(le,"transition",""),J(le,"transform",""),J(le,"box-sizing","border-box"),J(le,"margin",0),J(le,"top",n.top),J(le,"left",n.left),J(le,"width",n.width),J(le,"height",n.height),J(le,"opacity","0.8"),J(le,"position",Rn?"absolute":"fixed"),J(le,"zIndex","100000"),J(le,"pointerEvents","none"),Z.ghost=le,t.appendChild(le),J(le,"transform-origin",gl/parseInt(le.style.width)*100+"% "+hl/parseInt(le.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,l=t.dataTransfer,a=o.options;if(lt("dragStart",this,{evt:t}),Z.eventCanceled){this._onDrop();return}lt("setupClone",this),Z.eventCanceled||(Pe=fa($),Pe.removeAttribute("id"),Pe.draggable=!1,Pe.style["will-change"]="",this._hideClone(),it(Pe,this.options.chosenClass,!1),Z.clone=Pe),o.cloneId=Un(function(){lt("clone",o),!Z.eventCanceled&&(o.options.removeCloneOnHide||Ae.insertBefore(Pe,$),o._hideClone(),tt({sortable:o,name:"clone"}))}),!n&&it($,a.dragClass,!0),n?(Zn=!0,o._loopId=setInterval(o._emulateDragOver,50)):(he(document,"mouseup",o._onDrop),he(document,"touchend",o._onDrop),he(document,"touchcancel",o._onDrop),l&&(l.effectAllowed="move",a.setData&&a.setData.call(o,l,$)),be(document,"drop",o),J($,"transform","translateZ(0)")),Zt=!0,o._dragStartId=Un(o._dragStarted.bind(o,n,t)),be(document,"selectstart",o),gn=!0,window.getSelection().removeAllRanges(),Sn&&J(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,l,a,i,r=this.options,u=r.group,s=Z.active,c=$n===u,h=r.sort,m=Xe||s,f,p=this,C=!1;if(Bo)return;function k(Se,ke){lt(Se,p,bt({evt:t,isOwner:c,axis:f?"vertical":"horizontal",revert:i,dragRect:l,targetRect:a,canSort:h,fromSortable:m,target:o,completed:V,onMove:function(_,B){return Fn(Ae,n,$,l,_,Fe(_),t,B)},changed:y},ke))}function P(){k("dragOverAnimationCapture"),p.captureAnimationState(),p!==m&&m.captureAnimationState()}function V(Se){return k("dragOverCompleted",{insertion:Se}),Se&&(c?s._hideClone():s._showClone(p),p!==m&&(it($,Xe?Xe.options.ghostClass:s.options.ghostClass,!1),it($,r.ghostClass,!0)),Xe!==p&&p!==Z.active?Xe=p:p===Z.active&&Xe&&(Xe=null),m===p&&(p._ignoreWhileAnimating=o),p.animateAll(function(){k("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(o===$&&!$.animated||o===n&&!o.animated)&&(Gt=null),!r.dragoverBubble&&!t.rootEl&&o!==document&&($.parentNode[at]._isOutsideThisEl(t.target),!Se&&Vt(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),C=!0}function y(){rt=st($),At=st($,r.draggable),tt({sortable:p,name:"change",toEl:n,newIndex:rt,newDraggableIndex:At,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=vt(o,r.draggable,n,!0),k("dragOver"),Z.eventCanceled)return C;if($.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||p._ignoreWhileAnimating===o)return V(!1);if(Zn=!1,s&&!r.disabled&&(c?h||(i=Me!==Ae):Xe===this||(this.lastPutMode=$n.checkPull(this,s,$,t))&&u.checkPut(this,s,$,t))){if(f=this._getDirection(t,o)==="vertical",l=Fe($),k("dragOverValid"),Z.eventCanceled)return C;if(i)return Me=Ae,P(),this._hideClone(),k("revert"),Z.eventCanceled||($t?Ae.insertBefore($,$t):Ae.appendChild($)),V(!0);var w=Ho(n,r.draggable);if(!w||or(t,f,this)&&!w.animated){if(w===$)return V(!1);if(w&&n===t.target&&(o=w),o&&(a=Fe(o)),Fn(Ae,n,$,l,o,a,t,!!o)!==!1)return P(),w&&w.nextSibling?n.insertBefore($,w.nextSibling):n.appendChild($),Me=n,y(),V(!0)}else if(w&&nr(t,f,this)){var q=rn(n,0,r,!0);if(q===$)return V(!1);if(o=q,a=Fe(o),Fn(Ae,n,$,l,o,a,t,!1)!==!1)return P(),n.insertBefore($,q),Me=n,y(),V(!0)}else if(o.parentNode===n){a=Fe(o);var D=0,z,Y=$.parentNode!==n,Q=!Gi($.animated&&$.toRect||l,o.animated&&o.toRect||a,f),ce=f?"top":"left",ae=vl(o,"top","top")||vl($,"top","top"),te=ae?ae.scrollTop:void 0;Gt!==o&&(z=a[ce],_n=!1,Ln=!Q&&r.invertSwap||Y),D=lr(t,o,a,f,Q?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,Ln,Gt===o);var se;if(D!==0){var F=st($);do F-=D,se=Me.children[F];while(se&&(J(se,"display")==="none"||se===le))}if(D===0||se===o)return V(!1);Gt=o,xn=D;var W=o.nextElementSibling,L=!1;L=D===1;var ve=Fn(Ae,n,$,l,o,a,t,L);if(ve!==!1)return(ve===1||ve===-1)&&(L=ve===1),Bo=!0,setTimeout(tr,30),P(),L&&!W?n.appendChild($):o.parentNode.insertBefore($,L?W:o),ae&&da(ae,0,te-ae.scrollTop),Me=$.parentNode,z!==void 0&&!Ln&&(jn=Math.abs(z-Fe(o)[ce])),y(),V(!0)}if(n.contains($))return V(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){he(document,"mousemove",this._onTouchMove),he(document,"touchmove",this._onTouchMove),he(document,"pointermove",this._onTouchMove),he(document,"dragover",Vt),he(document,"mousemove",Vt),he(document,"touchmove",Vt)},_offUpEvents:function(){var t=this.el.ownerDocument;he(t,"mouseup",this._onDrop),he(t,"touchend",this._onDrop),he(t,"pointerup",this._onDrop),he(t,"pointercancel",this._onDrop),he(t,"touchcancel",this._onDrop),he(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(rt=st($),At=st($,o.draggable),lt("drop",this,{evt:t}),Me=$&&$.parentNode,rt=st($),At=st($,o.draggable),Z.eventCanceled){this._nulling();return}Zt=!1,Ln=!1,_n=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Mo(this.cloneId),Mo(this._dragStartId),this.nativeDraggable&&(he(document,"drop",this),he(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Sn&&J(document.body,"user-select",""),J($,"transform",""),t&&(gn&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),le&&le.parentNode&&le.parentNode.removeChild(le),(Ae===Me||Xe&&Xe.lastPutMode!=="clone")&&Pe&&Pe.parentNode&&Pe.parentNode.removeChild(Pe),$&&(this.nativeDraggable&&he($,"dragend",this),wo($),$.style["will-change"]="",gn&&!Zt&&it($,Xe?Xe.options.ghostClass:this.options.ghostClass,!1),it($,this.options.chosenClass,!1),tt({sortable:this,name:"unchoose",toEl:Me,newIndex:null,newDraggableIndex:null,originalEvent:t}),Ae!==Me?(rt>=0&&(tt({rootEl:Me,name:"add",toEl:Me,fromEl:Ae,originalEvent:t}),tt({sortable:this,name:"remove",toEl:Me,originalEvent:t}),tt({rootEl:Me,name:"sort",toEl:Me,fromEl:Ae,originalEvent:t}),tt({sortable:this,name:"sort",toEl:Me,originalEvent:t})),Xe&&Xe.save()):rt!==en&&rt>=0&&(tt({sortable:this,name:"update",toEl:Me,originalEvent:t}),tt({sortable:this,name:"sort",toEl:Me,originalEvent:t})),Z.active&&((rt==null||rt===-1)&&(rt=en,At=kn),tt({sortable:this,name:"end",toEl:Me,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){lt("nulling",this),Ae=$=Me=le=$t=Pe=Hn=Pt=Mt=ft=gn=rt=At=en=kn=Gt=xn=Xe=$n=Z.dragged=Z.ghost=Z.clone=Z.active=null,to.forEach(function(t){t.checked=!0}),to.length=yo=Co=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":$&&(this._onDragOver(t),er(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,l=0,a=o.length,i=this.options;l<a;l++)n=o[l],vt(n,i.draggable,this.el,!1)&&t.push(n.getAttribute(i.dataIdAttr)||ir(n));return t},sort:function(t,n){var o={},l=this.el;this.toArray().forEach(function(a,i){var r=l.children[i];vt(r,this.options.draggable,l,!1)&&(o[a]=r)},this),n&&this.captureAnimationState(),t.forEach(function(a){o[a]&&(l.removeChild(o[a]),l.appendChild(o[a]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return vt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var l=Bn.modifyOption(this,t,n);typeof l<"u"?o[t]=l:o[t]=n,t==="group"&&ha(o)},destroy:function(){lt("destroy",this);var t=this.el;t[at]=null,he(t,"mousedown",this._onTapStart),he(t,"touchstart",this._onTapStart),he(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(he(t,"dragover",this),he(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),eo.splice(eo.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Pt){if(lt("hideClone",this),Z.eventCanceled)return;J(Pe,"display","none"),this.options.removeCloneOnHide&&Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Pt){if(lt("showClone",this),Z.eventCanceled)return;$.parentNode==Ae&&!this.options.group.revertClone?Ae.insertBefore(Pe,$):$t?Ae.insertBefore(Pe,$t):Ae.appendChild(Pe),this.options.group.revertClone&&this.animate($,Pe),J(Pe,"display",""),Pt=!1}}};function er(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Fn(e,t,n,o,l,a,i,r){var u,s=e[at],c=s.options.onMove,h;return window.CustomEvent&&!Tt&&!On?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=o,u.related=l||t,u.relatedRect=a||Fe(t),u.willInsertAfter=r,u.originalEvent=i,e.dispatchEvent(u),c&&(h=c.call(s,u,i)),h}function wo(e){e.draggable=!1}function tr(){Bo=!1}function nr(e,t,n){var o=Fe(rn(n.el,0,n.options,!0)),l=va(n.el,n.options,le),a=10;return t?e.clientX<l.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<l.top-a||e.clientY<o.bottom&&e.clientX<o.left}function or(e,t,n){var o=Fe(Ho(n.el,n.options.draggable)),l=va(n.el,n.options,le),a=10;return t?e.clientX>l.right+a||e.clientY>o.bottom&&e.clientX>o.left:e.clientY>l.bottom+a||e.clientX>o.right&&e.clientY>o.top}function lr(e,t,n,o,l,a,i,r){var u=o?e.clientY:e.clientX,s=o?n.height:n.width,c=o?n.top:n.left,h=o?n.bottom:n.right,m=!1;if(!i){if(r&&jn<s*l){if(!_n&&(xn===1?u>c+s*a/2:u<h-s*a/2)&&(_n=!0),_n)m=!0;else if(xn===1?u<c+jn:u>h-jn)return-xn}else if(u>c+s*(1-l)/2&&u<h-s*(1-l)/2)return ar(t)}return m=m||i,m&&(u<c+s*a/2||u>h-s*a/2)?u>c+s/2?1:-1:0}function ar(e){return st($)<st(e)?1:-1}function ir(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function rr(e){to.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&to.push(o)}}function Un(e){return setTimeout(e,0)}function Mo(e){return clearTimeout(e)}so&&be(document,"touchmove",function(e){(Z.active||Zt)&&e.cancelable&&e.preventDefault()});Z.utils={on:be,off:he,css:J,find:sa,is:function(t,n){return!!vt(t,n,t,!1)},extend:Hi,throttle:ca,closest:vt,toggleClass:it,clone:fa,index:st,nextTick:Un,cancelNextTick:Mo,detectDirection:ga,getChild:rn,expando:at};Z.get=function(e){return e[at]};Z.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(Z.utils=bt(bt({},Z.utils),o.utils)),Bn.mount(o)})};Z.create=function(e,t){return new Z(e,t)};Z.version=zi;var Re=[],hn,Vo,$o=!1,ko,xo,no,pn;function ur(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?be(document,"dragover",this._handleAutoScroll):this.options.supportPointer?be(document,"pointermove",this._handleFallbackAutoScroll):o.touches?be(document,"touchmove",this._handleFallbackAutoScroll):be(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?he(document,"dragover",this._handleAutoScroll):(he(document,"pointermove",this._handleFallbackAutoScroll),he(document,"touchmove",this._handleFallbackAutoScroll),he(document,"mousemove",this._handleFallbackAutoScroll)),bl(),Wn(),ji()},nulling:function(){no=Vo=hn=$o=pn=ko=xo=null,Re.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var l=this,a=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,r=document.elementFromPoint(a,i);if(no=n,o||this.options.forceAutoScrollFallback||On||Tt||Sn){_o(n,this.options,r,o);var u=It(r,!0);$o&&(!pn||a!==ko||i!==xo)&&(pn&&bl(),pn=setInterval(function(){var s=It(document.elementFromPoint(a,i),!0);s!==u&&(u=s,Wn()),_o(n,l.options,s,o)},10),ko=a,xo=i)}else{if(!this.options.bubbleScroll||It(r,!0)===pt()){Wn();return}_o(n,this.options,It(r,!1),!1)}}},Et(e,{pluginName:"scroll",initializeByDefault:!0})}function Wn(){Re.forEach(function(e){clearInterval(e.pid)}),Re=[]}function bl(){clearInterval(pn)}var _o=ca(function(e,t,n,o){if(t.scroll){var l=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,r=t.scrollSpeed,u=pt(),s=!1,c;Vo!==n&&(Vo=n,Wn(),hn=t.scroll,c=t.scrollFn,hn===!0&&(hn=It(n,!0)));var h=0,m=hn;do{var f=m,p=Fe(f),C=p.top,k=p.bottom,P=p.left,V=p.right,y=p.width,w=p.height,q=void 0,D=void 0,z=f.scrollWidth,Y=f.scrollHeight,Q=J(f),ce=f.scrollLeft,ae=f.scrollTop;f===u?(q=y<z&&(Q.overflowX==="auto"||Q.overflowX==="scroll"||Q.overflowX==="visible"),D=w<Y&&(Q.overflowY==="auto"||Q.overflowY==="scroll"||Q.overflowY==="visible")):(q=y<z&&(Q.overflowX==="auto"||Q.overflowX==="scroll"),D=w<Y&&(Q.overflowY==="auto"||Q.overflowY==="scroll"));var te=q&&(Math.abs(V-l)<=i&&ce+y<z)-(Math.abs(P-l)<=i&&!!ce),se=D&&(Math.abs(k-a)<=i&&ae+w<Y)-(Math.abs(C-a)<=i&&!!ae);if(!Re[h])for(var F=0;F<=h;F++)Re[F]||(Re[F]={});(Re[h].vx!=te||Re[h].vy!=se||Re[h].el!==f)&&(Re[h].el=f,Re[h].vx=te,Re[h].vy=se,clearInterval(Re[h].pid),(te!=0||se!=0)&&(s=!0,Re[h].pid=setInterval((function(){o&&this.layer===0&&Z.active._onTouchMove(no);var W=Re[this.layer].vy?Re[this.layer].vy*r:0,L=Re[this.layer].vx?Re[this.layer].vx*r:0;typeof c=="function"&&c.call(Z.dragged.parentNode[at],L,W,e,no,Re[this.layer].el)!=="continue"||da(Re[this.layer].el,L,W)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&m!==u&&(m=It(m,!1)));$o=s}},30),ya=function(t){var n=t.originalEvent,o=t.putSortable,l=t.dragEl,a=t.activeSortable,i=t.dispatchSortableEvent,r=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(n){var s=o||a;r();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(c.clientX,c.clientY);u(),s&&!s.el.contains(h)&&(i("spill"),this.onSpill({dragEl:l,putSortable:o}))}};function jo(){}jo.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var l=rn(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(n,l):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:ya};Et(jo,{pluginName:"revertOnSpill"});function Uo(){}Uo.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,l=o||this.sortable;l.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),l.animateAll()},drop:ya};Et(Uo,{pluginName:"removeOnSpill"});Z.mount(new ur);Z.mount(Uo,jo);const Wo={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},sr=Object.keys(Wo);Wo.all=!0;function oo(e){const t={};for(const n of sr)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Wo:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const cr=["INPUT","TEXTAREA"];function lo(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&cr.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function Eo(e,t,n){const o=Ft(e);let l,a=o.left-t.event.x,i=o.top-t.event.y,r=Math.abs(a),u=Math.abs(i);const s=t.direction;s.horizontal===!0&&s.vertical!==!0?l=a<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?l=i<0?"up":"down":s.up===!0&&i<0?(l="up",r>u&&(s.left===!0&&a<0?l="left":s.right===!0&&a>0&&(l="right"))):s.down===!0&&i>0?(l="down",r>u&&(s.left===!0&&a<0?l="left":s.right===!0&&a>0&&(l="right"))):s.left===!0&&a<0?(l="left",r<u&&(s.up===!0&&i<0?l="up":s.down===!0&&i>0&&(l="down"))):s.right===!0&&a>0&&(l="right",r<u&&(s.up===!0&&i<0?l="up":s.down===!0&&i>0&&(l="down")));let c=!1;if(l===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};l=t.event.lastDir,c=!0,l==="left"||l==="right"?(o.left-=a,r=0,a=0):(o.top-=i,u=0,i=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:o,direction:l,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:r,y:u},offset:{x:a,y:i},delta:{x:o.left-t.event.lastX,y:o.top-t.event.lastY}}}}let dr=0;const Ca=Rl({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&gt.has.touch!==!0)return;function o(a,i){n.mouse===!0&&i===!0?Ye(a):(n.stop===!0&&je(a),n.prevent===!0&&Ct(a))}const l={uid:"qvtp_"+dr++,handler:t,modifiers:n,direction:oo(n),noop:Pn,mouseStart(a){lo(a,l)&&Fl(a)&&(ct(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(a,!0))},touchStart(a){if(lo(a,l)){const i=a.target;ct(l,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),l.start(a)}},start(a,i){if(gt.is.firefox===!0&&nn(e,!0),l.lastEvt=a,i===!0||n.stop===!0){if(l.direction.all!==!0&&(i!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const s=a.type.indexOf("mouse")!==-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Ct(s),a.cancelBubble===!0&&je(s),Object.assign(s,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[l.uid]:a.qClonedBy.concat(l.uid)}),l.initialEvent={target:a.target,event:s}}je(a)}const{left:r,top:u}=Ft(a);l.event={x:r,y:u,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:u}},move(a){if(l.event===void 0)return;const i=Ft(a),r=i.left-l.event.x,u=i.top-l.event.y;if(r===0&&u===0)return;l.lastEvt=a;const s=l.event.mouse===!0,c=()=>{o(a,s);let f;n.preserveCursor!==!0&&n.preservecursor!==!0&&(f=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qn(),l.styleCleanup=p=>{if(l.styleCleanup=void 0,f!==void 0&&(document.documentElement.style.cursor=f),document.body.classList.remove("non-selectable"),s===!0){const C=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{C(),p()},50):C()}else p!==void 0&&p()}};if(l.event.detected===!0){l.event.isFirst!==!0&&o(a,l.event.mouse);const{payload:f,synthetic:p}=Eo(a,l,!1);f!==void 0&&(l.handler(f)===!1?l.end(a):(l.styleCleanup===void 0&&l.event.isFirst===!0&&c(),l.event.lastX=f.position.left,l.event.lastY=f.position.top,l.event.lastDir=p===!0?void 0:f.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||s===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){c(),l.event.detected=!0,l.move(a);return}const h=Math.abs(r),m=Math.abs(u);h!==m&&(l.direction.horizontal===!0&&h>m||l.direction.vertical===!0&&h<m||l.direction.up===!0&&h<m&&u<0||l.direction.down===!0&&h<m&&u>0||l.direction.left===!0&&h>m&&r<0||l.direction.right===!0&&h>m&&r>0?(l.event.detected=!0,l.move(a)):l.end(a,!0))},end(a,i){if(l.event!==void 0){if(St(l,"temp"),gt.is.firefox===!0&&nn(e,!1),i===!0)l.styleCleanup?.(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(Eo(a===void 0?l.lastEvt:a,l).payload);const{payload:r}=Eo(a===void 0?l.lastEvt:a,l,!0),u=()=>{l.handler(r)};l.styleCleanup!==void 0?l.styleCleanup(u):u()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,n.mouse===!0){const a=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";ct(l,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}gt.has.touch===!0&&ct(l,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=oo(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),St(t,"main"),St(t,"temp"),gt.is.firefox===!0&&nn(e,!1),t.styleCleanup?.(),delete e.__qtouchpan)}});function tn(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function yl(e,t,n){if(n<=t)return t;const o=n-t+1;let l=t+(e-t)%o;return l<t&&(l=o+l),l===0?0:l}const Cl="q-slider__marker-labels",fr=e=>({value:e}),vr=({marker:e})=>S("div",{key:e.value,style:e.style,class:e.classes},e.label),Sa=[34,37,40,33,39,38],mr={...zt,...Ro,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},gr=["pan","update:modelValue","change"];function hr({updateValue:e,updatePosition:t,getDragging:n,formAttrs:o}){const{props:l,emit:a,slots:i,proxy:{$q:r}}=Ue(),u=Nt(l,r),s=zl(o),c=I(!1),h=I(!1),m=I(!1),f=I(!1),p=b(()=>l.vertical===!0?"--v":"--h"),C=b(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),k=b(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(r.lang.rtl===!0)),P=b(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),V=b(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),y=b(()=>l.disable!==!0&&l.readonly!==!0&&P.value<V.value),w=b(()=>{if(l.step===0)return G=>G;const A=(String(l.step).trim().split(".")[1]||"").length;return G=>parseFloat(G.toFixed(A))}),q=b(()=>l.step===0?1:l.step),D=b(()=>y.value===!0?l.tabindex||0:-1),z=b(()=>l.max-l.min),Y=b(()=>V.value-P.value),Q=b(()=>Oe(P.value)),ce=b(()=>Oe(V.value)),ae=b(()=>l.vertical===!0?k.value===!0?"bottom":"top":k.value===!0?"right":"left"),te=b(()=>l.vertical===!0?"height":"width"),se=b(()=>l.vertical===!0?"width":"height"),F=b(()=>l.vertical===!0?"vertical":"horizontal"),W=b(()=>{const A={role:"slider","aria-valuemin":P.value,"aria-valuemax":V.value,"aria-orientation":F.value,"data-step":l.step};return l.disable===!0?A["aria-disabled"]="true":l.readonly===!0&&(A["aria-readonly"]="true"),A}),L=b(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(y.value===!0?" q-slider--editable":""))+(m.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(u.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function ve(A){const G="q-slider__"+A;return`${G} ${G}${p.value} ${G}${p.value}${C.value}`}function Se(A){const G="q-slider__"+A;return`${G} ${G}${p.value}`}const ke=b(()=>{const A=l.selectionColor||l.color;return"q-slider__selection absolute"+(A!==void 0?` text-${A}`:"")}),Ie=b(()=>Se("markers")+" absolute overflow-hidden"),_=b(()=>Se("track-container")),B=b(()=>ve("pin")),R=b(()=>ve("label")),ee=b(()=>ve("text-container")),ue=b(()=>ve("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),d=b(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),v=b(()=>{const A={[se.value]:l.trackSize};return l.trackImg!==void 0&&(A.backgroundImage=`url(${l.trackImg}) !important`),A}),E=b(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),x=b(()=>{const A=ce.value-Q.value,G={[ae.value]:`${100*Q.value}%`,[te.value]:A===0?"2px":`${100*A}%`};return l.innerTrackImg!==void 0&&(G.backgroundImage=`url(${l.innerTrackImg}) !important`),G});function K(A){const{min:G,max:me,step:Te}=l;let Ne=G+A*(me-G);if(Te>0){const dt=(Ne-P.value)%Te;Ne+=(Math.abs(dt)>=Te/2?(dt<0?-1:1)*Te:0)-dt}return Ne=w.value(Ne),tn(Ne,P.value,V.value)}function Oe(A){return z.value===0?0:(A-l.min)/z.value}function T(A,G){const me=Ft(A),Te=l.vertical===!0?tn((me.top-G.top)/G.height,0,1):tn((me.left-G.left)/G.width,0,1);return tn(k.value===!0?1-Te:Te,Q.value,ce.value)}const X=b(()=>ni(l.markers)===!0?l.markers:q.value),ne=b(()=>{const A=[],G=X.value,me=l.max;let Te=l.min;do A.push(Te),Te+=G;while(Te<me);return A.push(me),A}),ie=b(()=>{const A=` ${Cl}${p.value}-`;return Cl+`${A}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${A}${k.value===!0?"rtl":"ltr"}`}),xe=b(()=>l.markerLabels===!1?null:De(l.markerLabels).map((A,G)=>({index:G,value:A.value,label:A.label||A.value,classes:ie.value+(A.classes!==void 0?" "+A.classes:""),style:{...We(A.value),...A.style||{}}}))),re=b(()=>({markerList:xe.value,markerMap:$e.value,classes:ie.value,getStyle:We})),Be=b(()=>{const A=Y.value===0?"2px":100*X.value/Y.value;return{...x.value,backgroundSize:l.vertical===!0?`2px ${A}%`:`${A}% 2px`}});function De(A){if(A===!1)return null;if(A===!0)return ne.value.map(fr);if(typeof A=="function")return ne.value.map(me=>{const Te=A(me);return mo(Te)===!0?{...Te,value:me}:{value:me,label:Te}});const G=({value:me})=>me>=l.min&&me<=l.max;return Array.isArray(A)===!0?A.map(me=>mo(me)===!0?me:{value:me}).filter(G):Object.keys(A).map(me=>{const Te=A[me],Ne=Number(me);return mo(Te)===!0?{...Te,value:Ne}:{value:Ne,label:Te}}).filter(G)}function We(A){return{[ae.value]:`${100*(A-l.min)/z.value}%`}}const $e=b(()=>{if(l.markerLabels===!1)return null;const A={};return xe.value.forEach(G=>{A[G.value]=G}),A});function O(){if(i["marker-label-group"]!==void 0)return i["marker-label-group"](re.value);const A=i["marker-label"]||vr;return xe.value.map(G=>A({marker:G,...re.value}))}const j=b(()=>[[Ca,oe,void 0,{[F.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function oe(A){A.isFinal===!0?(f.value!==void 0&&(t(A.evt),A.touch===!0&&e(!0),f.value=void 0,a("pan","end")),c.value=!1,m.value=!1):A.isFirst===!0?(f.value=n(A.evt),t(A.evt),e(),c.value=!0,a("pan","start")):(t(A.evt),e())}function _e(){m.value=!1}function Ee(A){t(A,n(A)),e(),h.value=!0,c.value=!0,document.addEventListener("mouseup",pe,!0)}function pe(){h.value=!1,c.value=!1,e(!0),_e(),document.removeEventListener("mouseup",pe,!0)}function ye(A){t(A,n(A)),e(!0)}function Le(A){Sa.includes(A.keyCode)&&e(!0)}function ze(A){if(l.vertical===!0)return null;const G=r.lang.rtl!==l.reverse?1-A:A;return{transform:`translateX(calc(${2*G-1} * ${l.thumbSize} / 2 + ${50-100*G}%))`}}function ut(A){const G=b(()=>h.value===!1&&(m.value===A.focusValue||m.value==="both")?" q-slider--focus":""),me=b(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${k.value===!0?"rtl":"ltr"} absolute non-selectable`+G.value+(A.thumbColor.value!==void 0?` text-${A.thumbColor.value}`:"")),Te=b(()=>({width:l.thumbSize,height:l.thumbSize,[ae.value]:`${100*A.ratio.value}%`,zIndex:m.value===A.focusValue?2:void 0})),Ne=b(()=>A.labelColor.value!==void 0?` text-${A.labelColor.value}`:""),dt=b(()=>ze(A.ratio.value)),Ht=b(()=>"q-slider__text"+(A.labelTextColor.value!==void 0?` text-${A.labelTextColor.value}`:""));return()=>{const jt=[S("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[S("path",{d:l.thumbPath})]),S("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(jt.push(S("div",{class:B.value+" absolute fit no-pointer-events"+Ne.value},[S("div",{class:R.value,style:{minWidth:l.thumbSize}},[S("div",{class:ee.value,style:dt.value},[S("span",{class:Ht.value},A.label.value)])])])),l.name!==void 0&&l.disable!==!0&&s(jt,"push")),S("div",{class:me.value,style:Te.value,...A.getNodeData()},jt)}}function qt(A,G,me,Te){const Ne=[];l.innerTrackColor!=="transparent"&&Ne.push(S("div",{key:"inner",class:E.value,style:x.value})),l.selectionColor!=="transparent"&&Ne.push(S("div",{key:"selection",class:ke.value,style:A.value})),l.markers!==!1&&Ne.push(S("div",{key:"marker",class:Ie.value,style:Be.value})),Te(Ne);const dt=[ro("div",{key:"trackC",class:_.value,tabindex:G.value,...me.value},[S("div",{class:d.value,style:v.value},Ne)],"slide",y.value,()=>j.value)];if(l.markerLabels!==!1){const Ht=l.switchMarkerLabelsSide===!0?"unshift":"push";dt[Ht](S("div",{key:"markerL",class:ue.value},O()))}return dt}return et(()=>{document.removeEventListener("mouseup",pe,!0)}),{state:{active:c,focus:m,preventFocus:h,dragging:f,editable:y,classes:L,tabindex:D,attributes:W,roundValueFn:w,keyStep:q,trackLen:z,innerMin:P,innerMinRatio:Q,innerMax:V,innerMaxRatio:ce,positionProp:ae,sizeProp:te,isReversed:k},methods:{onActivate:Ee,onMobileClick:ye,onBlur:_e,onKeyup:Le,getContent:qt,getThumbRenderFn:ut,convertRatioToModel:K,convertModelToRatio:Oe,getDraggingRatio:T}}}const pr=()=>({}),Jt=He({name:"QSlider",props:{...mr,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:gr,setup(e,{emit:t}){const{proxy:{$q:n}}=Ue(),{state:o,methods:l}=hr({updateValue:p,updatePosition:k,getDragging:C,formAttrs:oi(e)}),a=I(null),i=I(0),r=I(0);function u(){r.value=e.modelValue===null?o.innerMin.value:tn(e.modelValue,o.innerMin.value,o.innerMax.value)}fe(()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`,u),u();const s=b(()=>l.convertModelToRatio(r.value)),c=b(()=>o.active.value===!0?i.value:s.value),h=b(()=>{const y={[o.positionProp.value]:`${100*o.innerMinRatio.value}%`,[o.sizeProp.value]:`${100*(c.value-o.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(y.backgroundImage=`url(${e.selectionImg}) !important`),y}),m=l.getThumbRenderFn({focusValue:!0,getNodeData:pr,ratio:c,label:b(()=>e.labelValue!==void 0?e.labelValue:r.value),thumbColor:b(()=>e.thumbColor||e.color),labelColor:b(()=>e.labelColor),labelTextColor:b(()=>e.labelTextColor)}),f=b(()=>o.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:P,onBlur:l.onBlur,onKeydown:V,onKeyup:l.onKeyup});function p(y){r.value!==e.modelValue&&t("update:modelValue",r.value),y===!0&&t("change",r.value)}function C(){return a.value.getBoundingClientRect()}function k(y,w=o.dragging.value){const q=l.getDraggingRatio(y,w);r.value=l.convertRatioToModel(q),i.value=e.snap!==!0||e.step===0?q:l.convertModelToRatio(r.value)}function P(){o.focus.value=!0}function V(y){if(Sa.includes(y.keyCode)===!1)return;Ye(y);const w=([34,33].includes(y.keyCode)?10:1)*o.keyStep.value,q=([34,37,40].includes(y.keyCode)?-1:1)*(o.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*w;r.value=tn(o.roundValueFn.value(r.value+q),o.innerMin.value,o.innerMax.value),p()}return()=>{const y=l.getContent(h,o.tabindex,f,w=>{w.push(m())});return S("div",{ref:a,class:o.classes.value+(e.modelValue===null?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},y)}}});function br(){const e=I(!li.value);return e.value===!1&&xt(()=>{e.value=!0}),{isHydrated:e}}const wa=typeof ResizeObserver<"u",Sl=wa===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},yr=He({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,o,l={width:-1,height:-1};function a(u){u===!0||e.debounce===0||e.debounce==="0"?i():n===null&&(n=setTimeout(i,e.debounce))}function i(){if(n!==null&&(clearTimeout(n),n=null),o){const{offsetWidth:u,offsetHeight:s}=o;(u!==l.width||s!==l.height)&&(l={width:u,height:s},t("resize",l))}}const{proxy:r}=Ue();if(r.trigger=a,wa===!0){let u;const s=c=>{o=r.$el.parentNode,o?(u=new ResizeObserver(a),u.observe(o),i()):c!==!0&&nt(()=>{s(!0)})};return xt(()=>{s()}),et(()=>{n!==null&&clearTimeout(n),u!==void 0&&(u.disconnect!==void 0?u.disconnect():o&&u.unobserve(o))}),Pn}else{let u=function(){n!==null&&(clearTimeout(n),n=null),h!==void 0&&(h.removeEventListener!==void 0&&h.removeEventListener("resize",a,En.passive),h=void 0)},s=function(){u(),o?.contentDocument&&(h=o.contentDocument.defaultView,h.addEventListener("resize",a,En.passive),i())};const{isHydrated:c}=br();let h;return xt(()=>{nt(()=>{o=r.$el,o&&s()})}),et(u),()=>{if(c.value===!0)return S("object",{class:"q--avoid-card-border",style:Sl.style,tabindex:-1,type:"text/html",data:Sl.url,"aria-hidden":"true",onLoad:s})}}}});let Dn=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Dn=e.scrollLeft>=0,e.remove()}function Cr(e,t,n){const o=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const Sr=["left","center","right","justify"],wl=He({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Sr.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:o}=Ue(),{$q:l}=o,{registerTick:a}=yn(),{registerTick:i}=yn(),{registerTick:r}=yn(),{registerTimeout:u,removeTimeout:s}=Tn(),{registerTimeout:c,removeTimeout:h}=Tn(),m=I(null),f=I(null),p=I(e.modelValue),C=I(!1),k=I(!0),P=I(!1),V=I(!1),y=[],w=I(0),q=I(!1);let D=null,z=null,Y;const Q=b(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Cr(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),ce=b(()=>{const O=w.value,j=p.value;for(let oe=0;oe<O;oe++)if(y[oe].name.value===j)return!0;return!1}),ae=b(()=>`q-tabs__content--align-${C.value===!0?"left":V.value===!0?"justify":e.align}`),te=b(()=>`q-tabs row no-wrap items-center q-tabs--${C.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),se=b(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ae.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),F=b(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),W=b(()=>e.vertical!==!0&&l.lang.rtl===!0),L=b(()=>Dn===!1&&W.value===!0);fe(W,B),fe(()=>e.modelValue,O=>{ve({name:O,setCurrent:!0,skipEmit:!0})}),fe(()=>e.outsideArrows,Se);function ve({name:O,setCurrent:j,skipEmit:oe}){p.value!==O&&(oe!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",O),(j===!0||e["onUpdate:modelValue"]===void 0)&&(Ie(p.value,O),p.value=O))}function Se(){a(()=>{m.value&&ke({width:m.value.offsetWidth,height:m.value.offsetHeight})})}function ke(O){if(F.value===void 0||f.value===null)return;const j=O[F.value.container],oe=Math.min(f.value[F.value.scroll],Array.prototype.reduce.call(f.value.children,(Ee,pe)=>Ee+(pe[F.value.content]||0),0)),_e=j>0&&oe>j;C.value=_e,_e===!0&&i(B),V.value=j<parseInt(e.breakpoint,10)}function Ie(O,j){const oe=O!=null&&O!==""?y.find(Ee=>Ee.name.value===O):null,_e=j!=null&&j!==""?y.find(Ee=>Ee.name.value===j):null;if($e===!0)$e=!1;else if(oe&&_e){const Ee=oe.tabIndicatorRef.value,pe=_e.tabIndicatorRef.value;D!==null&&(clearTimeout(D),D=null),Ee.style.transition="none",Ee.style.transform="none",pe.style.transition="none",pe.style.transform="none";const ye=Ee.getBoundingClientRect(),Le=pe.getBoundingClientRect();pe.style.transform=e.vertical===!0?`translate3d(0,${ye.top-Le.top}px,0) scale3d(1,${Le.height?ye.height/Le.height:1},1)`:`translate3d(${ye.left-Le.left}px,0,0) scale3d(${Le.width?ye.width/Le.width:1},1,1)`,r(()=>{D=setTimeout(()=>{D=null,pe.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",pe.style.transform="none"},70)})}_e&&C.value===!0&&_(_e.rootRef.value)}function _(O){const{left:j,width:oe,top:_e,height:Ee}=f.value.getBoundingClientRect(),pe=O.getBoundingClientRect();let ye=e.vertical===!0?pe.top-_e:pe.left-j;if(ye<0){f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ye),B();return}ye+=e.vertical===!0?pe.height-Ee:pe.width-oe,ye>0&&(f.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ye),B())}function B(){const O=f.value;if(O===null)return;const j=O.getBoundingClientRect(),oe=e.vertical===!0?O.scrollTop:Math.abs(O.scrollLeft);W.value===!0?(k.value=Math.ceil(oe+j.width)<O.scrollWidth-1,P.value=oe>0):(k.value=oe>0,P.value=e.vertical===!0?Math.ceil(oe+j.height)<O.scrollHeight:Math.ceil(oe+j.width)<O.scrollWidth)}function R(O){z!==null&&clearInterval(z),z=setInterval(()=>{x(O)===!0&&d()},5)}function ee(){R(L.value===!0?Number.MAX_SAFE_INTEGER:0)}function ue(){R(L.value===!0?0:Number.MAX_SAFE_INTEGER)}function d(){z!==null&&(clearInterval(z),z=null)}function v(O,j){const oe=Array.prototype.filter.call(f.value.children,Le=>Le===j||Le.matches&&Le.matches(".q-tab.q-focusable")===!0),_e=oe.length;if(_e===0)return;if(O===36)return _(oe[0]),oe[0].focus(),!0;if(O===35)return _(oe[_e-1]),oe[_e-1].focus(),!0;const Ee=O===(e.vertical===!0?38:37),pe=O===(e.vertical===!0?40:39),ye=Ee===!0?-1:pe===!0?1:void 0;if(ye!==void 0){const Le=W.value===!0?-1:1,ze=oe.indexOf(j)+ye*Le;return ze>=0&&ze<_e&&(_(oe[ze]),oe[ze].focus({preventScroll:!0})),!0}}const E=b(()=>L.value===!0?{get:O=>Math.abs(O.scrollLeft),set:(O,j)=>{O.scrollLeft=-j}}:e.vertical===!0?{get:O=>O.scrollTop,set:(O,j)=>{O.scrollTop=j}}:{get:O=>O.scrollLeft,set:(O,j)=>{O.scrollLeft=j}});function x(O){const j=f.value,{get:oe,set:_e}=E.value;let Ee=!1,pe=oe(j);const ye=O<pe?-1:1;return pe+=ye*5,pe<0?(Ee=!0,pe=0):(ye===-1&&pe<=O||ye===1&&pe>=O)&&(Ee=!0,pe=O),_e(j,pe),B(),Ee}function K(O,j){for(const oe in O)if(O[oe]!==j[oe])return!1;return!0}function Oe(){let O=null,j={matchedLen:0,queryDiff:9999,hrefLen:0};const oe=y.filter(ye=>ye.routeData?.hasRouterLink.value===!0),{hash:_e,query:Ee}=o.$route,pe=Object.keys(Ee).length;for(const ye of oe){const Le=ye.routeData.exact.value===!0;if(ye.routeData[Le===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ze,query:ut,matched:qt,href:A}=ye.routeData.resolvedLink.value,G=Object.keys(ut).length;if(Le===!0){if(ze!==_e||G!==pe||K(Ee,ut)===!1)continue;O=ye.name.value;break}if(ze!==""&&ze!==_e||G!==0&&K(ut,Ee)===!1)continue;const me={matchedLen:qt.length,queryDiff:pe-G,hrefLen:A.length-ze.length};if(me.matchedLen>j.matchedLen){O=ye.name.value,j=me;continue}else if(me.matchedLen!==j.matchedLen)continue;if(me.queryDiff<j.queryDiff)O=ye.name.value,j=me;else if(me.queryDiff!==j.queryDiff)continue;me.hrefLen>j.hrefLen&&(O=ye.name.value,j=me)}if(O===null&&y.some(ye=>ye.routeData===void 0&&ye.name.value===p.value)===!0){$e=!1;return}ve({name:O,setCurrent:!0})}function T(O){if(s(),q.value!==!0&&m.value!==null&&O.target&&typeof O.target.closest=="function"){const j=O.target.closest(".q-tab");j&&m.value.contains(j)===!0&&(q.value=!0,C.value===!0&&_(j))}}function X(){u(()=>{q.value=!1},30)}function ne(){Be.avoidRouteWatcher===!1?c(Oe):h()}function ie(){if(Y===void 0){const O=fe(()=>o.$route.fullPath,ne);Y=()=>{O(),Y=void 0}}}function xe(O){y.push(O),w.value++,Se(),O.routeData===void 0||o.$route===void 0?c(()=>{if(C.value===!0){const j=p.value,oe=j!=null&&j!==""?y.find(_e=>_e.name.value===j):null;oe&&_(oe.rootRef.value)}}):(ie(),O.routeData.hasRouterLink.value===!0&&ne())}function re(O){y.splice(y.indexOf(O),1),w.value--,Se(),Y!==void 0&&O.routeData!==void 0&&(y.every(j=>j.routeData===void 0)===!0&&Y(),ne())}const Be={currentModel:p,tabProps:Q,hasFocus:q,hasActiveTab:ce,registerTab:xe,unregisterTab:re,verifyRouteModel:ne,updateModel:ve,onKbdNavigate:v,avoidRouteWatcher:!1};ai(jl,Be);function De(){D!==null&&clearTimeout(D),d(),Y?.()}let We,$e;return et(De),Nl(()=>{We=Y!==void 0,De()}),Hl(()=>{We===!0&&(ie(),$e=!0,ne()),Se()}),()=>S("div",{ref:m,class:te.value,role:"tablist",onFocusin:T,onFocusout:X},[S(yr,{onResize:ke}),S("div",{ref:f,class:se.value,onScroll:B},ht(t.default)),S(Ze,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(k.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ee,onTouchstartPassive:ee,onMouseupPassive:d,onMouseleavePassive:d,onTouchendPassive:d}),S(Ze,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ue,onTouchstartPassive:ue,onMouseupPassive:d,onMouseleavePassive:d,onTouchendPassive:d})])}});let wr=0;const kr=["click","keydown"],xr={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${wr++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function _r(e,t,n,o){const l=ii(jl,go);if(l===go)return console.error("QTab/QRouteTab component needs to be child of QTabs"),go;const{proxy:a}=Ue(),i=I(null),r=I(null),u=I(null),s=b(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),c=b(()=>l.currentModel.value===e.name),h=b(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),m=b(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),f=b(()=>e.disable===!0||l.hasFocus.value===!0||c.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function p(y,w){if(w!==!0&&y?.qAvoidFocus!==!0&&i.value?.focus(),e.disable!==!0){l.updateModel({name:e.name}),n("click",y);return}}function C(y){ao(y,[13,32])?p(y,!0):uo(y)!==!0&&y.keyCode>=35&&y.keyCode<=40&&y.altKey!==!0&&y.metaKey!==!0&&l.onKbdNavigate(y.keyCode,a.$el)===!0&&Ye(y),n("keydown",y)}function k(){const y=l.tabProps.value.narrowIndicator,w=[],q=S("div",{ref:u,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&w.push(S(Ze,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&w.push(S("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&w.push(e.alertIcon!==void 0?S(Ze,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):S("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),y===!0&&w.push(q);const D=[S("div",{class:"q-focus-helper",tabindex:-1,ref:i}),S("div",{class:m.value},Wl(t.default,w))];return y===!1&&D.push(q),D}const P={name:b(()=>e.name),rootRef:r,tabIndicatorRef:u,routeData:o};et(()=>{l.unregisterTab(P)}),xt(()=>{l.registerTab(P)});function V(y,w){const q={ref:r,class:h.value,tabindex:f.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:C,...w};return ri(S(y,q,k()),[[Ul,s.value]])}return{renderTab:V,$tabs:l}}const fn=He({name:"QTab",props:xr,emits:kr,setup(e,{slots:t,emit:n}){const{renderTab:o}=_r(e,t,n);return()=>o("div")}});function Er(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,o)=>{const l=parseFloat(n);l&&(t[o]=l)}),t}const Tr=Rl({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:o}){if(o.mouse!==!0&&gt.has.touch!==!0)return;const l=o.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:Er(n),direction:oo(o),noop:Pn,mouseStart(i){lo(i,a)&&Fl(i)&&(ct(a,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(i,!0))},touchStart(i){if(lo(i,a)){const r=i.target;ct(a,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),a.start(i)}},start(i,r){gt.is.firefox===!0&&nn(e,!0);const u=Ft(i);a.event={x:u.left,y:u.top,time:Date.now(),mouse:r===!0,dir:!1}},move(i){if(a.event===void 0)return;if(a.event.dir!==!1){Ye(i);return}const r=Date.now()-a.event.time;if(r===0)return;const u=Ft(i),s=u.left-a.event.x,c=Math.abs(s),h=u.top-a.event.y,m=Math.abs(h);if(a.event.mouse!==!0){if(c<a.sensitivity[1]&&m<a.sensitivity[1]){a.end(i);return}}else if(window.getSelection().toString()!==""){a.end(i);return}else if(c<a.sensitivity[2]&&m<a.sensitivity[2])return;const f=c/r,p=m/r;a.direction.vertical===!0&&c<m&&c<100&&p>a.sensitivity[0]&&(a.event.dir=h<0?"up":"down"),a.direction.horizontal===!0&&c>m&&m<100&&f>a.sensitivity[0]&&(a.event.dir=s<0?"left":"right"),a.direction.up===!0&&c<m&&h<0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&c<m&&h>0&&c<100&&p>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&c>m&&s<0&&m<100&&f>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&c>m&&s>0&&m<100&&f>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(Ye(i),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qn(),a.styleCleanup=C=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const k=()=>{document.body.classList.remove("no-pointer-events--children")};C===!0?setTimeout(k,50):k()}),a.handler({evt:i,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:r,distance:{x:c,y:m}})):a.end(i)},end(i){a.event!==void 0&&(St(a,"temp"),gt.is.firefox===!0&&nn(e,!1),a.styleCleanup?.(!0),i!==void 0&&a.event.dir!==!1&&Ye(i),a.event=void 0)}};if(e.__qtouchswipe=a,o.mouse===!0){const i=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";ct(a,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}gt.has.touch===!0&&ct(a,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=oo(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(St(t,"main"),St(t,"temp"),gt.is.firefox===!0&&nn(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function ka(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const qr={name:{required:!0},disable:Boolean},kl={setup(e,{slots:t}){return()=>S("div",{class:"q-panel scroll",role:"tabpanel"},ht(t.default))}},Dr={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ar=["update:modelValue","beforeTransition","transition"];function Pr(){const{props:e,emit:t,proxy:n}=Ue(),{getCache:o}=ka(),{registerTimeout:l}=Tn();let a,i;const r=I(null),u={value:null};function s(F){const W=e.vertical===!0?"up":"left";Y((n.$q.lang.rtl===!0?-1:1)*(F.direction===W?1:-1))}const c=b(()=>[[Tr,s,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),h=b(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=b(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),f=b(()=>`--q-transition-duration: ${e.transitionDuration}ms`),p=b(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=b(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),k=b(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);fe(()=>e.modelValue,(F,W)=>{const L=w(F)===!0?q(F):-1;i!==!0&&z(L===-1?0:L<q(W)?-1:1),u.value!==L&&(u.value=L,t("beforeTransition",F,W),l(()=>{t("transition",F,W)},e.transitionDuration))});function P(){Y(1)}function V(){Y(-1)}function y(F){t("update:modelValue",F)}function w(F){return F!=null&&F!==""}function q(F){return a.findIndex(W=>W.props.name===F&&W.props.disable!==""&&W.props.disable!==!0)}function D(){return a.filter(F=>F.props.disable!==""&&F.props.disable!==!0)}function z(F){const W=F!==0&&e.animated===!0&&u.value!==-1?"q-transition--"+(F===-1?h.value:m.value):null;r.value!==W&&(r.value=W)}function Y(F,W=u.value){let L=W+F;for(;L!==-1&&L<a.length;){const ve=a[L];if(ve!==void 0&&ve.props.disable!==""&&ve.props.disable!==!0){z(F),i=!0,t("update:modelValue",ve.props.name),setTimeout(()=>{i=!1});return}L+=F}e.infinite===!0&&a.length!==0&&W!==-1&&W!==a.length&&Y(F,F===-1?a.length:-1)}function Q(){const F=q(e.modelValue);return u.value!==F&&(u.value=F),!0}function ce(){const F=w(e.modelValue)===!0&&Q()&&a[u.value];return e.keepAlive===!0?[S(si,C.value,[S(k.value===!0?o(p.value,()=>({...kl,name:p.value})):kl,{key:p.value,style:f.value},()=>F)])]:[S("div",{class:"q-panel scroll",style:f.value,key:p.value,role:"tabpanel"},[F])]}function ae(){if(a.length!==0)return e.animated===!0?[S(io,{name:r.value},ce)]:ce()}function te(F){return a=ui(ht(F.default,[])).filter(W=>W.props!==null&&W.props.slot===void 0&&w(W.props.name)===!0),a.length}function se(){return a}return Object.assign(n,{next:P,previous:V,goTo:y}),{panelIndex:u,panelDirectives:c,updatePanelsList:te,updatePanelIndex:Q,getPanelContent:ae,getEnabledPanels:D,getPanels:se,isValidPanelName:w,keepAliveProps:C,needsUniqueKeepAliveWrapper:k,goToPanelByOffset:Y,goToPanel:y,nextPanel:P,previousPanel:V}}const Ir=He({name:"QTabPanels",props:{...Dr,...zt},emits:Ar,setup(e,{slots:t}){const n=Ue(),o=Nt(e,n.proxy.$q),{updatePanelsList:l,getPanelContent:a,panelDirectives:i}=Pr(),r=b(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),ro("div",{class:r.value},a(),"pan",e.swipeable,()=>i.value))}}),To=He({name:"QTabPanel",props:qr,setup(e,{slots:t}){return()=>S("div",{class:"q-tab-panel",role:"tabpanel"},ht(t.default))}}),Or=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function xl({r:e,g:t,b:n,a:o}){const l=o!==void 0;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||l&&o>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return o=l?(Math.round(255*o/100)|256).toString(16).slice(1):"","#"+(n|t<<8|e<<16|1<<24).toString(16).slice(1)+o}function _l({r:e,g:t,b:n,a:o}){return`rgb${o!==void 0?"a":""}(${e},${t},${n}${o!==void 0?","+o/100:""})`}function xa(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function El({h:e,s:t,v:n,a:o}){let l,a,i;t=t/100,n=n/100,e=e/360;const r=Math.floor(e*6),u=e*6-r,s=n*(1-t),c=n*(1-u*t),h=n*(1-(1-u)*t);switch(r%6){case 0:l=n,a=h,i=s;break;case 1:l=c,a=n,i=s;break;case 2:l=s,a=n,i=h;break;case 3:l=s,a=c,i=n;break;case 4:l=h,a=s,i=n;break;case 5:l=n,a=s,i=c;break}return{r:Math.round(l*255),g:Math.round(a*255),b:Math.round(i*255),a:o}}function qo({r:e,g:t,b:n,a:o}){const l=Math.max(e,t,n),a=Math.min(e,t,n),i=l-a,r=l===0?0:i/l,u=l/255;let s;switch(l){case a:s=0;break;case e:s=t-n+i*(t<n?6:0),s/=6*i;break;case t:s=n-e+i*2,s/=6*i;break;case n:s=e-t+i*4,s/=6*i;break}return{h:Math.round(s*360),s:Math.round(r*100),v:Math.round(u*100),a:o}}function _a(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=Or.exec(t);if(n===null)return xa(t);const o={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const l=parseFloat(n[5]);o.a=Math.min(1,isNaN(l)===!0?1:l)*100}return o}function Br(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?_a(e):e,n=t.r/255,o=t.g/255,l=t.b/255,a=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),i=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),r=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4);return .2126*a+.7152*i+.0722*r}const Mr=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Tl="M5 5 h10 v10 h-10 v-10 z",Vr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==",Ea=He({name:"QColor",props:{...zt,...Ro,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:t}){const{proxy:n}=Ue(),{$q:o}=n,l=Nt(e,o),{getCache:a}=ka(),i=I(null),r=I(null),u=b(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")!==-1),s=b(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1),c=I(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),h=I(e.defaultView),m=I(te(e.modelValue||e.defaultValue)),f=b(()=>e.disable!==!0&&e.readonly!==!0),p=b(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),C=b(()=>u.value!==null?u.value:p.value),k=b(()=>({type:"hidden",name:e.name,value:m.value[C.value===!0?"hex":"rgb"]})),P=zl(k),V=b(()=>s.value!==null?s.value:m.value.a!==void 0),y=b(()=>({backgroundColor:m.value.rgb||"#000"})),w=b(()=>`q-color-picker__header-content q-color-picker__header-content--${(m.value.a!==void 0&&m.value.a<65?!0:Br(m.value)>.4)?"light":"dark"}`),q=b(()=>({background:`hsl(${m.value.h},100%,50%)`})),D=b(()=>({top:`${100-m.value.v}%`,[o.lang.rtl===!0?"right":"left"]:`${m.value.s}%`})),z=b(()=>e.palette!==void 0&&e.palette.length!==0?e.palette:Mr),Y=b(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(l.value===!0?" q-color-picker--dark q-dark":"")),Q=b(()=>e.disable===!0?{"aria-disabled":"true"}:{}),ce=b(()=>[[Ca,ke,void 0,{prevent:!0,stop:!0,mouse:!0}]]);fe(()=>e.modelValue,T=>{const X=te(T||e.defaultValue);X.hex!==m.value.hex&&(m.value=X)}),fe(()=>e.defaultValue,T=>{if(!e.modelValue&&T){const X=te(T);X.hex!==m.value.hex&&(m.value=X)}});function ae(T,X){m.value.hex=xl(T),m.value.rgb=_l(T),m.value.r=T.r,m.value.g=T.g,m.value.b=T.b,m.value.a=T.a;const ne=m.value[C.value===!0?"hex":"rgb"];t("update:modelValue",ne),X===!0&&t("change",ne)}function te(T){const X=s.value!==void 0?s.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1;if(typeof T!="string"||T.length===0||ci.anyColor(T.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:X===!0?100:void 0,hex:void 0,rgb:void 0};const ne=_a(T);return X===!0&&ne.a===void 0&&(ne.a=100),ne.hex=xl(ne),ne.rgb=_l(ne),Object.assign(ne,qo(ne))}function se(T,X,ne){const ie=i.value;if(ie===null)return;const xe=ie.clientWidth,re=ie.clientHeight,Be=ie.getBoundingClientRect();let De=Math.min(xe,Math.max(0,T-Be.left));o.lang.rtl===!0&&(De=xe-De);const We=Math.min(re,Math.max(0,X-Be.top)),$e=Math.round(100*De/xe),O=Math.round(100*Math.max(0,Math.min(1,-(We/re)+1))),j=El({h:m.value.h,s:$e,v:O,a:V.value===!0?m.value.a:void 0});m.value.s=$e,m.value.v=O,ae(j,ne)}function F(T,X){const ne=Math.round(T),ie=El({h:ne,s:m.value.s,v:m.value.v,a:V.value===!0?m.value.a:void 0});m.value.h=ne,ae(ie,X)}function W(T){F(T,!0)}function L(T,X,ne,ie,xe){if(ie!==void 0&&je(ie),!/^[0-9]+$/.test(T)){xe===!0&&n.$forceUpdate();return}const re=Math.floor(Number(T));if(re<0||re>ne){xe===!0&&n.$forceUpdate();return}const Be={r:X==="r"?re:m.value.r,g:X==="g"?re:m.value.g,b:X==="b"?re:m.value.b,a:V.value===!0?X==="a"?re:m.value.a:void 0};if(X!=="a"){const De=qo(Be);m.value.h=De.h,m.value.s=De.s,m.value.v=De.v}if(ae(Be,xe),xe!==!0&&ie?.target.selectionEnd!==void 0){const De=ie.target.selectionEnd;nt(()=>{ie.target.setSelectionRange(De,De)})}}function ve(T,X){let ne;const ie=T.target.value;if(je(T),c.value==="hex"){if(ie.length!==(V.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(ie))return!0;ne=xa(ie)}else{let re;if(ie.endsWith(")"))if(V.value!==!0&&ie.startsWith("rgb(")){if(re=ie.substring(4,ie.length-1).split(",").map(Be=>parseInt(Be,10)),re.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(ie))return!0}else if(V.value===!0&&ie.startsWith("rgba(")){if(re=ie.substring(5,ie.length-1).split(","),re.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(ie))return!0;for(let De=0;De<3;De++){const We=parseInt(re[De],10);if(We<0||We>255)return!0;re[De]=We}const Be=parseFloat(re[3]);if(Be<0||Be>1)return!0;re[3]=Be}else return!0;else return!0;if(re[0]<0||re[0]>255||re[1]<0||re[1]>255||re[2]<0||re[2]>255||V.value===!0&&(re[3]<0||re[3]>1))return!0;ne={r:re[0],g:re[1],b:re[2],a:V.value===!0?re[3]*100:void 0}}const xe=qo(ne);if(m.value.h=xe.h,m.value.s=xe.s,m.value.v=xe.v,ae(ne,X),X!==!0){const re=T.target.selectionEnd;nt(()=>{T.target.setSelectionRange(re,re)})}}function Se(T){const X=te(T),ne={r:X.r,g:X.g,b:X.b,a:X.a};ne.a===void 0&&(ne.a=m.value.a),m.value.h=X.h,m.value.s=X.s,m.value.v=X.v,ae(ne,!0)}function ke(T){T.isFinal?se(T.position.left,T.position.top,!0):Ie(T)}const Ie=di(T=>{se(T.position.left,T.position.top)},20);function _(T){se(T.pageX-window.pageXOffset,T.pageY-window.pageYOffset,!0)}function B(T){se(T.pageX-window.pageXOffset,T.pageY-window.pageYOffset)}function R(T){r.value!==null&&(r.value.$el.style.opacity=T?1:0)}function ee(T){c.value=T}function ue(){const T=[];return e.noHeaderTabs!==!0&&T.push(S(wl,{class:"q-color-picker__header-tabs",modelValue:c.value,dense:!0,align:"justify","onUpdate:modelValue":ee},()=>[S(fn,{label:"HEX"+(V.value===!0?"A":""),name:"hex",ripple:!1}),S(fn,{label:"RGB"+(V.value===!0?"A":""),name:"rgb",ripple:!1})])),T.push(S("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[S("input",{class:"fit",value:m.value[c.value],...f.value!==!0?{readonly:!0}:{},...a("topIn",{onInput:X=>{R(ve(X)===!0)},onChange:je,onBlur:X=>{ve(X,!0)===!0&&n.$forceUpdate(),R(!1)}})}),S(Ze,{ref:r,class:"q-color-picker__error-icon absolute no-pointer-events",name:o.iconSet.type.negative})])),S("div",{class:"q-color-picker__header relative-position overflow-hidden"},[S("div",{class:"q-color-picker__header-bg absolute-full"}),S("div",{class:w.value,style:y.value},T)])}function d(){return S(Ir,{modelValue:h.value,animated:!0},()=>[S(To,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},x),S(To,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},K),S(To,{class:"q-color-picker__palette-tab",name:"palette"},Oe)])}function v(T){h.value=T}function E(){return S("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[S(wl,{class:"absolute-full",modelValue:h.value,dense:!0,align:"justify","onUpdate:modelValue":v},()=>[S(fn,{icon:o.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),S(fn,{icon:o.iconSet.colorPicker.tune,name:"tune",ripple:!1}),S(fn,{icon:o.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function x(){const T={ref:i,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(f.value!==!0?" readonly":""),style:q.value,...f.value===!0?{onClick:_,onMousedown:B}:{}},X=[S("div",{style:{paddingBottom:"100%"}}),S("div",{class:"q-color-picker__spectrum-white absolute-full"}),S("div",{class:"q-color-picker__spectrum-black absolute-full"}),S("div",{class:"absolute",style:D.value},[m.value.hex!==void 0?S("div",{class:"q-color-picker__spectrum-circle"}):null])],ne=[S(Jt,{class:"q-color-picker__hue non-selectable",modelValue:m.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:f.value!==!0,thumbPath:Tl,"onUpdate:modelValue":F,onChange:W})];return V.value===!0&&ne.push(S(Jt,{class:"q-color-picker__alpha non-selectable",modelValue:m.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:Vr,readonly:f.value!==!0,hideSelection:!0,thumbPath:Tl,...a("alphaSlide",{"onUpdate:modelValue":ie=>L(ie,"a",100),onChange:ie=>L(ie,"a",100,void 0,!0)})})),[ro("div",T,X,"spec",f.value,()=>ce.value),S("div",{class:"q-color-picker__sliders"},ne)]}function K(){return[S("div",{class:"row items-center no-wrap"},[S("div","R"),S(Jt,{modelValue:m.value.r,min:0,max:255,color:"red",dark:l.value,readonly:f.value!==!0,...a("rSlide",{"onUpdate:modelValue":T=>L(T,"r",255),onChange:T=>L(T,"r",255,void 0,!0)})}),S("input",{value:m.value.r,maxlength:3,readonly:f.value!==!0,onChange:je,...a("rIn",{onInput:T=>L(T.target.value,"r",255,T),onBlur:T=>L(T.target.value,"r",255,T,!0)})})]),S("div",{class:"row items-center no-wrap"},[S("div","G"),S(Jt,{modelValue:m.value.g,min:0,max:255,color:"green",dark:l.value,readonly:f.value!==!0,...a("gSlide",{"onUpdate:modelValue":T=>L(T,"g",255),onChange:T=>L(T,"g",255,void 0,!0)})}),S("input",{value:m.value.g,maxlength:3,readonly:f.value!==!0,onChange:je,...a("gIn",{onInput:T=>L(T.target.value,"g",255,T),onBlur:T=>L(T.target.value,"g",255,T,!0)})})]),S("div",{class:"row items-center no-wrap"},[S("div","B"),S(Jt,{modelValue:m.value.b,min:0,max:255,color:"blue",readonly:f.value!==!0,dark:l.value,...a("bSlide",{"onUpdate:modelValue":T=>L(T,"b",255),onChange:T=>L(T,"b",255,void 0,!0)})}),S("input",{value:m.value.b,maxlength:3,readonly:f.value!==!0,onChange:je,...a("bIn",{onInput:T=>L(T.target.value,"b",255,T),onBlur:T=>L(T.target.value,"b",255,T,!0)})})]),V.value===!0?S("div",{class:"row items-center no-wrap"},[S("div","A"),S(Jt,{modelValue:m.value.a,color:"grey",readonly:f.value!==!0,dark:l.value,...a("aSlide",{"onUpdate:modelValue":T=>L(T,"a",100),onChange:T=>L(T,"a",100,void 0,!0)})}),S("input",{value:m.value.a,maxlength:3,readonly:f.value!==!0,onChange:je,...a("aIn",{onInput:T=>L(T.target.value,"a",100,T),onBlur:T=>L(T.target.value,"a",100,T,!0)})})]):null]}function Oe(){const T=X=>S("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:X},...f.value===!0?a("palette#"+X,{onClick:()=>{Se(X)}}):{}});return[S("div",{class:"row items-center q-color-picker__palette-rows"+(f.value===!0?" q-color-picker__palette-rows--editable":"")},z.value.map(T))]}return()=>{const T=[d()];return e.name!==void 0&&e.disable!==!0&&P(T,"push"),e.noHeader!==!0&&T.unshift(ue()),e.noFooter!==!0&&T.push(E()),S("div",{class:Y.value,...Q.value},T)}}}),$r={class:"q-mt-md"},Lr=In({__name:"AddCategoryDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const n=e,o=t,l=I(!1),a=I(""),i=I("#1976D2"),r=I(!1),u=I("#1976D2");fe(()=>n.modelValue,C=>{l.value=C}),fe(l,C=>{o("update:modelValue",C),C||h()});const s=()=>{a.value.trim()&&(o("submit",{name:a.value.trim(),color:i.value}),l.value=!1)},c=()=>{l.value=!1},h=()=>{a.value="",i.value="#1976D2"},m=()=>{u.value=i.value,r.value=!0},f=()=>{r.value=!1,i.value=u.value},p=()=>{u.value=i.value,r.value=!1};return(C,k)=>(Je(),Lt(_t,{modelValue:l.value,"onUpdate:modelValue":k[4]||(k[4]=P=>l.value=P),persistent:""},{default:U(()=>[M(wt,{style:{"min-width":"350px"}},{default:U(()=>[M(Qe,null,{default:U(()=>k[5]||(k[5]=[de("div",{class:"text-h6"},"新增分類",-1)])),_:1,__:[5]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[M(an,{dense:"",modelValue:a.value,"onUpdate:modelValue":k[0]||(k[0]=P=>a.value=P),autofocus:"",label:"分類名稱",onKeyup:Kl(s,["enter"])},null,8,["modelValue"]),de("div",$r,[k[7]||(k[7]=de("div",{class:"text-subtitle2 q-mb-xs"},"分類顏色",-1)),M(an,{modelValue:i.value,"onUpdate:modelValue":k[1]||(k[1]=P=>i.value=P),label:"顏色",readonly:"",class:"cursor-pointer",onClick:m},{prepend:U(()=>[de("div",{style:Cn({backgroundColor:i.value}),class:"color-preview"},null,4)]),append:U(()=>[M(Ze,{name:"palette",class:"cursor-pointer",onClick:m})]),_:1},8,["modelValue"]),M(_t,{modelValue:r.value,"onUpdate:modelValue":k[3]||(k[3]=P=>r.value=P)},{default:U(()=>[M(wt,{style:{"min-width":"300px"}},{default:U(()=>[M(Qe,null,{default:U(()=>k[6]||(k[6]=[de("div",{class:"text-h6"},"選擇顏色",-1)])),_:1,__:[6]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[M(Ea,{modelValue:i.value,"onUpdate:modelValue":k[2]||(k[2]=P=>i.value=P),class:"full-width"},null,8,["modelValue"])]),_:1}),M(Ot,{align:"right"},{default:U(()=>[M(Ce,{flat:"",label:"取消",onClick:f}),M(Ce,{flat:"",label:"確定",color:"primary",onClick:p})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),M(Ot,{align:"right",class:"text-primary"},{default:U(()=>[M(Ce,{flat:"",label:"取消",onClick:c}),M(Ce,{flat:"",label:"確定",onClick:s,disable:!a.value.trim()},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Mn=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},Rr=Mn(Lr,[["__scopeId","data-v-f714176d"]]),An=He({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=b(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>S("div",{class:n.value},ht(t.default))}}),co=He({name:"QItem",props:{...zt,...fi,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Ue(),l=Nt(e,o),{hasLink:a,linkAttrs:i,linkClass:r,linkTag:u,navigateOnClick:s}=vi(),c=I(null),h=I(null),m=b(()=>e.clickable===!0||a.value===!0||e.tag==="label"),f=b(()=>e.disable!==!0&&m.value===!0),p=b(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(f.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),C=b(()=>e.insetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function k(y){f.value===!0&&(h.value!==null&&y.qAvoidFocus!==!0&&(y.qKeyEvent!==!0&&document.activeElement===c.value?h.value.focus():document.activeElement===h.value&&c.value.focus()),s(y))}function P(y){if(f.value===!0&&ao(y,[13,32])===!0){Ye(y),y.qKeyEvent=!0;const w=new MouseEvent("click",y);w.qKeyEvent=!0,c.value.dispatchEvent(w)}n("keyup",y)}function V(){const y=mi(t.default,[]);return f.value===!0&&y.unshift(S("div",{class:"q-focus-helper",tabindex:-1,ref:h})),y}return()=>{const y={ref:c,class:p.value,style:C.value,role:"listitem",onClick:k,onKeyup:P};return f.value===!0?(y.tabindex=e.tabindex||"0",Object.assign(y,i.value)):m.value===!0&&(y["aria-disabled"]="true"),S(u.value,y,V())}}}),Fr=He({name:"QField",inheritAttrs:!1,props:{...Fo,tag:{type:String,default:"label"}},emits:Xl,setup(){return Yl(Ql({tagProp:!0}))}}),zr={xs:8,sm:10,md:14,lg:20,xl:24},Nr=He({name:"QChip",props:{...zt,...gi,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=Ue(),l=Nt(e,o),a=hi(e,zr),i=b(()=>e.selected===!0||e.icon!==void 0),r=b(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),u=b(()=>e.iconRemove||o.iconSet.chip.remove),s=b(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=b(()=>{const k=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(k?` text-${k} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(s.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(l.value===!0?" q-chip--dark q-dark":"")}),h=b(()=>{const k=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...k,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:k,remove:P}});function m(k){k.keyCode===13&&f(k)}function f(k){e.disable||(n("update:selected",!e.selected),n("click",k))}function p(k){(k.keyCode===void 0||k.keyCode===13)&&(Ye(k),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function C(){const k=[];s.value===!0&&k.push(S("div",{class:"q-focus-helper"})),i.value===!0&&k.push(S(Ze,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const P=e.label!==void 0?[S("div",{class:"ellipsis"},[e.label])]:void 0;return k.push(S("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},pi(t.default,P))),e.iconRight&&k.push(S(Ze,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&k.push(S(Ze,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:u.value,...h.value.remove,onClick:p,onKeyup:p})),k}return()=>{if(e.modelValue===!1)return;const k={class:c.value,style:a.value};return s.value===!0&&Object.assign(k,h.value.chip,{onClick:f,onKeyup:m}),ro("div",k,C(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ul,e.ripple]])}}}),Hr=He({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=b(()=>parseInt(e.lines,10)),o=b(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),l=b(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>S("div",{style:l.value,class:o.value},ht(t.default))}}),Ta=He({name:"QMenu",inheritAttrs:!1,props:{...Bi,...Bl,...zt,...bn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Qn},self:{type:String,validator:Qn},offset:{type:Array,validator:aa},scrollTarget:Ol,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Il,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let l=null,a,i,r;const u=Ue(),{proxy:s}=u,{$q:c}=s,h=I(null),m=I(!1),f=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=Nt(e,c),{registerTick:C,removeTick:k}=yn(),{registerTimeout:P}=Tn(),{transitionProps:V,transitionStyle:y}=Ml(e),{localScrollTarget:w,changeScrollEvent:q,unconfigureScrollTarget:D}=oa(e,R),{anchorEl:z,canShow:Y}=na({showing:m}),{hide:Q}=Vl({showing:m,canShow:Y,handleShow:Ie,handleHide:_,hideOnRouteChange:f,processOnMount:!0}),{showPortal:ce,hidePortal:ae,renderPortal:te}=$l(u,h,E,"menu"),se={anchorEl:z,innerRef:h,onClickOutside(x){if(e.persistent!==!0&&m.value===!0)return Q(x),(x.type==="touchstart"||x.target.classList.contains("q-dialog__backdrop"))&&Ye(x),!0}},F=b(()=>Gn(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),W=b(()=>e.cover===!0?F.value:Gn(e.self||"top start",c.lang.rtl)),L=b(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),ve=b(()=>e.autoClose===!0?{onClick:ee}:{}),Se=b(()=>m.value===!0&&e.persistent!==!0);fe(Se,x=>{x===!0?(bi(d),la(se)):(tl(d),Yn(se))});function ke(){Gl(()=>{let x=h.value;x&&x.contains(document.activeElement)!==!0&&(x=x.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||x.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||x.querySelector("[autofocus], [data-autofocus]")||x,x.focus({preventScroll:!0}))})}function Ie(x){if(l=e.noRefocus===!1?document.activeElement:null,yi(ue),ce(),R(),a=void 0,x!==void 0&&(e.touchPosition||e.contextMenu)){const K=Ft(x);if(K.left!==void 0){const{top:Oe,left:T}=z.value.getBoundingClientRect();a={left:K.left-T,top:K.top-Oe}}}i===void 0&&(i=fe(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,v)),e.noFocus!==!0&&document.activeElement.blur(),C(()=>{v(),e.noFocus!==!0&&ke()}),P(()=>{c.platform.is.ios===!0&&(r=e.autoClose,h.value.click()),v(),ce(!0),n("show",x)},e.transitionDuration)}function _(x){k(),ae(),B(!0),l!==null&&(x===void 0||x.qClickOutside!==!0)&&(((x?.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),P(()=>{ae(!0),n("hide",x)},e.transitionDuration)}function B(x){a=void 0,i!==void 0&&(i(),i=void 0),(x===!0||m.value===!0)&&(Ci(ue),D(),Yn(se),tl(d)),x!==!0&&(l=null)}function R(){(z.value!==null||e.scrollTarget!==void 0)&&(w.value=Ll(z.value,e.scrollTarget),q(w.value,v))}function ee(x){r!==!0?(Si(s,x),n("click",x)):r=!1}function ue(x){Se.value===!0&&e.noFocus!==!0&&wi(h.value,x.target)!==!0&&ke()}function d(x){e.noEscDismiss!==!0&&(n("escapeKey"),Q(x))}function v(){zo({targetEl:h.value,offset:e.offset,anchorEl:z.value,anchorOrigin:F.value,selfOrigin:W.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function E(){return S(io,V.value,()=>m.value===!0?S("div",{role:"menu",...o,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+L.value,o.class],style:[o.style,y.value],...ve.value},ht(t.default)):null)}return et(B),Object.assign(s,{focus:ke,updatePosition:v}),te}}),mt=1e3,jr=["start","center","end","start-force","center-force","end-force"],qa=Array.prototype.filter,Ur=window.getComputedStyle(document.body).overflowAnchor===void 0?Pn:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];qa.call(n,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const o=n[t];o?.dataset&&(o.dataset.qVsAnchor="")}))};function ln(e,t){return e+t}function Do(e,t,n,o,l,a,i,r){const u=e===window?document.scrollingElement||document.documentElement:e,s=l===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-i-r,scrollMaxSize:0,offsetStart:-i,offsetEnd:-r};if(l===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=u.scrollLeft,c.scrollViewSize+=u.clientWidth),c.scrollMaxSize=u.scrollWidth,a===!0&&(c.scrollStart=(Dn===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=u.scrollTop,c.scrollViewSize+=u.clientHeight),c.scrollMaxSize=u.scrollHeight),n!==null)for(let h=n.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=h[s]);if(o!==null)for(let h=o.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=h[s]);if(t!==e){const h=u.getBoundingClientRect(),m=t.getBoundingClientRect();l===!0?(c.offsetStart+=m.left-h.left,c.offsetEnd-=m.width):(c.offsetStart+=m.top-h.top,c.offsetEnd-=m.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function ql(e,t,n,o){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(o===!0&&(t=(Dn===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(o===!0&&(t=(Dn===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function vn(e,t,n,o){if(n>=o)return 0;const l=t.length,a=Math.floor(n/mt),i=Math.floor((o-1)/mt)+1;let r=e.slice(a,i).reduce(ln,0);return n%mt!==0&&(r-=t.slice(a*mt,n).reduce(ln,0)),o%mt!==0&&o!==l&&(r-=t.slice(o,i*mt).reduce(ln,0)),r}const Wr={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Dl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Wr};function Kr({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const l=Ue(),{props:a,emit:i,proxy:r}=l,{$q:u}=r;let s,c,h,m=[],f;const p=I(0),C=I(0),k=I({}),P=I(null),V=I(null),y=I(null),w=I({from:0,to:0}),q=b(()=>a.tableColspan!==void 0?a.tableColspan:100);o===void 0&&(o=b(()=>a.virtualScrollItemSize));const D=b(()=>o.value+";"+a.virtualScrollHorizontal),z=b(()=>D.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);fe(z,()=>{L()}),fe(D,Y);function Y(){W(c,!0)}function Q(_){W(_===void 0?c:_)}function ce(_,B){const R=t();if(R==null||R.nodeType===8)return;const ee=Do(R,n(),P.value,V.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);h!==ee.scrollViewSize&&L(ee.scrollViewSize),te(R,ee,Math.min(e.value-1,Math.max(0,parseInt(_,10)||0)),0,jr.indexOf(B)!==-1?B:c!==-1&&_>c?"end":"start")}function ae(){const _=t();if(_==null||_.nodeType===8)return;const B=Do(_,n(),P.value,V.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),R=e.value-1,ee=B.scrollMaxSize-B.offsetStart-B.offsetEnd-C.value;if(s===B.scrollStart)return;if(B.scrollMaxSize<=0){te(_,B,0,0);return}h!==B.scrollViewSize&&L(B.scrollViewSize),se(w.value.from);const ue=Math.floor(B.scrollMaxSize-Math.max(B.scrollViewSize,B.offsetEnd)-Math.min(f[R],B.scrollViewSize/2));if(ue>0&&Math.ceil(B.scrollStart)>=ue){te(_,B,R,B.scrollMaxSize-B.offsetEnd-m.reduce(ln,0));return}let d=0,v=B.scrollStart-B.offsetStart,E=v;if(v<=ee&&v+B.scrollViewSize>=p.value)v-=p.value,d=w.value.from,E=v;else for(let x=0;v>=m[x]&&d<R;x++)v-=m[x],d+=mt;for(;v>0&&d<R;)v-=f[d],v>-B.scrollViewSize?(d++,E=v):E=f[d]+v;te(_,B,d,E)}function te(_,B,R,ee,ue){const d=typeof ue=="string"&&ue.indexOf("-force")!==-1,v=d===!0?ue.replace("-force",""):ue,E=v!==void 0?v:"start";let x=Math.max(0,R-k.value[E]),K=x+k.value.total;K>e.value&&(K=e.value,x=Math.max(0,K-k.value.total)),s=B.scrollStart;const Oe=x!==w.value.from||K!==w.value.to;if(Oe===!1&&v===void 0){Se(R);return}const{activeElement:T}=document,X=y.value;Oe===!0&&X!==null&&X!==T&&X.contains(T)===!0&&(X.addEventListener("focusout",F),setTimeout(()=>{X?.removeEventListener("focusout",F)})),Ur(X,R-x);const ne=v!==void 0?f.slice(x,R).reduce(ln,0):0;if(Oe===!0){const ie=K>=w.value.from&&x<=w.value.to?w.value.to:K;w.value={from:x,to:ie},p.value=vn(m,f,0,x),C.value=vn(m,f,K,e.value),requestAnimationFrame(()=>{w.value.to!==K&&s===B.scrollStart&&(w.value={from:w.value.from,to:K},C.value=vn(m,f,K,e.value))})}requestAnimationFrame(()=>{if(s!==B.scrollStart)return;Oe===!0&&se(x);const ie=f.slice(x,R).reduce(ln,0),xe=ie+B.offsetStart+p.value,re=xe+f[R];let Be=xe+ee;if(v!==void 0){const De=ie-ne,We=B.scrollStart+De;Be=d!==!0&&We<xe&&re<We+B.scrollViewSize?We:v==="end"?re-B.scrollViewSize:xe-(v==="start"?0:Math.round((B.scrollViewSize-f[R])/2))}s=Be,ql(_,Be,a.virtualScrollHorizontal,u.lang.rtl),Se(R)})}function se(_){const B=y.value;if(B){const R=qa.call(B.children,x=>x.classList&&x.classList.contains("q-virtual-scroll--skip")===!1),ee=R.length,ue=a.virtualScrollHorizontal===!0?x=>x.getBoundingClientRect().width:x=>x.offsetHeight;let d=_,v,E;for(let x=0;x<ee;){for(v=ue(R[x]),x++;x<ee&&R[x].classList.contains("q-virtual-scroll--with-prev")===!0;)v+=ue(R[x]),x++;E=v-f[d],E!==0&&(f[d]+=E,m[Math.floor(d/mt)]+=E),d++}}}function F(){y.value?.focus()}function W(_,B){const R=1*o.value;(B===!0||Array.isArray(f)===!1)&&(f=[]);const ee=f.length;f.length=e.value;for(let d=e.value-1;d>=ee;d--)f[d]=R;const ue=Math.floor((e.value-1)/mt);m=[];for(let d=0;d<=ue;d++){let v=0;const E=Math.min((d+1)*mt,e.value);for(let x=d*mt;x<E;x++)v+=f[x];m.push(v)}c=-1,s=void 0,p.value=vn(m,f,0,w.value.from),C.value=vn(m,f,w.value.to,e.value),_>=0?(se(w.value.from),nt(()=>{ce(_)})):ke()}function L(_){if(_===void 0&&typeof window<"u"){const v=t();v!=null&&v.nodeType!==8&&(_=Do(v,n(),P.value,V.value,a.virtualScrollHorizontal,u.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}h=_;const B=parseFloat(a.virtualScrollSliceRatioBefore)||0,R=parseFloat(a.virtualScrollSliceRatioAfter)||0,ee=1+B+R,ue=_===void 0||_<=0?1:Math.ceil(_/o.value),d=Math.max(1,ue,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/ee));k.value={total:Math.ceil(d*ee),start:Math.ceil(d*B),center:Math.ceil(d*(.5+B)),end:Math.ceil(d*(1+B)),view:ue}}function ve(_,B){const R=a.virtualScrollHorizontal===!0?"width":"height",ee={["--q-virtual-scroll-item-"+R]:o.value+"px"};return[_==="tbody"?S(_,{class:"q-virtual-scroll__padding",key:"before",ref:P},[S("tr",[S("td",{style:{[R]:`${p.value}px`,...ee},colspan:q.value})])]):S(_,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[R]:`${p.value}px`,...ee}}),S(_,{class:"q-virtual-scroll__content",key:"content",ref:y,tabindex:-1},B.flat()),_==="tbody"?S(_,{class:"q-virtual-scroll__padding",key:"after",ref:V},[S("tr",[S("td",{style:{[R]:`${C.value}px`,...ee},colspan:q.value})])]):S(_,{class:"q-virtual-scroll__padding",key:"after",ref:V,style:{[R]:`${C.value}px`,...ee}})]}function Se(_){c!==_&&(a.onVirtualScroll!==void 0&&i("virtualScroll",{index:_,from:w.value.from,to:w.value.to-1,direction:_<c?"decrease":"increase",ref:r}),c=_)}L();const ke=ki(ae,u.platform.is.ios===!0?120:35);Jl(()=>{L()});let Ie=!1;return Nl(()=>{Ie=!0}),Hl(()=>{if(Ie!==!0)return;const _=t();s!==void 0&&_!==void 0&&_!==null&&_.nodeType!==8?ql(_,s,a.virtualScrollHorizontal,u.lang.rtl):ce(c)}),et(()=>{ke.cancel()}),Object.assign(r,{scrollTo:ce,reset:Y,refresh:Q}),{virtualScrollSliceRange:w,virtualScrollSliceSizeComputed:k,setVirtualScrollSize:L,onVirtualScrollEvt:ke,localResetVirtualScroll:W,padVirtualScroll:ve,scrollTo:ce,reset:Y,refresh:Q}}const Al=e=>["add","add-unique","toggle"].includes(e),Xr=".*+?^${}()|[]\\",Yr=Object.keys(Fo);function Ao(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return o=>o!==null&&typeof o=="object"&&n in o?o[n]:o}const Da=He({name:"QSelect",inheritAttrs:!1,props:{...Dl,...Ro,...Fo,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Al},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Dl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Xl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:o}=Ue(),{$q:l}=o,a=I(!1),i=I(!1),r=I(-1),u=I(""),s=I(!1),c=I(!1);let h=null,m=null,f,p,C,k=null,P,V,y,w;const q=I(null),D=I(null),z=I(null),Y=I(null),Q=I(null),ce=xi(e),ae=_i(Yo),te=b(()=>Array.isArray(e.options)?e.options.length:0),se=b(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:F,virtualScrollSliceSizeComputed:W,localResetVirtualScroll:L,padVirtualScroll:ve,onVirtualScrollEvt:Se,scrollTo:ke,setVirtualScrollSize:Ie}=Kr({virtualScrollLength:te,getVirtualScrollTarget:za,getVirtualScrollEl:jt,virtualScrollItemSizeComputed:se}),_=Ql(),B=b(()=>{const g=e.mapOptions===!0&&e.multiple!==!0,N=e.modelValue!==void 0&&(e.modelValue!==null||g===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const H=e.mapOptions===!0&&f!==void 0?f:[],ge=N.map(qe=>A(qe,H));return e.modelValue===null&&g===!0?ge.filter(qe=>qe!==null):ge}return N}),R=b(()=>{const g={};return Yr.forEach(N=>{const H=e[N];H!==void 0&&(g[N]=H)}),g}),ee=b(()=>e.optionsDark===null?_.isDark.value:e.optionsDark),ue=b(()=>nl(B.value)),d=b(()=>{let g="q-field__input q-placeholder col";return e.hideSelected===!0||B.value.length===0?[g,e.inputClass]:(g+=" q-field__input--padding",e.inputClass===void 0?g:[g,e.inputClass])}),v=b(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),E=b(()=>te.value===0),x=b(()=>B.value.map(g=>O.value(g)).join(", ")),K=b(()=>e.displayValue!==void 0?e.displayValue:x.value),Oe=b(()=>e.optionsHtml===!0?()=>!0:g=>g?.html===!0),T=b(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||B.value.some(Oe.value))),X=b(()=>_.focused.value===!0?e.tabindex:-1),ne=b(()=>{const g={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${_.targetUid.value}_lb`};return r.value>=0&&(g["aria-activedescendant"]=`${_.targetUid.value}_${r.value}`),g}),ie=b(()=>({id:`${_.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),xe=b(()=>B.value.map((g,N)=>({index:N,opt:g,html:Oe.value(g),selected:!0,removeAtIndex:ye,toggleOption:ze,tabindex:X.value}))),re=b(()=>{if(te.value===0)return[];const{from:g,to:N}=F.value;return e.options.slice(g,N).map((H,ge)=>{const qe=j.value(H)===!0,we=G(H)===!0,Ke=g+ge,Ve={clickable:!0,active:we,activeClass:We.value,manualFocus:!0,focused:!1,disable:qe,tabindex:-1,dense:e.optionsDense,dark:ee.value,role:"option","aria-selected":we===!0?"true":"false",id:`${_.targetUid.value}_${Ke}`,onClick:()=>{ze(H)}};return qe!==!0&&(r.value===Ke&&(Ve.focused=!0),l.platform.is.desktop===!0&&(Ve.onMousemove=()=>{a.value===!0&&ut(Ke)})),{index:Ke,opt:H,html:Oe.value(H),label:O.value(H),selected:Ve.active,focused:Ve.focused,toggleOption:ze,setOptionIndex:ut,itemProps:Ve}})}),Be=b(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),De=b(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),We=b(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),$e=b(()=>Ao(e.optionValue,"value")),O=b(()=>Ao(e.optionLabel,"label")),j=b(()=>Ao(e.optionDisable,"disable")),oe=b(()=>B.value.map($e.value)),_e=b(()=>{const g={onInput:Yo,onChange:ae,onKeydown:Ht,onKeyup:Ne,onKeypress:dt,onFocus:me,onClick(N){p===!0&&je(N)}};return g.onCompositionstart=g.onCompositionupdate=g.onCompositionend=ae,g});fe(B,g=>{f=g,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&_.innerLoading.value!==!0&&(i.value!==!0&&a.value!==!0||ue.value!==!0)&&(C!==!0&&Xt(),(i.value===!0||a.value===!0)&&Ut(""))},{immediate:!0}),fe(()=>e.fillInput,Xt),fe(a,fo),fe(te,Za);function Ee(g){return e.emitValue===!0?$e.value(g):g}function pe(g){if(g!==-1&&g<B.value.length)if(e.multiple===!0){const N=e.modelValue.slice();n("remove",{index:g,value:N.splice(g,1)[0]}),n("update:modelValue",N)}else n("update:modelValue",null)}function ye(g){pe(g),_.focus()}function Le(g,N){const H=Ee(g);if(e.multiple!==!0){e.fillInput===!0&&un(O.value(g),!0,!0),n("update:modelValue",H);return}if(B.value.length===0){n("add",{index:0,value:H}),n("update:modelValue",e.multiple===!0?[H]:H);return}if(N===!0&&G(g)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ge=e.modelValue.slice();n("add",{index:ge.length,value:H}),ge.push(H),n("update:modelValue",ge)}function ze(g,N){if(_.editable.value!==!0||g===void 0||j.value(g)===!0)return;const H=$e.value(g);if(e.multiple!==!0){N!==!0&&(un(e.fillInput===!0?O.value(g):"",!0,!0),Bt()),D.value?.focus(),(B.value.length===0||sn($e.value(B.value[0]),H)!==!0)&&n("update:modelValue",e.emitValue===!0?H:g);return}if((p!==!0||s.value===!0)&&_.focus(),me(),B.value.length===0){const we=e.emitValue===!0?H:g;n("add",{index:0,value:we}),n("update:modelValue",e.multiple===!0?[we]:we);return}const ge=e.modelValue.slice(),qe=oe.value.findIndex(we=>sn(we,H));if(qe!==-1)n("remove",{index:qe,value:ge.splice(qe,1)[0]});else{if(e.maxValues!==void 0&&ge.length>=e.maxValues)return;const we=e.emitValue===!0?H:g;n("add",{index:ge.length,value:we}),ge.push(we)}n("update:modelValue",ge)}function ut(g){if(l.platform.is.desktop!==!0)return;const N=g!==-1&&g<te.value?g:-1;r.value!==N&&(r.value=N)}function qt(g=1,N){if(a.value===!0){let H=r.value;do H=yl(H+g,-1,te.value-1);while(H!==-1&&H!==r.value&&j.value(e.options[H])===!0);r.value!==H&&(ut(H),ke(H),N!==!0&&e.useInput===!0&&e.fillInput===!0&&Vn(H>=0?O.value(e.options[H]):P,!0))}}function A(g,N){const H=ge=>sn($e.value(ge),g);return e.options.find(H)||N.find(H)||g}function G(g){const N=$e.value(g);return oe.value.find(H=>sn(H,N))!==void 0}function me(g){e.useInput===!0&&D.value!==null&&(g===void 0||D.value===g.target&&g.target.value===x.value)&&D.value.select()}function Te(g){ao(g,27)===!0&&a.value===!0&&(je(g),Bt(),Xt()),n("keyup",g)}function Ne(g){const{value:N}=g.target;if(g.keyCode!==void 0){Te(g);return}if(g.target.value="",h!==null&&(clearTimeout(h),h=null),m!==null&&(clearTimeout(m),m=null),Xt(),typeof N=="string"&&N.length!==0){const H=N.toLocaleLowerCase(),ge=we=>{const Ke=e.options.find(Ve=>String(we.value(Ve)).toLocaleLowerCase()===H);return Ke===void 0?!1:(B.value.indexOf(Ke)===-1?ze(Ke):Bt(),!0)},qe=we=>{ge($e)!==!0&&we!==!0&&ge(O)!==!0&&Ut(N,!0,()=>qe(!0))};qe()}else _.clearValue(g)}function dt(g){n("keypress",g)}function Ht(g){if(n("keydown",g),uo(g)===!0)return;const N=u.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),H=g.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(r.value!==-1||N===!0);if(g.keyCode===27){Ct(g);return}if(g.keyCode===9&&H===!1){Wt();return}if(g.target===void 0||g.target.id!==_.targetUid.value||_.editable.value!==!0)return;if(g.keyCode===40&&_.innerLoading.value!==!0&&a.value===!1){Ye(g),Kt();return}if(g.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&u.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?pe(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(g.keyCode===35||g.keyCode===36)&&(typeof u.value!="string"||u.value.length===0)&&(Ye(g),r.value=-1,qt(g.keyCode===36?1:-1,e.multiple)),(g.keyCode===33||g.keyCode===34)&&W.value!==void 0&&(Ye(g),r.value=Math.max(-1,Math.min(te.value,r.value+(g.keyCode===33?-1:1)*W.value.view)),qt(g.keyCode===33?1:-1,e.multiple)),(g.keyCode===38||g.keyCode===40)&&(Ye(g),qt(g.keyCode===38?-1:1,e.multiple));const ge=te.value;if((y===void 0||w<Date.now())&&(y=""),ge>0&&e.useInput!==!0&&g.key!==void 0&&g.key.length===1&&g.altKey===!1&&g.ctrlKey===!1&&g.metaKey===!1&&(g.keyCode!==32||y.length!==0)){a.value!==!0&&Kt(g);const qe=g.key.toLocaleLowerCase(),we=y.length===1&&y[0]===qe;w=Date.now()+1500,we===!1&&(Ye(g),y+=qe);const Ke=new RegExp("^"+y.split("").map(vo=>Xr.indexOf(vo)!==-1?"\\"+vo:vo).join(".*"),"i");let Ve=r.value;if(we===!0||Ve<0||Ke.test(O.value(e.options[Ve]))!==!0)do Ve=yl(Ve+1,-1,ge-1);while(Ve!==r.value&&(j.value(e.options[Ve])===!0||Ke.test(O.value(e.options[Ve]))!==!0));r.value!==Ve&&nt(()=>{ut(Ve),ke(Ve),Ve>=0&&e.useInput===!0&&e.fillInput===!0&&Vn(O.value(e.options[Ve]),!0)});return}if(!(g.keyCode!==13&&(g.keyCode!==32||e.useInput===!0||y!=="")&&(g.keyCode!==9||H===!1))){if(g.keyCode!==9&&Ye(g),r.value!==-1&&r.value<ge){ze(e.options[r.value]);return}if(N===!0){const qe=(we,Ke)=>{if(Ke){if(Al(Ke)!==!0)return}else Ke=e.newValueMode;if(un("",e.multiple!==!0,!0),we==null)return;(Ke==="toggle"?ze:Le)(we,Ke==="add-unique"),e.multiple!==!0&&(D.value?.focus(),Bt())};if(e.onNewValue!==void 0?n("newValue",u.value,qe):qe(u.value),e.multiple!==!0)return}a.value===!0?Wt():_.innerLoading.value!==!0&&Kt()}}function jt(){return p===!0?Q.value:z.value!==null&&z.value.contentEl!==null?z.value.contentEl:void 0}function za(){return jt()}function Na(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?xe.value.map(g=>t["selected-item"](g)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?xe.value.map((g,N)=>S(Nr,{key:"option-"+N,removable:_.editable.value===!0&&j.value(g.opt)!==!0,dense:!0,textColor:e.color,tabindex:X.value,onRemove(){g.removeAtIndex(N)}},()=>S("span",{class:"ellipsis",[g.html===!0?"innerHTML":"textContent"]:O.value(g.opt)}))):[S("span",{class:"ellipsis",[T.value===!0?"innerHTML":"textContent"]:K.value})]}function Xo(){if(E.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:u.value}):void 0;const g=t.option!==void 0?t.option:H=>S(co,{key:H.index,...H.itemProps},()=>S(An,()=>S(Hr,()=>S("span",{[H.html===!0?"innerHTML":"textContent"]:H.label}))));let N=ve("div",re.value.map(g));return t["before-options"]!==void 0&&(N=t["before-options"]().concat(N)),Wl(t["after-options"],N)}function Ha(g,N){const H=N===!0?{...ne.value,..._.splitAttrs.attributes.value}:void 0,ge={ref:N===!0?D:void 0,key:"i_t",class:d.value,style:e.inputStyle,value:u.value!==void 0?u.value:"",type:"search",...H,id:N===!0?_.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":g===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,..._e.value};return g!==!0&&p===!0&&(Array.isArray(ge.class)===!0?ge.class=[...ge.class,"no-pointer-events"]:ge.class+=" no-pointer-events"),S("input",ge)}function Yo(g){h!==null&&(clearTimeout(h),h=null),m!==null&&(clearTimeout(m),m=null),!(g&&g.target&&g.target.qComposing===!0)&&(Vn(g.target.value||""),C=!0,P=u.value,_.focused.value!==!0&&(p!==!0||s.value===!0)&&_.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,Ut(u.value)},e.inputDebounce)))}function Vn(g,N){u.value!==g&&(u.value=g,N===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",g):m=setTimeout(()=>{m=null,n("inputValue",g)},e.inputDebounce))}function un(g,N,H){C=H!==!0,e.useInput===!0&&(Vn(g,!0),(N===!0||H!==!0)&&(P=g),N!==!0&&Ut(g))}function Ut(g,N,H){if(e.onFilter===void 0||N!==!0&&_.focused.value!==!0)return;_.innerLoading.value===!0?n("filterAbort"):(_.innerLoading.value=!0,c.value=!0),g!==""&&e.multiple!==!0&&B.value.length!==0&&C!==!0&&g===O.value(B.value[0])&&(g="");const ge=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);k!==null&&clearTimeout(k),k=ge,n("filter",g,(qe,we)=>{(N===!0||_.focused.value===!0)&&k===ge&&(clearTimeout(k),typeof qe=="function"&&qe(),c.value=!1,nt(()=>{_.innerLoading.value=!1,_.editable.value===!0&&(N===!0?a.value===!0&&Bt():a.value===!0?fo(!0):a.value=!0),typeof we=="function"&&nt(()=>{we(o)}),typeof H=="function"&&nt(()=>{H(o)})}))},()=>{_.focused.value===!0&&k===ge&&(clearTimeout(k),_.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function ja(){return S(Ta,{ref:z,class:v.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&E.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ee.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:De.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ie.value,onScrollPassive:Se,onBeforeShow:Go,onBeforeHide:Ua,onShow:Wa},Xo)}function Ua(g){Jo(g),Wt()}function Wa(){Ie()}function Ka(g){je(g),D.value?.focus(),s.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Xa(g){je(g),nt(()=>{s.value=!1})}function Ya(){const g=[S(Fr,{class:`col-auto ${_.fieldClass.value}`,...R.value,for:_.targetUid.value,dark:ee.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:u.value.length!==0,..._.splitAttrs.listeners.value,onFocus:Ka,onBlur:Xa},{...t,rawControl:()=>_.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&g.push(S("div",{ref:Q,class:v.value+" scroll",style:e.popupContentStyle,...ie.value,onClick:Ct,onScrollPassive:Se},Xo())),S(_t,{ref:Y,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:V,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Go,onBeforeHide:Qa,onHide:Ga,onShow:Ja},()=>S("div",{class:"q-select__dialog"+(ee.value===!0?" q-select__dialog--dark q-dark":"")+(s.value===!0?" q-select__dialog--focused":"")},g))}function Qa(g){Jo(g),Y.value!==null&&Y.value.__updateRefocusTarget(_.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),_.focused.value=!1}function Ga(g){Bt(),_.focused.value===!1&&n("blur",g),Xt()}function Ja(){const g=document.activeElement;(g===null||g.id!==_.targetUid.value)&&D.value!==null&&D.value!==g&&D.value.focus(),Ie()}function Wt(){i.value!==!0&&(r.value=-1,a.value===!0&&(a.value=!1),_.focused.value===!1&&(k!==null&&(clearTimeout(k),k=null),_.innerLoading.value===!0&&(n("filterAbort"),_.innerLoading.value=!1,c.value=!1)))}function Kt(g){_.editable.value===!0&&(p===!0?(_.onControlFocusin(g),i.value=!0,nt(()=>{_.focus()})):_.focus(),e.onFilter!==void 0?Ut(u.value):(E.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function Bt(){i.value=!1,Wt()}function Xt(){e.useInput===!0&&un(e.multiple!==!0&&e.fillInput===!0&&B.value.length!==0&&O.value(B.value[0])||"",!0,!0)}function fo(g){let N=-1;if(g===!0){if(B.value.length!==0){const H=$e.value(B.value[0]);N=e.options.findIndex(ge=>sn($e.value(ge),H))}L(N)}ut(N)}function Za(g,N){a.value===!0&&_.innerLoading.value===!1&&(L(-1,!0),nt(()=>{a.value===!0&&_.innerLoading.value===!1&&(g>N?L():fo(!0))}))}function Qo(){i.value===!1&&z.value!==null&&z.value.updatePosition()}function Go(g){g!==void 0&&je(g),n("popupShow",g),_.hasPopupOpen=!0,_.onControlFocusin(g)}function Jo(g){g!==void 0&&je(g),n("popupHide",g),_.hasPopupOpen=!1,_.onControlFocusout(g)}function Zo(){p=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||E.value===!1:!0),V=l.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return Ei(Zo),Ti(Qo),Zo(),et(()=>{h!==null&&clearTimeout(h),m!==null&&clearTimeout(m)}),Object.assign(o,{showPopup:Kt,hidePopup:Bt,removeAtIndex:pe,add:Le,toggleOption:ze,getOptionIndex:()=>r.value,setOptionIndex:ut,moveOptionSelection:qt,filter:Ut,updateMenuPosition:Qo,updateInputValue:un,isOptionSelected:G,getEmittingOptionValue:Ee,isOptionDisabled:(...g)=>j.value.apply(null,g)===!0,getOptionValue:(...g)=>$e.value.apply(null,g),getOptionLabel:(...g)=>O.value.apply(null,g)}),Object.assign(_,{innerValue:B,fieldClass:b(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:q,targetRef:D,hasValue:ue,showPopup:Kt,floatingLabel:b(()=>e.hideSelected!==!0&&ue.value===!0||typeof u.value=="number"||u.value.length!==0||nl(e.displayValue)),getControlChild:()=>{if(_.editable.value!==!1&&(i.value===!0||E.value!==!0||t["no-option"]!==void 0))return p===!0?Ya():ja();_.hasPopupOpen===!0&&(_.hasPopupOpen=!1)},controlEvents:{onFocusin(g){_.onControlFocusin(g)},onFocusout(g){_.onControlFocusout(g,()=>{Xt(),Wt()})},onClick(g){if(Ct(g),p!==!0&&a.value===!0){Wt(),D.value?.focus();return}Kt(g)}},getControl:g=>{const N=Na(),H=g===!0||i.value!==!0||p!==!0;if(e.useInput===!0)N.push(Ha(g,H));else if(_.editable.value===!0){const qe=H===!0?ne.value:void 0;N.push(S("input",{ref:H===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:H===!0?_.targetUid.value:void 0,value:K.value,readonly:!0,"data-autofocus":g===!0||e.autofocus===!0||void 0,...qe,onKeydown:Ht,onKeyup:Te,onKeypress:dt})),H===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&N.push(S("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ne}))}if(ce.value!==void 0&&e.disable!==!0&&oe.value.length!==0){const qe=oe.value.map(we=>S("option",{value:we,selected:!0}));N.push(S("select",{class:"hidden",name:ce.value,multiple:e.multiple},qe))}const ge=e.useInput===!0||H!==!0?void 0:_.splitAttrs.attributes.value;return S("div",{class:"q-field__native row items-center",...ge,..._.splitAttrs.listeners.value},N)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[S(Ze,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Be.value})]:null}),Yl(_)}});function Aa(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=o.display;return l==="block"||l==="table"?e:Aa(e.parentNode)}function Po(e,t,n){return!e||e===document.body?!1:n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Pa(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let o=0;t.count!==0&&o<e.childNodes.length;o++)n=Pa(e.childNodes[o],t,n);return n}const Qr=/^https?:\/\//;class Gr{constructor(t,n){this.el=t,this.eVm=n,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(Po(t.anchorNode,this.el,!0)&&Po(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const t=this.selection;return t?.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const n=t.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?Aa(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const n=document.createRange(),o=document.getSelection();t!==null?(n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),o.removeAllRanges(),o.addRange(n)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let t=-1,n;const o=document.getSelection(),l=this.el.parentNode;if(o.focusNode&&Po(o.focusNode,l))for(n=o.focusNode,t=o.focusOffset;n&&n!==l;)n!==this.el&&n.previousSibling?(n=n.previousSibling,t+=n.textContent.length):n=n.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const n=window.getSelection(),o=Pa(this.el,{count:this.savedPos});o&&(o.collapse(!1),n.removeAllRanges(),n.addRange(o))}}hasParent(t,n){const o=n?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,n,o=this.parent){return o===null?!1:t.includes(o.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(t,n,o.parentNode):!1}is(t,n){if(this.selection===null)return!1;switch(t){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===n;case"fontName":const o=document.queryCommandValue(t);return o===`"${n}"`||o===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(t);return n!==void 0?l===n:l}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,n,o=Pn){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(t,n)&&(t="outdent",n=null),n==="PRE"&&this.is(t,"PRE")&&(n="P");else if(t==="print"){o();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(t==="link"){const l=this.getParentAttribute("href");if(l===null){const a=this.selectWord(this.selection),i=a?a.toString():"";if(!i.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Qr.test(i)?i:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(a.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(t,!1,n),o()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);const o=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const l=t.focusNode,a=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",o[0],"character"),t.modify("move",o[1],"word"),t.extend(l,a),t.modify("extend",o[1],"character"),t.modify("extend",o[0],"word"),t}}const Jr=He({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=b(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>S("div",{class:n.value},ht(t.default))}}),Zr=Object.keys(Zl);function eu(e){return Zr.reduce((t,n)=>{const o=e[n];return o!==void 0&&(t[n]=o),t},{})}const tu=He({name:"QBtnDropdown",props:{...Zl,...bn,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:o}=Ue(),l=I(e.modelValue),a=I(null),i=qi(),r=b(()=>{const w={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(w["aria-disabled"]="true"),w}),u=b(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),s=b(()=>Di(e)),c=b(()=>eu(e));fe(()=>e.modelValue,w=>{a.value?.[w?"show":"hide"]()}),fe(()=>e.split,y);function h(w){l.value=!0,n("beforeShow",w)}function m(w){n("show",w),n("update:modelValue",!0)}function f(w){l.value=!1,n("beforeHide",w)}function p(w){n("hide",w),n("update:modelValue",!1)}function C(w){n("click",w)}function k(w){je(w),y(),n("click",w)}function P(w){a.value?.toggle(w)}function V(w){a.value?.show(w)}function y(w){a.value?.hide(w)}return Object.assign(o,{show:V,hide:y,toggle:P}),xt(()=>{e.modelValue===!0&&V()}),()=>{const w=[S(Ze,{class:u.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&w.push(S(Ta,{ref:a,id:i.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:h,onShow:m,onBeforeHide:f,onHide:p},t.default)),e.split===!1?S(Ce,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:C},{default:()=>ht(t.label,[]).concat(w),loading:t.loading}):S(Jr,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...s.value,glossy:e.glossy,stretch:e.stretch},()=>[S(Ce,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:k},{default:t.label,loading:t.loading}),S(Ce,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...r.value,...s.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>w)])}}});function Ia(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function Ko(e){return S("div",{class:"q-editor__toolbar-group"},e)}function Oa(e,t,n,o=!1){const l=o||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),a=[];if(e.$q.platform.is.desktop&&(t.tip||t.htmlTip)){const i=t.key?S("div",[S("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;a.push(S(zn,{delay:1e3},()=>[S("div",t.htmlTip?{innerHTML:t.htmlTip}:t.tip),i]))}return S(Ce,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:l?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,"aria-label":t.label==null?t.tip:void 0,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(i){n?.(),Ia(i,t,e)}},()=>a)}function nu(e,t){const n=t.list==="only-icons";let o=t.label,l=t.icon!==null?t.icon:void 0,a,i;function r(){s.component.proxy.hide()}if(n)i=t.options.map(c=>{const h=c.type===void 0?e.caret.is(c.cmd,c.param):!1;return h&&(o=c.tip,l=c.icon!==null?c.icon:void 0),Oa(e,c,r,h)}),a=e.toolbarBackgroundClass.value,i=[Ko(i)];else{const c=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,h=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,m=t.list==="no-icons";i=t.options.map(f=>{const p=f.disable?f.disable(e):!1,C=f.type===void 0?e.caret.is(f.cmd,f.param):!1;C&&(o=f.tip,l=f.icon!==null?f.icon:void 0);const k=f.htmlTip;return S(co,{active:C,activeClass:c,clickable:!0,disable:p,dense:!0,onClick(P){r(),P?.qAvoidFocus!==!0&&e.contentRef.value?.focus(),e.caret.restore(),Ia(P,f,e)}},()=>[m===!0?null:S(An,{class:C?c:h,side:!0},()=>S(Ze,{name:f.icon!==null?f.icon:void 0})),S(An,k?()=>S("div",{class:"text-no-wrap",innerHTML:f.htmlTip}):f.tip?()=>S("div",{class:"text-no-wrap"},f.tip):void 0)])}),a=[e.toolbarBackgroundClass.value,h]}const u=t.highlight&&o!==t.label,s=S(tu,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:u?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:u&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:o,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:l,contentClass:a,onShow:c=>e.emit("dropdownShow",c),onHide:c=>e.emit("dropdownHide",c),onBeforeShow:c=>e.emit("dropdownBeforeShow",c),onBeforeHide:c=>e.emit("dropdownBeforeHide",c)},()=>i);return s}function ou(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>Ko(t.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?ht(e.slots[n.slot]):n.type==="dropdown"?nu(e,n):Oa(e,n))))}function lu(e,t,n,o={}){const l=Object.keys(o);if(l.length===0)return{};const a={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return l.forEach(i=>{const r=o[i];a[i]={cmd:"fontName",param:r,icon:n,tip:r,htmlTip:`<font face="${r}">${r}</font>`}}),a}function au(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const o=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[S("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),S("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:l=>{je(l),n=l.target.value},onKeydown:l=>{if(uo(l)!==!0)switch(l.keyCode){case 13:return Ct(l),o();case 27:Ct(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Ko([S(Ce,{key:"qedt_btm_rem",...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),S(Ce,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}let mn=0;const iu={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ru=["update:fullscreen","fullscreen"];function uu(){const e=Ue(),{props:t,emit:n,proxy:o}=e;let l,a,i;const r=I(!1);Ai(e)===!0&&fe(()=>o.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),fe(()=>t.fullscreen,h=>{r.value!==h&&u()}),fe(r,h=>{n("update:fullscreen",h),n("fullscreen",h)});function u(){r.value===!0?c():s()}function s(){r.value!==!0&&(r.value=!0,i=o.$el.parentNode,i.replaceChild(a,o.$el),document.body.appendChild(o.$el),mn++,mn===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:c},ol.add(l))}function c(){r.value===!0&&(l!==void 0&&(ol.remove(l),l=void 0),i.replaceChild(o.$el,a),r.value=!1,mn=Math.max(0,mn-1),mn===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return Jl(()=>{a=document.createElement("span")}),xt(()=>{t.fullscreen===!0&&s()}),et(c),Object.assign(o,{toggleFullscreen:u,setFullscreen:s,exitFullscreen:c}),{inFullscreen:r,toggleFullscreen:u}}const su=Object.prototype.toString,Io=Object.prototype.hasOwnProperty,cu=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Pl(e){if(e!==Object(e)||cu.has(su.call(e))===!0||e.constructor&&Io.call(e,"constructor")===!1&&Io.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||Io.call(e,t)}function Ba(){let e,t,n,o,l,a,i=arguments[0]||{},r=1,u=!1;const s=arguments.length;for(typeof i=="boolean"&&(u=i,i=arguments[1]||{},r=2),Object(i)!==i&&typeof i!="function"&&(i={}),s===r&&(i=this,r--);r<s;r++)if((e=arguments[r])!==null)for(t in e)n=i[t],o=e[t],i!==o&&(u===!0&&o&&((l=Array.isArray(o))||Pl(o)===!0)?(l===!0?a=Array.isArray(n)===!0?n:[]:a=Pl(n)===!0?n:{},i[t]=Ba(u,a,o)):o!==void 0&&(i[t]=o));return i}const Ma=He({name:"QEditor",props:{...zt,...iu,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...ru,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:n}){const{proxy:o}=Ue(),{$q:l}=o,a=Nt(e,l),{inFullscreen:i,toggleFullscreen:r}=uu(),u=Pi(),s=I(null),c=I(null),h=I(null),m=I(!1),f=b(()=>!e.readonly&&!e.disable);let p,C,k=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),p=window.getComputedStyle(document.body).fontFamily;const P=b(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),V=b(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!f.value,size:"sm"})),y=b(()=>{const d=l.lang.editor,v=l.iconSet.editor;return{bold:{cmd:"bold",icon:v.bold,tip:d.bold,key:66},italic:{cmd:"italic",icon:v.italic,tip:d.italic,key:73},strike:{cmd:"strikeThrough",icon:v.strikethrough,tip:d.strikethrough,key:83},underline:{cmd:"underline",icon:v.underline,tip:d.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:v.unorderedList,tip:d.unorderedList},ordered:{cmd:"insertOrderedList",icon:v.orderedList,tip:d.orderedList},subscript:{cmd:"subscript",icon:v.subscript,tip:d.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:v.superscript,tip:d.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:E=>E.caret&&!E.caret.can("link"),icon:v.hyperlink,tip:d.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:v.toggleFullscreen,tip:d.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:v.viewSource,tip:d.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:v.quote,tip:d.quote,key:81},left:{cmd:"justifyLeft",icon:v.left,tip:d.left},center:{cmd:"justifyCenter",icon:v.center,tip:d.center},right:{cmd:"justifyRight",icon:v.right,tip:d.right},justify:{cmd:"justifyFull",icon:v.justify,tip:d.justify},print:{type:"no-state",cmd:"print",icon:v.print,tip:d.print,key:80},outdent:{type:"no-state",disable:E=>E.caret&&!E.caret.can("outdent"),cmd:"outdent",icon:v.outdent,tip:d.outdent},indent:{type:"no-state",disable:E=>E.caret&&!E.caret.can("indent"),cmd:"indent",icon:v.indent,tip:d.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:v.removeFormat,tip:d.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:v.hr,tip:d.hr},undo:{type:"no-state",cmd:"undo",icon:v.undo,tip:d.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:v.redo,tip:d.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:v.heading1||v.heading,tip:d.heading1,htmlTip:`<h1 class="q-ma-none">${d.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:v.heading2||v.heading,tip:d.heading2,htmlTip:`<h2 class="q-ma-none">${d.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:v.heading3||v.heading,tip:d.heading3,htmlTip:`<h3 class="q-ma-none">${d.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:v.heading4||v.heading,tip:d.heading4,htmlTip:`<h4 class="q-ma-none">${d.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:v.heading5||v.heading,tip:d.heading5,htmlTip:`<h5 class="q-ma-none">${d.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:v.heading6||v.heading,tip:d.heading6,htmlTip:`<h6 class="q-ma-none">${d.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:v.heading,tip:d.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:v.code,htmlTip:`<code>${d.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:v.size1||v.size,tip:d.size1,htmlTip:`<font size="1">${d.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:v.size2||v.size,tip:d.size2,htmlTip:`<font size="2">${d.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:v.size3||v.size,tip:d.size3,htmlTip:`<font size="3">${d.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:v.size4||v.size,tip:d.size4,htmlTip:`<font size="4">${d.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:v.size5||v.size,tip:d.size5,htmlTip:`<font size="5">${d.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:v.size6||v.size,tip:d.size6,htmlTip:`<font size="6">${d.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:v.size7||v.size,tip:d.size7,htmlTip:`<font size="7">${d.size7}</font>`}}}),w=b(()=>{const d=e.definitions||{},v=e.definitions||e.fonts?Ba(!0,{},y.value,d,lu(p,l.lang.editor.defaultFont,l.iconSet.editor.font,e.fonts)):y.value;return e.toolbar.map(E=>E.map(x=>{if(x.options)return{type:"dropdown",icon:x.icon,label:x.label,size:"sm",dense:!0,fixedLabel:x.fixedLabel,fixedIcon:x.fixedIcon,highlight:x.highlight,list:x.list,options:x.options.map(Oe=>v[Oe])};const K=v[x];return K?K.type==="no-state"||d[x]&&(K.cmd===void 0||y.value[K.cmd]&&y.value[K.cmd].type==="no-state")?K:Object.assign({type:"toggle"},K):{type:"slot",slot:x}}))}),q={$q:l,props:e,slots:t,emit:n,inFullscreen:i,toggleFullscreen:r,runCmd:B,isViewingSource:m,editLinkUrl:h,toolbarBackgroundClass:P,buttonProps:V,contentRef:c,buttons:w,setContent:_};fe(()=>e.modelValue,d=>{k!==d&&(k=d,_(d,!0))}),fe(h,d=>{n(`link${d?"Show":"Hide"}`)});const D=b(()=>e.toolbar&&e.toolbar.length!==0),z=b(()=>{const d={},v=E=>{E.key&&(d[E.key]={cmd:E.cmd,param:E.param})};return w.value.forEach(E=>{E.forEach(x=>{x.options?x.options.forEach(v):v(x)})}),d}),Y=b(()=>i.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Q=b(()=>`q-editor q-editor--${m.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(i.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(a.value===!0?" q-editor--dark q-dark":"")),ce=b(()=>[e.contentClass,"q-editor__content",{col:i.value,"overflow-auto":i.value||e.maxHeight}]),ae=b(()=>e.disable===!0?{"aria-disabled":"true"}:{});function te(){if(c.value!==null){const d=`inner${m.value===!0?"Text":"HTML"}`,v=c.value[d];v!==e.modelValue&&(k=v,n("update:modelValue",v))}}function se(d){if(n("keydown",d),d.ctrlKey!==!0||uo(d)===!0){R();return}const v=d.keyCode,E=z.value[v];if(E!==void 0){const{cmd:x,param:K}=E;Ye(d),B(x,K,!1)}}function F(d){R(),n("click",d)}function W(d){if(c.value!==null){const{scrollTop:v,scrollHeight:E}=c.value;C=E-v}q.caret.save(),n("blur",d)}function L(d){nt(()=>{c.value!==null&&C!==void 0&&(c.value.scrollTop=c.value.scrollHeight-C)}),n("focus",d)}function ve(d){const v=s.value;if(v!==null&&v.contains(d.target)===!0&&(d.relatedTarget===null||v.contains(d.relatedTarget)!==!0)){const E=`inner${m.value===!0?"Text":"HTML"}`;q.caret.restorePosition(c.value[E].length),R()}}function Se(d){const v=s.value;v!==null&&v.contains(d.target)===!0&&(d.relatedTarget===null||v.contains(d.relatedTarget)!==!0)&&(q.caret.savePosition(),R())}function ke(){C=void 0}function Ie(d){q.caret.save()}function _(d,v){if(c.value!==null){v===!0&&q.caret.savePosition();const E=`inner${m.value===!0?"Text":"HTML"}`;c.value[E]=d,v===!0&&(q.caret.restorePosition(c.value[E].length),R())}}function B(d,v,E=!0){ee(),q.caret.restore(),q.caret.apply(d,v,()=>{ee(),q.caret.save(),E&&R()})}function R(){setTimeout(()=>{h.value=null,o.$forceUpdate()},1)}function ee(){Gl(()=>{c.value?.focus({preventScroll:!0})})}function ue(){return c.value}return xt(()=>{q.caret=o.caret=new Gr(c.value,q),_(e.modelValue),R(),document.addEventListener("selectionchange",Ie)}),et(()=>{document.removeEventListener("selectionchange",Ie)}),Object.assign(o,{runCmd:B,refreshToolbar:R,focus:ee,getContentEl:ue}),()=>{let d;if(D.value){const v=[S("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+P.value},ou(q))];h.value!==null&&v.push(S("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+P.value},au(q))),d=S("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},v)}return S("div",{ref:s,class:Q.value,style:{height:i.value===!0?"100%":null},...ae.value,onFocusin:ve,onFocusout:Se},[d,S("div",{ref:c,style:Y.value,class:ce.value,contenteditable:f.value,placeholder:e.placeholder,...u.listeners.value,onInput:te,onKeydown:se,onClick:F,onBlur:W,onFocus:L,onMousedown:ke,onTouchstartPassive:ke})])}}}),du={class:"q-mb-md"},fu=In({__name:"AddContentDialog",props:{modelValue:{type:Boolean},categories:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const n=e,o=t,l=I(!1),a=I(""),i=I(""),r=I(""),u=b(()=>n.categories.map(f=>({label:f.label,value:f.value,color:f.color}))),s=b(()=>a.value.trim()!==""&&i.value.trim()!==""&&r.value!=="");fe(()=>n.modelValue,f=>{l.value=f}),fe(l,f=>{o("update:modelValue",f),f||m()});const c=()=>{s.value&&(o("submit",{label:a.value.trim(),content:i.value.trim(),categoryId:r.value}),l.value=!1)},h=()=>{l.value=!1},m=()=>{a.value="",i.value="",r.value=""};return(f,p)=>(Je(),Lt(_t,{modelValue:l.value,"onUpdate:modelValue":p[3]||(p[3]=C=>l.value=C),persistent:""},{default:U(()=>[M(wt,{style:{"min-width":"500px","max-width":"700px"}},{default:U(()=>[M(Qe,null,{default:U(()=>p[4]||(p[4]=[de("div",{class:"text-h6"},"新增內容",-1)])),_:1,__:[4]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[M(Da,{modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=C=>r.value=C),options:u.value,label:"選擇分類","option-label":"label","option-value":"value","emit-value":"","map-options":"",class:"q-mb-md",disable:u.value.length===0},ea({_:2},[u.value.length===0?{name:"no-option",fn:U(()=>[M(co,null,{default:U(()=>[M(An,{class:"text-grey"},{default:U(()=>p[5]||(p[5]=[Dt(" 請先新增分類 ",-1)])),_:1,__:[5]})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","options","disable"]),M(an,{dense:"",modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=C=>a.value=C),autofocus:"",label:"內容標籤名稱",class:"q-mb-md"},null,8,["modelValue"]),de("div",du,[p[6]||(p[6]=de("div",{class:"text-subtitle2 q-mb-xs"},"內容",-1)),M(Ma,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=C=>i.value=C),"min-height":"5rem",toolbar:[["left","center","right","justify"],["bold","italic","underline","strike"],["quote","unordered","ordered"],["undo","redo"]]},null,8,["modelValue"])])]),_:1}),M(Ot,{align:"right",class:"text-primary"},{default:U(()=>[M(Ce,{flat:"",label:"取消",onClick:h}),M(Ce,{flat:"",label:"確定",onClick:c,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),vu=Mn(fu,[["__scopeId","data-v-60b4864e"]]),mu={class:"q-mb-md"},gu=In({__name:"EditContentDialog",props:{modelValue:{type:Boolean},categories:{},contentItem:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const n=e,o=t,l=I(!1),a=I(""),i=I(""),r=I(""),u=b(()=>n.categories.map(f=>({label:f.label,value:f.value,color:f.color}))),s=b(()=>a.value.trim()!==""&&i.value.trim()!==""&&r.value!=="");fe(()=>n.modelValue,f=>{l.value=f,f&&n.contentItem&&(a.value=n.contentItem.label,i.value=n.contentItem.content,r.value=n.contentItem.categoryId)}),fe(l,f=>{o("update:modelValue",f),f||m()});const c=()=>{s.value&&n.contentItem&&(o("submit",{id:n.contentItem.id,label:a.value.trim(),content:i.value.trim(),categoryId:r.value}),h())},h=()=>{l.value=!1},m=()=>{a.value="",i.value="",r.value=""};return(f,p)=>(Je(),Lt(_t,{modelValue:l.value,"onUpdate:modelValue":p[3]||(p[3]=C=>l.value=C),persistent:""},{default:U(()=>[M(wt,{style:{"min-width":"500px","max-width":"700px"}},{default:U(()=>[M(Qe,null,{default:U(()=>p[4]||(p[4]=[de("div",{class:"text-h6"},"編輯內容",-1)])),_:1,__:[4]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[M(an,{dense:"",modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=C=>a.value=C),autofocus:"",label:"內容標籤名稱",class:"q-mb-md"},null,8,["modelValue"]),M(Da,{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=C=>r.value=C),options:u.value,label:"選擇分類","option-label":"label","option-value":"value","emit-value":"","map-options":"",class:"q-mb-md",disable:u.value.length===0},ea({_:2},[u.value.length===0?{name:"no-option",fn:U(()=>[M(co,null,{default:U(()=>[M(An,{class:"text-grey"},{default:U(()=>p[5]||(p[5]=[Dt(" 請先新增分類 ",-1)])),_:1,__:[5]})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","options","disable"]),de("div",mu,[p[6]||(p[6]=de("div",{class:"text-subtitle2 q-mb-xs"},"內容",-1)),M(Ma,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=C=>i.value=C),"min-height":"5rem",toolbar:[["left","center","right","justify"],["bold","italic","underline","strike"],["quote","unordered","ordered"],["undo","redo"]]},null,8,["modelValue"])])]),_:1}),M(Ot,{align:"right",class:"text-primary"},{default:U(()=>[M(Ce,{flat:"",label:"取消",onClick:h}),M(Ce,{flat:"",label:"更新",onClick:c,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),hu=Mn(gu,[["__scopeId","data-v-c537f45b"]]),pu={class:"q-mt-md"},bu=In({__name:"EditCategoryDialog",props:{modelValue:{type:Boolean},category:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const n=e,o=t,l=I(!1),a=I(""),i=I("#1976D2"),r=I(!1),u=I("#1976D2");fe(()=>n.modelValue,C=>{l.value=C,C&&n.category&&(a.value=n.category.name,i.value=n.category.color,u.value=n.category.color)}),fe(l,C=>{o("update:modelValue",C),C||h()});const s=()=>{a.value.trim()&&n.category&&(o("submit",{id:n.category.id,name:a.value.trim(),color:i.value}),l.value=!1)},c=()=>{l.value=!1},h=()=>{a.value="",i.value="#1976D2",u.value="#1976D2"},m=()=>{u.value=i.value,r.value=!0},f=()=>{r.value=!1,i.value=u.value},p=()=>{u.value=i.value,r.value=!1};return(C,k)=>(Je(),Lt(_t,{modelValue:l.value,"onUpdate:modelValue":k[4]||(k[4]=P=>l.value=P),persistent:""},{default:U(()=>[M(wt,{style:{"min-width":"350px"}},{default:U(()=>[M(Qe,null,{default:U(()=>k[5]||(k[5]=[de("div",{class:"text-h6"},"編輯分類",-1)])),_:1,__:[5]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[M(an,{dense:"",modelValue:a.value,"onUpdate:modelValue":k[0]||(k[0]=P=>a.value=P),autofocus:"",label:"分類名稱",onKeyup:Kl(s,["enter"])},null,8,["modelValue"]),de("div",pu,[k[7]||(k[7]=de("div",{class:"text-subtitle2 q-mb-xs"},"分類顏色",-1)),M(an,{modelValue:i.value,"onUpdate:modelValue":k[1]||(k[1]=P=>i.value=P),label:"顏色",readonly:"",class:"cursor-pointer",onClick:m},{prepend:U(()=>[de("div",{style:Cn({backgroundColor:i.value}),class:"color-preview"},null,4)]),append:U(()=>[M(Ze,{name:"palette",class:"cursor-pointer",onClick:m})]),_:1},8,["modelValue"]),M(_t,{modelValue:r.value,"onUpdate:modelValue":k[3]||(k[3]=P=>r.value=P)},{default:U(()=>[M(wt,{style:{"min-width":"300px"}},{default:U(()=>[M(Qe,null,{default:U(()=>k[6]||(k[6]=[de("div",{class:"text-h6"},"選擇顏色",-1)])),_:1,__:[6]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[M(Ea,{modelValue:i.value,"onUpdate:modelValue":k[2]||(k[2]=P=>i.value=P),class:"full-width"},null,8,["modelValue"])]),_:1}),M(Ot,{align:"right"},{default:U(()=>[M(Ce,{flat:"",label:"取消",onClick:f}),M(Ce,{flat:"",label:"確定",color:"primary",onClick:p})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),M(Ot,{align:"right",class:"text-primary"},{default:U(()=>[M(Ce,{flat:"",label:"取消",onClick:c}),M(Ce,{flat:"",label:"更新",onClick:s,disable:!a.value.trim()},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),yu=Mn(bu,[["__scopeId","data-v-fdf74c15"]]);function Va(e){return encodeURIComponent(e)}function $a(e){return decodeURIComponent(e)}function Cu(e){return Va(e===Object(e)?JSON.stringify(e):""+e)}function Su(e){if(e==="")return e;e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=$a(e.replace(/\+/g," "));try{const t=JSON.parse(e);(t===Object(t)||Array.isArray(t)===!0)&&(e=t)}catch{}return e}function La(e){const t=new Date;return t.setMilliseconds(t.getMilliseconds()+e),t.toUTCString()}function wu(e){let t=0;const n=e.match(/(\d+)d/),o=e.match(/(\d+)h/),l=e.match(/(\d+)m/),a=e.match(/(\d+)s/);return n&&(t+=n[1]*864e5),o&&(t+=o[1]*36e5),l&&(t+=l[1]*6e4),a&&(t+=a[1]*1e3),t===0?e:La(t)}function Ra(e,t,n={},o){let l,a;n.expires!==void 0&&(Object.prototype.toString.call(n.expires)==="[object Date]"?l=n.expires.toUTCString():typeof n.expires=="string"?l=wu(n.expires):(a=parseFloat(n.expires),l=isNaN(a)===!1?La(a*864e5):n.expires));const r=[`${Va(e)}=${Cu(t)}`,l!==void 0?"; Expires="+l:"",n.path?"; Path="+n.path:"",n.domain?"; Domain="+n.domain:"",n.sameSite?"; SameSite="+n.sameSite:"",n.httpOnly?"; HttpOnly":"",n.secure?"; Secure":"",n.other?"; "+n.other:""].join("");document.cookie=r}function Lo(e,t){const n=document,o=n.cookie?n.cookie.split("; "):[],l=o.length;let a=e?null:{},i=0,r,u,s;for(;i<l;i++)if(r=o[i].split("="),u=$a(r.shift()),s=r.join("="),!e)a[u]=s;else if(e===u){a=Su(s);break}return a}function ku(e,t,n){Ra(e,"",{expires:-1,...t})}function xu(e,t){return Lo(e)!==null}function _u(e){return{get:t=>Lo(t),set:(t,n,o)=>Ra(t,n,o),has:t=>xu(t),remove:(t,n)=>ku(t,n),getAll:()=>Lo(null)}}const Fa={install({$q:e,ssrContext:t}){e.cookies=this}};Object.assign(Fa,_u());const Eu=Ii("category",()=>{const e=I([]),t="copy-helper-categories",n=365,o=()=>{try{const y=JSON.stringify(e.value);console.log("Saving data to cookie:",y),console.log("Data type:",typeof y);const w=new Date;w.setDate(w.getDate()+n);const q=`${t}=${encodeURIComponent(y)}; expires=${w.toUTCString()}; path=/`;document.cookie=q,console.log("Cookie string set:",q)}catch(y){console.error("Failed to save data to cookie:",y)}};(()=>{try{const w=(se=>{const W=`; ${document.cookie}`.split(`; ${se}=`);if(W.length===2){const L=W.pop()?.split(";").shift();return L?decodeURIComponent(L):null}return null})(t),q=Fa.get(t);console.log("=== Cookie Loading Debug ==="),console.log("Raw native cookie data:",w),console.log("Raw native cookie type:",typeof w),console.log("Quasar cookie data:",q),console.log("Quasar cookie type:",typeof q),console.log("Are they equal?",w===q);const D=w;console.log("Final cookie data:",D),console.log("Final cookie data type:",typeof D),console.log("Final cookie data length:",D?.length),console.log("=== Validation Checks ===");const z=!!D;console.log("1. cookieData exists:",z,D?"✓":"✗");const Y=typeof D=="string";console.log("2. is string:",Y,Y?"✓":"✗");const Q=D&&D.trim()!=="";console.log("3. not empty after trim:",Q,Q?"✓":"✗");const ce=D!=="[object Object]";console.log('4. not "[object Object]":',ce,ce?"✓":"✗");const ae=D!=="undefined";console.log('5. not "undefined" string:',ae,ae?"✓":"✗");const te=D!=="null";if(console.log('6. not "null" string:',te,te?"✓":"✗"),z&&Y&&Q&&ce&&ae&&te){console.log("✓ All basic validations passed");const se=D.startsWith("["),F=D.startsWith("{"),W=se||F;if(console.log('7. starts with "[" or "{":',W,`(starts with "[": ${se}, starts with "{": ${F})`,W?"✓":"✗"),W){console.log("✓ JSON format validation passed, attempting to parse...");const L=JSON.parse(D);console.log("Parsed data:",L),console.log("Parsed data type:",typeof L);const ve=Array.isArray(L);console.log("8. parsed data is array:",ve,ve?"✓":"✗"),ve?(e.value=L,console.log("✅ Successfully loaded data from cookie:",L)):(console.warn("❌ Cookie data is not an array, initializing with empty array"),console.log("Parsed data structure:",L),e.value=[])}else console.warn("❌ Cookie data does not look like JSON, clearing..."),console.log("First 50 chars of cookie data:",D.substring(0,50)),document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[]}else console.log("❌ Basic validation failed, starting with empty array"),console.log("Failed checks summary:"),z||console.log("  - Cookie data does not exist"),Y||console.log("  - Cookie data is not a string"),Q||console.log("  - Cookie data is empty or only whitespace"),ce||console.log('  - Cookie data is "[object Object]"'),ae||console.log('  - Cookie data is "undefined"'),te||console.log('  - Cookie data is "null"'),e.value=[]}catch(y){console.error("❌ Failed to load data from cookie:",y),console.error("Problematic cookie data (native):",document.cookie),y instanceof Error?console.error("Error details:",{name:y.name,message:y.message,stack:y.stack?.substring(0,200)+"..."}):console.error("Unknown error type:",y),document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[]}console.log("=== Cookie Loading Complete ===")})();const a=()=>"cat_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),i=(y,w)=>{const q={category_name:y,category_id:a(),category_color:w,context:[]};e.value.push(q),o()},r=y=>e.value.find(w=>w.category_id===y),u=y=>{const w=e.value.findIndex(q=>q.category_id===y);return w!==-1?(e.value.splice(w,1),o(),!0):!1},s=(y,w,q)=>{const D=r(y);return D?(D.category_name=w,D.category_color=q,o(),!0):!1},c=(y,w,q)=>{const D=r(y);if(D){const z={id:"content_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),label:w,content:q,createdAt:new Date().toISOString()};return D.context.push(z),o(),!0}return!1};return{data:e,addCategory:i,updateCategory:s,findCategoryById:r,removeCategoryById:u,addContentToCategory:c,removeContentFromCategory:(y,w)=>{const q=r(y);if(q){const D=q.context.findIndex(z=>z.id===w);if(D!==-1)return q.context.splice(D,1),o(),!0}return!1},reorderContentInCategory:(y,w,q)=>{const D=r(y);if(D&&w>=0&&q>=0&&w<D.context.length&&q<D.context.length){const z=D.context.splice(w,1)[0];if(z)return D.context.splice(q,0,z),o(),!0}return!1},addContextToCategory:(y,w)=>c(y,"Legacy Item",w),removeContextFromCategory:(y,w)=>{const q=r(y);if(q){const D=q.context.findIndex(z=>z.content===w);if(D!==-1)return q.context.splice(D,1),o(),!0}return!1},getAllCategories:()=>e.value,clearAllData:()=>{e.value=[],o()},clearCookieData:()=>{try{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[],console.log("Cookie data cleared successfully")}catch(y){console.error("Failed to clear cookie data:",y)}},resetCookieData:()=>{try{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[],o(),console.log("Cookie data reset and reinitialized successfully")}catch(y){console.error("Failed to reset cookie data:",y)}}}}),Tu={class:"index-page"},qu={class:"q-pa-md"},Du={class:"q-mb-md q-gutter-sm"},Au={key:0,class:"q-mb-md"},Pu={class:"categories-grid"},Iu={class:"row items-center q-gutter-sm q-mb-sm category-header"},Ou=["onClick"],Bu={class:"text-subtitle1 flex-1"},Mu={class:"text-caption content-count"},Vu={class:"row q-gutter-xs category-actions"},$u={key:0,class:"q-mt-sm"},Lu={key:0,class:"content-list"},Ru=["data-sortable-category"],Fu=["data-content-id"],zu={class:"row items-center q-gutter-sm"},Nu={class:"drag-handle cursor-move q-px-xs"},Hu=["onClick"],ju={class:"row items-center q-gutter-sm"},Uu={class:"text-subtitle2 flex-1"},Wu={class:"row q-gutter-xs content-actions"},Ku={key:0,class:"q-mt-sm"},Xu=["innerHTML","onClick"],Yu={key:1,class:"text-center text-grey-6 q-py-md"},Qu=In({__name:"IndexPage",setup(e){function t(d){return d.replace(/(<div[^>]*>)/gi,`
$1`).replace(/<\/div>/gi,`
`).replace(/<br\s*\/?>/gi,`
`).replace(/<[^>]+>/g,"").replace(/\n\s*\n/g,`
`).trim()}const n=I(!1),o=I(!1),l=I(!1),a=I(!1),i=I(!1),r=I(!1),u=Eu(),s=I({}),c=I({}),h=I({}),m=()=>{nt(()=>{u.data.forEach(d=>{const v=document.querySelector(`[data-sortable-category="${d.category_id}"]`);if(v&&d.context.length>1){const E=h.value[d.category_id];E&&E.destroy(),h.value[d.category_id]=Z.create(v,{animation:150,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",handle:".drag-handle",onEnd:x=>{const K=v.dataset.sortableCategory;K&&x.oldIndex!==void 0&&x.newIndex!==void 0&&f(K,x.oldIndex,x.newIndex)}})}})})},f=(d,v,E)=>{u.reorderContentInCategory(d,v,E)?ot.create({message:"內容順序已更新",color:"positive",position:"top",timeout:1500,icon:"swap_vert"}):ot.create({message:"排序失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})},p=()=>{const d={};u.data.forEach(v=>{d[v.category_id]=!0}),s.value=d};xt(()=>{p(),m();const d=v=>{(v.ctrlKey||v.metaKey)&&v.key.toLowerCase()==="e"&&(v.preventDefault(),u.data.length>0&&ce())};document.addEventListener("keydown",d),et(()=>{Object.values(h.value).forEach(v=>{v?.destroy()}),document.removeEventListener("keydown",d)})}),fe(()=>u.data,(d,v)=>{if(d.forEach(E=>{E.category_id in s.value||(s.value[E.category_id]=!0)}),v){const E=new Set(d.map(K=>K.category_id));Object.keys(s.value).forEach(K=>{E.has(K)||delete s.value[K]});const x=new Set;d.forEach(K=>{K.context.forEach(Oe=>{x.add(Oe.id)})}),Object.keys(c.value).forEach(K=>{x.has(K)||delete c.value[K]})}m()},{deep:!0});const C=b(()=>u.data.length===0?!1:u.data.every(d=>s.value[d.category_id])),k=d=>{const v=u.data.find(x=>x.category_id===d);return!v||v.context.length===0?{allExpanded:!1,hasContent:!1}:{allExpanded:v.context.every(x=>c.value[x.id]),hasContent:!0}},P=d=>{const v=u.data.find(K=>K.category_id===d);if(!v)return;const{allExpanded:E}=k(d),x=!E;v.context.forEach(K=>{c.value[K.id]=x}),ot.create({message:x?"已展開該分類所有內容":"已收合該分類所有內容",color:"info",position:"top",timeout:1e3,icon:x?"unfold_more":"unfold_less"})},V=I(null),y=I(null),w=I(null),q=I(null),D=I(null),z=I(""),Y=d=>{s.value[d]=!s.value[d]},Q=d=>{c.value[d]=!c.value[d]},ce=()=>{const d=!C.value,v={};u.data.forEach(E=>{v[E.category_id]=d}),s.value=v,ae(d),ot.create({message:d?"已展開所有分類和內容":"已收合所有分類和內容",color:"info",position:"top",timeout:1500,icon:d?"unfold_more":"unfold_less"})},ae=d=>{const v={};u.data.forEach(E=>{E.context.forEach(x=>{v[x.id]=d})}),c.value=v},te=(d,v)=>{V.value={id:d.id,label:d.label,content:d.content,categoryId:v},l.value=!0},se=(d,v)=>{i.value=!0,y.value=d,w.value=v},F=()=>{y.value&&w.value&&(u.removeContentFromCategory(y.value,w.value)?ot.create({message:"內容已刪除",color:"positive",position:"top",timeout:2e3,icon:"delete"}):ot.create({message:"刪除失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})),i.value=!1,y.value=null,w.value=null},W=()=>{i.value=!1,y.value=null,w.value=null},L=b(()=>u.data.map(d=>({label:d.category_name,value:d.category_id,color:d.category_color}))),ve=d=>{console.log("新增分類:",d),u.addCategory(d.name,d.color),setTimeout(()=>{const v=u.data[u.data.length-1];v&&(s.value[v.category_id]=!0)},0),console.log("目前所有分類:",u.getAllCategories())},Se=d=>{console.log("新增內容:",d),u.addContentToCategory(d.categoryId,d.label,d.content)?(console.log("內容新增成功"),console.log("目前所有分類:",u.getAllCategories())):console.error("內容新增失敗：找不到指定分類")},ke=d=>{console.log("編輯內容:",d),V.value&&d.categoryId!==V.value.categoryId?(u.removeContentFromCategory(V.value.categoryId,d.id),u.addContentToCategory(d.categoryId,d.label,d.content)&&ot.create({message:"內容已更新並移動到新分類",color:"positive",position:"top",timeout:2e3,icon:"edit"})):(u.removeContentFromCategory(d.categoryId,d.id),u.addContentToCategory(d.categoryId,d.label,d.content)&&ot.create({message:"內容已更新",color:"positive",position:"top",timeout:2e3,icon:"edit"})),V.value=null,l.value=!1},Ie=d=>{q.value={id:d.category_id,name:d.category_name,color:d.category_color},a.value=!0},_=d=>{u.updateCategory(d.id,d.name,d.color)?ot.create({message:"分類已更新",color:"positive",position:"top",timeout:2e3,icon:"edit"}):ot.create({message:"更新失敗",color:"negative",position:"top",timeout:2e3,icon:"error"}),a.value=!1,q.value=null},B=(d,v)=>{D.value=d,z.value=v,r.value=!0},R=()=>{if(D.value){const d=u.data.find(E=>E.category_id===D.value);d&&d.context.forEach(E=>{delete c.value[E.id]}),u.removeCategoryById(D.value)?(ot.create({message:"分類已刪除",color:"positive",position:"top",timeout:2e3,icon:"delete"}),s.value[D.value]&&delete s.value[D.value]):ot.create({message:"刪除失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})}ee()},ee=()=>{r.value=!1,D.value=null,z.value=""},ue=async d=>{try{const v=t(d);await navigator.clipboard.writeText(v),ot.create({message:"內容已複製到剪貼簿",color:"positive",position:"top",timeout:2e3,icon:"content_copy"})}catch(v){console.error("複製失敗:",v),ot.create({message:"複製失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})}};return(d,v)=>(Je(),yt("div",Tu,[de("div",qu,[de("div",Du,[M(Ce,{color:"primary",label:"新增分類",icon:"add",unelevated:"",class:"action-btn",onClick:v[0]||(v[0]=E=>n.value=!0)}),M(Ce,{color:"secondary",label:"新增內容",icon:"note_add",unelevated:"",class:"action-btn",onClick:v[1]||(v[1]=E=>o.value=!0),disable:dn(u).data.length===0},null,8,["disable"]),M(Ce,{color:"grey-7",label:C.value?"收合全部":"展開全部",icon:C.value?"unfold_less":"unfold_more",outline:"",class:"action-btn",onClick:ce,disable:dn(u).data.length===0},{default:U(()=>[dn(u).data.length>0?(Je(),Lt(zn,{key:0},{default:U(()=>[Dt(Yt(C.value?"點擊收合所有分類":"點擊展開所有分類")+" ",1),v[8]||(v[8]=de("br",null,null,-1)),v[9]||(v[9]=Dt(" (快捷鍵: Ctrl/Cmd + E) ",-1))]),_:1,__:[8,9]})):cn("",!0)]),_:1},8,["label","icon","disable"])]),dn(u).data.length>0?(Je(),yt("div",Au,[de("div",Pu,[(Je(!0),yt(ll,null,al(dn(u).data,E=>(Je(),Lt(wt,{key:E.category_id,class:"category-card",style:Cn({background:`linear-gradient(135deg, ${E.category_color}20, ${E.category_color}10)`})},{default:U(()=>[M(Qe,null,{default:U(()=>[de("div",Iu,[de("div",{class:"row items-center q-gutter-sm flex-1 cursor-pointer category-toggle",onClick:x=>Y(E.category_id)},[de("div",{style:Cn([{backgroundColor:E.category_color},{width:"20px",height:"20px","border-radius":"4px"}]),class:"q-pa-xs category-color-indicator"},null,4),de("div",Bu,Yt(E.category_name),1),de("div",Mu,Yt(E.context.length),1),M(Ze,{name:s.value[E.category_id]?"expand_less":"expand_more",size:"sm",class:Oi(["transition-transform expand-icon",{"rotate-180":!s.value[E.category_id]}])},null,8,["name","class"])],8,Ou),de("div",Vu,[E.context.length>0?(Je(),Lt(Ce,{key:0,flat:"",dense:"",round:"",icon:k(E.category_id).allExpanded?"unfold_less":"unfold_more",size:"sm",color:"info",onClick:x=>P(E.category_id)},{default:U(()=>[M(zn,null,{default:U(()=>[Dt(Yt(k(E.category_id).allExpanded?"收合該分類所有內容":"展開該分類所有內容"),1)]),_:2},1024)]),_:2},1032,["icon","onClick"])):cn("",!0),M(Ce,{flat:"",dense:"",round:"",icon:"edit",size:"sm",color:"primary",onClick:x=>Ie(E)},null,8,["onClick"]),M(Ce,{flat:"",dense:"",round:"",icon:"delete",size:"sm",color:"negative",onClick:x=>B(E.category_id,E.category_name)},null,8,["onClick"])])]),M(sl,null,{default:U(()=>[s.value[E.category_id]?(Je(),yt("div",$u,[E.context.length>0?(Je(),yt("div",Lu,[de("div",{class:"sortable-content-list","data-sortable-category":E.category_id},[(Je(!0),yt(ll,null,al(E.context,x=>(Je(),yt("div",{key:x.id,class:"content-item q-pa-sm q-mb-xs","data-content-id":x.id,style:Cn({background:`linear-gradient(135deg, ${E.category_color}15, ${E.category_color}08)`,"--category-color":E.category_color,"--category-color-light":`${E.category_color}20`,"--category-color-hover":`${E.category_color}25`,"--category-color-border":`${E.category_color}40`})},[de("div",zu,[de("div",Nu,[M(Ze,{name:"drag_indicator",size:"sm",color:"grey-6"})]),de("div",{class:"col cursor-pointer content-toggle",onClick:K=>Q(x.id)},[de("div",ju,[de("div",Uu,Yt(x.label),1),M(Ze,{name:c.value[x.id]?"expand_less":"expand_more",size:"sm",class:"transition-transform content-expand-icon"},null,8,["name"])])],8,Hu),de("div",Wu,[M(Ce,{flat:"",dense:"",round:"",icon:"content_copy",size:"sm",color:"info",onClick:K=>ue(x.content)},{default:U(()=>[M(zn,null,{default:U(()=>v[10]||(v[10]=[Dt("複製內容",-1)])),_:1,__:[10]})]),_:2},1032,["onClick"]),M(Ce,{flat:"",dense:"",round:"",icon:"edit",size:"sm",color:"primary",onClick:K=>te(x,E.category_id)},null,8,["onClick"]),M(Ce,{flat:"",dense:"",round:"",icon:"delete",size:"sm",color:"negative",onClick:K=>se(E.category_id,x.id)},null,8,["onClick"])])]),M(sl,null,{default:U(()=>[c.value[x.id]?(Je(),yt("div",Ku,[de("div",{class:"text-caption text-grey-7 content-detail cursor-pointer",innerHTML:x.content,onClick:K=>ue(x.content)},null,8,Xu)])):cn("",!0)]),_:2},1024)],12,Fu))),128))],8,Ru)])):(Je(),yt("div",Yu,"此分類目前沒有內容"))])):cn("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))])])):cn("",!0),v[16]||(v[16]=de("div",{class:"row items-center justify-evenly"},null,-1)),M(Rr,{modelValue:n.value,"onUpdate:modelValue":v[2]||(v[2]=E=>n.value=E),onSubmit:ve},null,8,["modelValue"]),M(vu,{modelValue:o.value,"onUpdate:modelValue":v[3]||(v[3]=E=>o.value=E),categories:L.value,onSubmit:Se},null,8,["modelValue","categories"]),M(hu,{modelValue:l.value,"onUpdate:modelValue":v[4]||(v[4]=E=>l.value=E),categories:L.value,"content-item":V.value,onSubmit:ke},null,8,["modelValue","categories","content-item"]),M(yu,{modelValue:a.value,"onUpdate:modelValue":v[5]||(v[5]=E=>a.value=E),category:q.value,onSubmit:_},null,8,["modelValue","category"]),M(_t,{modelValue:i.value,"onUpdate:modelValue":v[6]||(v[6]=E=>i.value=E),persistent:""},{default:U(()=>[M(wt,{style:{"min-width":"300px"}},{default:U(()=>[M(Qe,null,{default:U(()=>v[11]||(v[11]=[de("div",{class:"text-h6"},"確認刪除內容",-1)])),_:1,__:[11]}),M(Qe,{class:"q-pt-none"},{default:U(()=>v[12]||(v[12]=[Dt(" 您確定要刪除此內容嗎？此操作無法復原。 ",-1)])),_:1,__:[12]}),M(Ot,{align:"right"},{default:U(()=>[M(Ce,{flat:"",label:"取消",color:"grey",onClick:W}),M(Ce,{flat:"",label:"刪除",color:"negative",onClick:F})]),_:1})]),_:1})]),_:1},8,["modelValue"]),M(_t,{modelValue:r.value,"onUpdate:modelValue":v[7]||(v[7]=E=>r.value=E),persistent:""},{default:U(()=>[M(wt,{style:{"min-width":"300px"}},{default:U(()=>[M(Qe,null,{default:U(()=>v[13]||(v[13]=[de("div",{class:"text-h6"},"確認刪除分類",-1)])),_:1,__:[13]}),M(Qe,{class:"q-pt-none"},{default:U(()=>[Dt(" 您確定要刪除分類「"+Yt(z.value)+"」嗎？ ",1),v[14]||(v[14]=de("br",null,null,-1)),v[15]||(v[15]=de("span",{class:"text-red"},"此操作將同時刪除該分類下的所有內容，且無法復原。",-1))]),_:1,__:[14,15]}),M(Ot,{align:"right"},{default:U(()=>[M(Ce,{flat:"",label:"取消",color:"grey",onClick:ee}),M(Ce,{flat:"",label:"刪除",color:"negative",onClick:R})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}}),Ju=Mn(Qu,[["__scopeId","data-v-97b7d485"]]);export{Ju as default};
