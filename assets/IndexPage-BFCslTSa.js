import{P as nn,g as Me,r as M,p as Ge,a as Ue,n as He,i as Yt,w as oe,o as et,b as Re,c as Je,l as $t,d as ql,e as Qe,f as an,h as Pe,u as Bt,j as Xl,s as Yl,k as Gl,m,q as At,t as Mt,v as Jl,x as Zl,y as eo,z as to,A as b,T as Gt,B as Xe,C as Ie,D as lo,E as Ct,F as Dt,G as ut,H as $e,I as oo,J as gl,K as st,L as ct,M as rn,N as ol,O as no,Q as Jt,R as un,S as sn,U as ao,V as io,W as Fe,X as cn,Y as ro,Z as dn,_ as nl,$ as fn,a0 as uo,a1 as so,a2 as Zt,a3 as vn,a4 as mn,a5 as gn,a6 as hn,a7 as Ot,a8 as it,a9 as N,aa as tt,ab as Oe,ac as L,ad as De,ae as ie,af as kt,ag as co,ah as Pt,ai as Ze,aj as nt,ak as fe,al as bn,am as pn,an as yn,ao as fo,ap as hl,aq as vo,ar as mo,as as Cn,at as Sn,au as kn,av as wn,aw as Tl,ax as xn,ay as _n,az as qn,aA as Tn,aB as go,aC as En,aD as ho,aE as Vn,aF as El,aG as Bn,aH as xt,aI as An,aJ as Pn,aK as bo,aL as $n,aM as Mn,aN as Ln,aO as Vl,aP as zn,aQ as po,aR as ot,aS as In,aT as Ye,aU as _t,aV as qt,aW as Bl,aX as Al,aY as je,aZ as bt,a_ as Dn}from"./index-Ofypr0TL.js";function Lt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),nn.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const yo={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},On={...yo,contextMenu:Boolean};function Co({showing:e,avoidEmit:t,configureAnchorEl:o}){const{props:a,proxy:l,emit:n}=Me(),i=M(null);let r=null;function s(d){return i.value===null?!1:d===void 0||d.touches===void 0||d.touches.length<=1}const f={};o===void 0&&(Object.assign(f,{hide(d){l.hide(d)},toggle(d){l.toggle(d),d.qAnchorHandled=!0},toggleKey(d){Yt(d,13)===!0&&f.toggle(d)},contextClick(d){l.hide(d),Ge(d),He(()=>{l.show(d),d.qAnchorHandled=!0})},prevent:Ge,mobileTouch(d){if(f.mobileCleanup(d),s(d)!==!0)return;l.hide(d),i.value.classList.add("non-selectable");const p=d.target;Ue(f,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,l.show(d),d.qAnchorHandled=!0},300)},mobileCleanup(d){i.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&d!==void 0&&Lt()}}),o=function(d=a.contextMenu){if(a.noParentEvent===!0||i.value===null)return;let p;d===!0?l.$q.platform.is.mobile===!0?p=[[i.value,"touchstart","mobileTouch","passive"]]:p=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:p=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],Ue(f,"anchor",p)});function c(){Je(f,"anchor")}function w(d){for(i.value=d;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;o()}function v(){if(a.target===!1||a.target===""||l.$el.parentNode===null)i.value=null;else if(a.target===!0)w(l.$el.parentNode);else{let d=a.target;if(typeof a.target=="string")try{d=document.querySelector(a.target)}catch{d=void 0}d!=null?(i.value=d.$el||d,o()):(i.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return oe(()=>a.contextMenu,d=>{i.value!==null&&(c(),o(d))}),oe(()=>a.target,()=>{i.value!==null&&c(),v()}),oe(()=>a.noParentEvent,d=>{i.value!==null&&(d===!0?c():o())}),et(()=>{v(),t!==!0&&a.modelValue===!0&&i.value===null&&n("update:modelValue",!1)}),Re(()=>{r!==null&&clearTimeout(r),c()}),{anchorEl:i,canShow:s,anchorEvents:f}}function So(e,t){const o=M(null);let a;function l(r,s){const f=`${s!==void 0?"add":"remove"}EventListener`,c=s!==void 0?s:a;r!==window&&r[f]("scroll",c,$t.passive),window[f]("scroll",c,$t.passive),a=s}function n(){o.value!==null&&(l(o.value),o.value=null)}const i=oe(()=>e.noParentEvent,()=>{o.value!==null&&(n(),t())});return Re(i),{localScrollTarget:o,unconfigureScrollTarget:n,changeScrollEvent:l}}const{notPassiveCapture:Nt}=$t,rt=[];function jt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let o=ql.length-1;for(;o>=0;){const a=ql[o].$;if(a.type.name==="QTooltip"){o--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;o--}for(let a=rt.length-1;a>=0;a--){const l=rt[a];if((l.anchorEl.value===null||l.anchorEl.value.contains(t)===!1)&&(t===document.body||l.innerRef.value!==null&&l.innerRef.value.contains(t)===!1))e.qClickOutside=!0,l.onClickOutside(e);else return}}function ko(e){rt.push(e),rt.length===1&&(document.addEventListener("mousedown",jt,Nt),document.addEventListener("touchstart",jt,Nt))}function Ut(e){const t=rt.findIndex(o=>o===e);t!==-1&&(rt.splice(t,1),rt.length===0&&(document.removeEventListener("mousedown",jt,Nt),document.removeEventListener("touchstart",jt,Nt)))}let Pl,$l;function Wt(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wo(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const vl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{vl[`${e}#ltr`]=e,vl[`${e}#rtl`]=e});function Kt(e,t){const o=e.split(" ");return{vertical:o[0],horizontal:vl[`${o[1]}#${t===!0?"rtl":"ltr"}`]}}function Rn(e,t){let{top:o,left:a,right:l,bottom:n,width:i,height:r}=e.getBoundingClientRect();return t!==void 0&&(o-=t[1],a-=t[0],n+=t[1],l+=t[0],i+=t[0],r+=t[1]),{top:o,bottom:n,height:r,left:a,right:l,width:i,middle:a+(l-a)/2,center:o+(n-o)/2}}function Fn(e,t,o){let{top:a,left:l}=e.getBoundingClientRect();return a+=t.top,l+=t.left,o!==void 0&&(a+=o[1],l+=o[0]),{top:a,bottom:a+1,height:1,left:l,right:l+1,width:1,middle:l,center:a}}function Hn(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Ml(e,t,o,a){return{top:e[o.vertical]-t[a.vertical],left:e[o.horizontal]-t[a.horizontal]}}function bl(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{bl(e,t+1)},10);return}const{targetEl:o,offset:a,anchorEl:l,anchorOrigin:n,selfOrigin:i,absoluteOffset:r,fit:s,cover:f,maxHeight:c,maxWidth:w}=e;if(Qe.is.ios===!0&&window.visualViewport!==void 0){const j=document.body.style,{offsetLeft:Q,offsetTop:Y}=window.visualViewport;Q!==Pl&&(j.setProperty("--q-pe-left",Q+"px"),Pl=Q),Y!==$l&&(j.setProperty("--q-pe-top",Y+"px"),$l=Y)}const{scrollLeft:v,scrollTop:d}=o,p=r===void 0?Rn(l,f===!0?[0,0]:a):Fn(l,r,a);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:w,maxHeight:c,visibility:"visible"});const{offsetWidth:_,offsetHeight:S}=o,{elWidth:z,elHeight:E}=s===!0||f===!0?{elWidth:Math.max(p.width,_),elHeight:f===!0?Math.max(p.height,S):S}:{elWidth:_,elHeight:S};let C={maxWidth:w,maxHeight:c};(s===!0||f===!0)&&(C.minWidth=p.width+"px",f===!0&&(C.minHeight=p.height+"px")),Object.assign(o.style,C);const q=Hn(z,E);let B=Ml(p,q,n,i);if(r===void 0||a===void 0)al(B,p,q,n,i);else{const{top:j,left:Q}=B;al(B,p,q,n,i);let Y=!1;if(B.top!==j){Y=!0;const te=2*a[1];p.center=p.top-=te,p.bottom-=te+2}if(B.left!==Q){Y=!0;const te=2*a[0];p.middle=p.left-=te,p.right-=te+2}Y===!0&&(B=Ml(p,q,n,i),al(B,p,q,n,i))}C={top:B.top+"px",left:B.left+"px"},B.maxHeight!==void 0&&(C.maxHeight=B.maxHeight+"px",p.height>B.maxHeight&&(C.minHeight=C.maxHeight)),B.maxWidth!==void 0&&(C.maxWidth=B.maxWidth+"px",p.width>B.maxWidth&&(C.minWidth=C.maxWidth)),Object.assign(o.style,C),o.scrollTop!==d&&(o.scrollTop=d),o.scrollLeft!==v&&(o.scrollLeft=v)}function al(e,t,o,a,l){const n=o.bottom,i=o.right,r=an(),s=window.innerHeight-r,f=document.body.clientWidth;if(e.top<0||e.top+n>s)if(l.vertical==="center")e.top=t[a.vertical]>s/2?Math.max(0,s-n):0,e.maxHeight=Math.min(n,s);else if(t[a.vertical]>s/2){const c=Math.min(s,a.vertical==="center"?t.center:a.vertical===l.vertical?t.bottom:t.top);e.maxHeight=Math.min(n,c),e.top=Math.max(0,c-n)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===l.vertical?t.top:t.bottom),e.maxHeight=Math.min(n,s-e.top);if(e.left<0||e.left+i>f)if(e.maxWidth=Math.min(i,f),l.horizontal==="middle")e.left=t[a.horizontal]>f/2?Math.max(0,f-i):0;else if(t[a.horizontal]>f/2){const c=Math.min(f,a.horizontal==="middle"?t.middle:a.horizontal===l.horizontal?t.right:t.left);e.maxWidth=Math.min(i,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===l.horizontal?t.left:t.right),e.maxWidth=Math.min(i,f-e.left)}const Ht=Pe({name:"QTooltip",inheritAttrs:!1,props:{...yo,...Gl,...Bt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Bt.transitionShow,default:"jump-down"},transitionHide:{...Bt.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Wt},self:{type:String,default:"top middle",validator:Wt},offset:{type:Array,default:()=>[14,14],validator:wo},scrollTarget:Yl,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Xl],setup(e,{slots:t,emit:o,attrs:a}){let l,n;const i=Me(),{proxy:{$q:r}}=i,s=M(null),f=M(!1),c=m(()=>Kt(e.anchor,r.lang.rtl)),w=m(()=>Kt(e.self,r.lang.rtl)),v=m(()=>e.persistent!==!0),{registerTick:d,removeTick:p}=At(),{registerTimeout:_}=Mt(),{transitionProps:S,transitionStyle:z}=Jl(e),{localScrollTarget:E,changeScrollEvent:C,unconfigureScrollTarget:q}=So(e,xe),{anchorEl:B,canShow:j,anchorEvents:Q}=Co({showing:f,configureAnchorEl:ke}),{show:Y,hide:te}=Zl({showing:f,canShow:j,handleShow:ve,handleHide:R,hideOnRouteChange:v,processOnMount:!0});Object.assign(Q,{delayShow:me,delayHide:Se});const{showPortal:de,hidePortal:ue,renderPortal:le}=eo(i,s,h,"tooltip");if(r.platform.is.mobile===!0){const y={anchorEl:B,innerRef:s,onClickOutside(I){return te(I),I.target.classList.contains("q-dialog__backdrop")&&Ie(I),!0}},V=m(()=>e.modelValue===null&&e.persistent!==!0&&f.value===!0);oe(V,I=>{(I===!0?ko:Ut)(y)}),Re(()=>{Ut(y)})}function ve(y){de(),d(()=>{n=new MutationObserver(()=>H()),n.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),H(),xe()}),l===void 0&&(l=oe(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,H)),_(()=>{de(!0),o("show",y)},e.transitionDuration)}function R(y){p(),ue(),K(),_(()=>{ue(!0),o("hide",y)},e.transitionDuration)}function K(){n!==void 0&&(n.disconnect(),n=void 0),l!==void 0&&(l(),l=void 0),q(),Je(Q,"tooltipTemp")}function H(){bl({targetEl:s.value,offset:e.offset,anchorEl:B.value,anchorOrigin:c.value,selfOrigin:w.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function me(y){if(r.platform.is.mobile===!0){Lt(),document.body.classList.add("non-selectable");const V=B.value,I=["touchmove","touchcancel","touchend","click"].map(g=>[V,g,"delayHide","passiveCapture"]);Ue(Q,"tooltipTemp",I)}_(()=>{Y(y)},e.delay)}function Se(y){r.platform.is.mobile===!0&&(Je(Q,"tooltipTemp"),Lt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),_(()=>{te(y)},e.hideDelay)}function ke(){if(e.noParentEvent===!0||B.value===null)return;const y=r.platform.is.mobile===!0?[[B.value,"touchstart","delayShow","passive"]]:[[B.value,"mouseenter","delayShow","passive"],[B.value,"mouseleave","delayHide","passive"]];Ue(Q,"anchor",y)}function xe(){if(B.value!==null||e.scrollTarget!==void 0){E.value=to(B.value,e.scrollTarget);const y=e.noParentEvent===!0?H:te;C(E.value,y)}}function x(){return f.value===!0?b("div",{...a,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",a.class],style:[a.style,z.value],role:"tooltip"},Xe(t.default)):null}function h(){return b(Gt,S.value,x)}return Re(K),Object.assign(i.proxy,{updatePosition:H}),le}}),Ll=Pe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:o}){let a=!1,l,n,i=null,r=null,s,f;function c(){l?.(),l=null,a=!1,i!==null&&(clearTimeout(i),i=null),r!==null&&(clearTimeout(r),r=null),n?.removeEventListener("transitionend",s),s=null}function w(_,S,z){S!==void 0&&(_.style.height=`${S}px`),_.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,l=z}function v(_,S){_.style.overflowY=null,_.style.height=null,_.style.transition=null,c(),S!==f&&o(S)}function d(_,S){let z=0;n=_,a===!0?(c(),z=_.offsetHeight===_.scrollHeight?0:void 0):(f="hide",_.style.overflowY="hidden"),w(_,z,S),i=setTimeout(()=>{i=null,_.style.height=`${_.scrollHeight}px`,s=E=>{r=null,(Object(E)!==E||E.target===_)&&v(_,"show")},_.addEventListener("transitionend",s),r=setTimeout(s,e.duration*1.1)},100)}function p(_,S){let z;n=_,a===!0?c():(f="show",_.style.overflowY="hidden",z=_.scrollHeight),w(_,z,S),i=setTimeout(()=>{i=null,_.style.height=0,s=E=>{r=null,(Object(E)!==E||E.target===_)&&v(_,"hide")},_.addEventListener("transitionend",s),r=setTimeout(s,e.duration*1.1)},100)}return Re(()=>{a===!0&&c()}),()=>b(Gt,{css:!1,appear:e.appear,onEnter:d,onLeave:p},t.default)}}),pl={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Nn=Object.keys(pl);pl.all=!0;function Qt(e){const t={};for(const o of Nn)e[o]===!0&&(t[o]=!0);return Object.keys(t).length===0?pl:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const jn=["INPUT","TEXTAREA"];function Xt(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&jn.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function il(e,t,o){const a=ut(e);let l,n=a.left-t.event.x,i=a.top-t.event.y,r=Math.abs(n),s=Math.abs(i);const f=t.direction;f.horizontal===!0&&f.vertical!==!0?l=n<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?l=i<0?"up":"down":f.up===!0&&i<0?(l="up",r>s&&(f.left===!0&&n<0?l="left":f.right===!0&&n>0&&(l="right"))):f.down===!0&&i>0?(l="down",r>s&&(f.left===!0&&n<0?l="left":f.right===!0&&n>0&&(l="right"))):f.left===!0&&n<0?(l="left",r<s&&(f.up===!0&&i<0?l="up":f.down===!0&&i>0&&(l="down"))):f.right===!0&&n>0&&(l="right",r<s&&(f.up===!0&&i<0?l="up":f.down===!0&&i>0&&(l="down")));let c=!1;if(l===void 0&&o===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};l=t.event.lastDir,c=!0,l==="left"||l==="right"?(a.left-=n,r=0,n=0):(a.top-=i,s=0,i=0)}return{synthetic:c,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:l,isFirst:t.event.isFirst,isFinal:o===!0,duration:Date.now()-t.event.time,distance:{x:r,y:s},offset:{x:n,y:i},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let Un=0;const xo=lo({name:"touch-pan",beforeMount(e,{value:t,modifiers:o}){if(o.mouse!==!0&&Qe.has.touch!==!0)return;function a(n,i){o.mouse===!0&&i===!0?Ie(n):(o.stop===!0&&$e(n),o.prevent===!0&&Ge(n))}const l={uid:"qvtp_"+Un++,handler:t,modifiers:o,direction:Qt(o),noop:Dt,mouseStart(n){Xt(n,l)&&oo(n)&&(Ue(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(n,!0))},touchStart(n){if(Xt(n,l)){const i=n.target;Ue(l,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),l.start(n)}},start(n,i){if(Qe.is.firefox===!0&&Ct(e,!0),l.lastEvt=n,i===!0||o.stop===!0){if(l.direction.all!==!0&&(i!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const f=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&Ge(f),n.cancelBubble===!0&&$e(f),Object.assign(f,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[l.uid]:n.qClonedBy.concat(l.uid)}),l.initialEvent={target:n.target,event:f}}$e(n)}const{left:r,top:s}=ut(n);l.event={x:r,y:s,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:r,lastY:s}},move(n){if(l.event===void 0)return;const i=ut(n),r=i.left-l.event.x,s=i.top-l.event.y;if(r===0&&s===0)return;l.lastEvt=n;const f=l.event.mouse===!0,c=()=>{a(n,f);let d;o.preserveCursor!==!0&&o.preservecursor!==!0&&(d=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lt(),l.styleCleanup=p=>{if(l.styleCleanup=void 0,d!==void 0&&(document.documentElement.style.cursor=d),document.body.classList.remove("non-selectable"),f===!0){const _=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{_(),p()},50):_()}else p!==void 0&&p()}};if(l.event.detected===!0){l.event.isFirst!==!0&&a(n,l.event.mouse);const{payload:d,synthetic:p}=il(n,l,!1);d!==void 0&&(l.handler(d)===!1?l.end(n):(l.styleCleanup===void 0&&l.event.isFirst===!0&&c(),l.event.lastX=d.position.left,l.event.lastY=d.position.top,l.event.lastDir=p===!0?void 0:d.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||f===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){c(),l.event.detected=!0,l.move(n);return}const w=Math.abs(r),v=Math.abs(s);w!==v&&(l.direction.horizontal===!0&&w>v||l.direction.vertical===!0&&w<v||l.direction.up===!0&&w<v&&s<0||l.direction.down===!0&&w<v&&s>0||l.direction.left===!0&&w>v&&r<0||l.direction.right===!0&&w>v&&r>0?(l.event.detected=!0,l.move(n)):l.end(n,!0))},end(n,i){if(l.event!==void 0){if(Je(l,"temp"),Qe.is.firefox===!0&&Ct(e,!1),i===!0)l.styleCleanup?.(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(il(n===void 0?l.lastEvt:n,l).payload);const{payload:r}=il(n===void 0?l.lastEvt:n,l,!0),s=()=>{l.handler(r)};l.styleCleanup!==void 0?l.styleCleanup(s):s()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,o.mouse===!0){const n=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Ue(l,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}Qe.has.touch===!0&&Ue(l,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchpan;o!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&o.end(),o.handler=t.value),o.direction=Qt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),Je(t,"main"),Je(t,"temp"),Qe.is.firefox===!0&&Ct(e,!1),t.styleCleanup?.(),delete e.__qtouchpan)}});function yt(e,t,o){return o<=t?t:Math.min(o,Math.max(t,e))}function zl(e,t,o){if(o<=t)return t;const a=o-t+1;let l=t+(e-t)%a;return l<t&&(l=a+l),l===0?0:l}const Il="q-slider__marker-labels",Wn=e=>({value:e}),Kn=({marker:e})=>b("div",{key:e.value,style:e.style,class:e.classes},e.label),_o=[34,37,40,33,39,38],Qn={...st,...gl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Xn=["pan","update:modelValue","change"];function Yn({updateValue:e,updatePosition:t,getDragging:o,formAttrs:a}){const{props:l,emit:n,slots:i,proxy:{$q:r}}=Me(),s=ct(l,r),f=no(a),c=M(!1),w=M(!1),v=M(!1),d=M(!1),p=m(()=>l.vertical===!0?"--v":"--h"),_=m(()=>"-"+(l.switchLabelSide===!0?"switched":"standard")),S=m(()=>l.vertical===!0?l.reverse===!0:l.reverse!==(r.lang.rtl===!0)),z=m(()=>isNaN(l.innerMin)===!0||l.innerMin<l.min?l.min:l.innerMin),E=m(()=>isNaN(l.innerMax)===!0||l.innerMax>l.max?l.max:l.innerMax),C=m(()=>l.disable!==!0&&l.readonly!==!0&&z.value<E.value),q=m(()=>{if(l.step===0)return X=>X;const P=(String(l.step).trim().split(".")[1]||"").length;return X=>parseFloat(X.toFixed(P))}),B=m(()=>l.step===0?1:l.step),j=m(()=>C.value===!0?l.tabindex||0:-1),Q=m(()=>l.max-l.min),Y=m(()=>E.value-z.value),te=m(()=>Te(z.value)),de=m(()=>Te(E.value)),ue=m(()=>l.vertical===!0?S.value===!0?"bottom":"top":S.value===!0?"right":"left"),le=m(()=>l.vertical===!0?"height":"width"),ve=m(()=>l.vertical===!0?"width":"height"),R=m(()=>l.vertical===!0?"vertical":"horizontal"),K=m(()=>{const P={role:"slider","aria-valuemin":z.value,"aria-valuemax":E.value,"aria-orientation":R.value,"data-step":l.step};return l.disable===!0?P["aria-disabled"]="true":l.readonly===!0&&(P["aria-readonly"]="true"),P}),H=m(()=>`q-slider q-slider${p.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(l.vertical===!0?"row":"column")+(l.disable===!0?" disabled":" q-slider--enabled"+(C.value===!0?" q-slider--editable":""))+(v.value==="both"?" q-slider--focus":"")+(l.label||l.labelAlways===!0?" q-slider--label":"")+(l.labelAlways===!0?" q-slider--label-always":"")+(s.value===!0?" q-slider--dark":"")+(l.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function me(P){const X="q-slider__"+P;return`${X} ${X}${p.value} ${X}${p.value}${_.value}`}function Se(P){const X="q-slider__"+P;return`${X} ${X}${p.value}`}const ke=m(()=>{const P=l.selectionColor||l.color;return"q-slider__selection absolute"+(P!==void 0?` text-${P}`:"")}),xe=m(()=>Se("markers")+" absolute overflow-hidden"),x=m(()=>Se("track-container")),h=m(()=>me("pin")),y=m(()=>me("label")),V=m(()=>me("text-container")),I=m(()=>me("marker-labels-container")+(l.markerLabelsClass!==void 0?` ${l.markerLabelsClass}`:"")),g=m(()=>"q-slider__track relative-position no-outline"+(l.trackColor!==void 0?` bg-${l.trackColor}`:"")),k=m(()=>{const P={[ve.value]:l.trackSize};return l.trackImg!==void 0&&(P.backgroundImage=`url(${l.trackImg}) !important`),P}),U=m(()=>"q-slider__inner absolute"+(l.innerTrackColor!==void 0?` bg-${l.innerTrackColor}`:"")),A=m(()=>{const P=de.value-te.value,X={[ue.value]:`${100*te.value}%`,[le.value]:P===0?"2px":`${100*P}%`};return l.innerTrackImg!==void 0&&(X.backgroundImage=`url(${l.innerTrackImg}) !important`),X});function se(P){const{min:X,max:ne,step:ye}=l;let Ae=X+P*(ne-X);if(ye>0){const We=(Ae-z.value)%ye;Ae+=(Math.abs(We)>=ye/2?(We<0?-1:1)*ye:0)-We}return Ae=q.value(Ae),yt(Ae,z.value,E.value)}function Te(P){return Q.value===0?0:(P-l.min)/Q.value}function T(P,X){const ne=ut(P),ye=l.vertical===!0?yt((ne.top-X.top)/X.height,0,1):yt((ne.left-X.left)/X.width,0,1);return yt(S.value===!0?1-ye:ye,te.value,de.value)}const W=m(()=>rn(l.markers)===!0?l.markers:B.value),G=m(()=>{const P=[],X=W.value,ne=l.max;let ye=l.min;do P.push(ye),ye+=X;while(ye<ne);return P.push(ne),P}),Z=m(()=>{const P=` ${Il}${p.value}-`;return Il+`${P}${l.switchMarkerLabelsSide===!0?"switched":"standard"}${P}${S.value===!0?"rtl":"ltr"}`}),he=m(()=>l.markerLabels===!1?null:we(l.markerLabels).map((P,X)=>({index:X,value:P.value,label:P.label||P.value,classes:Z.value+(P.classes!==void 0?" "+P.classes:""),style:{...Le(P.value),...P.style||{}}}))),ee=m(()=>({markerList:he.value,markerMap:Ee.value,classes:Z.value,getStyle:Le})),_e=m(()=>{const P=Y.value===0?"2px":100*W.value/Y.value;return{...A.value,backgroundSize:l.vertical===!0?`2px ${P}%`:`${P}% 2px`}});function we(P){if(P===!1)return null;if(P===!0)return G.value.map(Wn);if(typeof P=="function")return G.value.map(ne=>{const ye=P(ne);return ol(ye)===!0?{...ye,value:ne}:{value:ne,label:ye}});const X=({value:ne})=>ne>=l.min&&ne<=l.max;return Array.isArray(P)===!0?P.map(ne=>ol(ne)===!0?ne:{value:ne}).filter(X):Object.keys(P).map(ne=>{const ye=P[ne],Ae=Number(ne);return ol(ye)===!0?{...ye,value:Ae}:{value:Ae,label:ye}}).filter(X)}function Le(P){return{[ue.value]:`${100*(P-l.min)/Q.value}%`}}const Ee=m(()=>{if(l.markerLabels===!1)return null;const P={};return he.value.forEach(X=>{P[X.value]=X}),P});function $(){if(i["marker-label-group"]!==void 0)return i["marker-label-group"](ee.value);const P=i["marker-label"]||Kn;return he.value.map(X=>P({marker:X,...ee.value}))}const F=m(()=>[[xo,J,void 0,{[R.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function J(P){P.isFinal===!0?(d.value!==void 0&&(t(P.evt),P.touch===!0&&e(!0),d.value=void 0,n("pan","end")),c.value=!1,v.value=!1):P.isFirst===!0?(d.value=o(P.evt),t(P.evt),e(),c.value=!0,n("pan","start")):(t(P.evt),e())}function be(){v.value=!1}function pe(P){t(P,o(P)),e(),w.value=!0,c.value=!0,document.addEventListener("mouseup",re,!0)}function re(){w.value=!1,c.value=!1,e(!0),be(),document.removeEventListener("mouseup",re,!0)}function ce(P){t(P,o(P)),e(!0)}function Ve(P){_o.includes(P.keyCode)&&e(!0)}function Be(P){if(l.vertical===!0)return null;const X=r.lang.rtl!==l.reverse?1-P:P;return{transform:`translateX(calc(${2*X-1} * ${l.thumbSize} / 2 + ${50-100*X}%))`}}function Ne(P){const X=m(()=>w.value===!1&&(v.value===P.focusValue||v.value==="both")?" q-slider--focus":""),ne=m(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${S.value===!0?"rtl":"ltr"} absolute non-selectable`+X.value+(P.thumbColor.value!==void 0?` text-${P.thumbColor.value}`:"")),ye=m(()=>({width:l.thumbSize,height:l.thumbSize,[ue.value]:`${100*P.ratio.value}%`,zIndex:v.value===P.focusValue?2:void 0})),Ae=m(()=>P.labelColor.value!==void 0?` text-${P.labelColor.value}`:""),We=m(()=>Be(P.ratio.value)),dt=m(()=>"q-slider__text"+(P.labelTextColor.value!==void 0?` text-${P.labelTextColor.value}`:""));return()=>{const ft=[b("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[b("path",{d:l.thumbPath})]),b("div",{class:"q-slider__focus-ring fit"})];return(l.label===!0||l.labelAlways===!0)&&(ft.push(b("div",{class:h.value+" absolute fit no-pointer-events"+Ae.value},[b("div",{class:y.value,style:{minWidth:l.thumbSize}},[b("div",{class:V.value,style:We.value},[b("span",{class:dt.value},P.label.value)])])])),l.name!==void 0&&l.disable!==!0&&f(ft,"push")),b("div",{class:ne.value,style:ye.value,...P.getNodeData()},ft)}}function lt(P,X,ne,ye){const Ae=[];l.innerTrackColor!=="transparent"&&Ae.push(b("div",{key:"inner",class:U.value,style:A.value})),l.selectionColor!=="transparent"&&Ae.push(b("div",{key:"selection",class:ke.value,style:P.value})),l.markers!==!1&&Ae.push(b("div",{key:"marker",class:xe.value,style:_e.value})),ye(Ae);const We=[Jt("div",{key:"trackC",class:x.value,tabindex:X.value,...ne.value},[b("div",{class:g.value,style:k.value},Ae)],"slide",C.value,()=>F.value)];if(l.markerLabels!==!1){const dt=l.switchMarkerLabelsSide===!0?"unshift":"push";We[dt](b("div",{key:"markerL",class:I.value},$()))}return We}return Re(()=>{document.removeEventListener("mouseup",re,!0)}),{state:{active:c,focus:v,preventFocus:w,dragging:d,editable:C,classes:H,tabindex:j,attributes:K,roundValueFn:q,keyStep:B,trackLen:Q,innerMin:z,innerMinRatio:te,innerMax:E,innerMaxRatio:de,positionProp:ue,sizeProp:le,isReversed:S},methods:{onActivate:pe,onMobileClick:ce,onBlur:be,onKeyup:Ve,getContent:lt,getThumbRenderFn:Ne,convertRatioToModel:se,convertModelToRatio:Te,getDraggingRatio:T}}}const Gn=()=>({}),pt=Pe({name:"QSlider",props:{...Qn,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Xn,setup(e,{emit:t}){const{proxy:{$q:o}}=Me(),{state:a,methods:l}=Yn({updateValue:p,updatePosition:S,getDragging:_,formAttrs:un(e)}),n=M(null),i=M(0),r=M(0);function s(){r.value=e.modelValue===null?a.innerMin.value:yt(e.modelValue,a.innerMin.value,a.innerMax.value)}oe(()=>`${e.modelValue}|${a.innerMin.value}|${a.innerMax.value}`,s),s();const f=m(()=>l.convertModelToRatio(r.value)),c=m(()=>a.active.value===!0?i.value:f.value),w=m(()=>{const C={[a.positionProp.value]:`${100*a.innerMinRatio.value}%`,[a.sizeProp.value]:`${100*(c.value-a.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(C.backgroundImage=`url(${e.selectionImg}) !important`),C}),v=l.getThumbRenderFn({focusValue:!0,getNodeData:Gn,ratio:c,label:m(()=>e.labelValue!==void 0?e.labelValue:r.value),thumbColor:m(()=>e.thumbColor||e.color),labelColor:m(()=>e.labelColor),labelTextColor:m(()=>e.labelTextColor)}),d=m(()=>a.editable.value!==!0?{}:o.platform.is.mobile===!0?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:z,onBlur:l.onBlur,onKeydown:E,onKeyup:l.onKeyup});function p(C){r.value!==e.modelValue&&t("update:modelValue",r.value),C===!0&&t("change",r.value)}function _(){return n.value.getBoundingClientRect()}function S(C,q=a.dragging.value){const B=l.getDraggingRatio(C,q);r.value=l.convertRatioToModel(B),i.value=e.snap!==!0||e.step===0?B:l.convertModelToRatio(r.value)}function z(){a.focus.value=!0}function E(C){if(_o.includes(C.keyCode)===!1)return;Ie(C);const q=([34,33].includes(C.keyCode)?10:1)*a.keyStep.value,B=([34,37,40].includes(C.keyCode)?-1:1)*(a.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*q;r.value=yt(a.roundValueFn.value(r.value+B),a.innerMin.value,a.innerMax.value),p()}return()=>{const C=l.getContent(w,a.tabindex,d,q=>{q.push(v())});return b("div",{ref:n,class:a.classes.value+(e.modelValue===null?" q-slider--no-value":""),...a.attributes.value,"aria-valuenow":e.modelValue},C)}}});function Jn(){const e=M(!sn.value);return e.value===!1&&et(()=>{e.value=!0}),{isHydrated:e}}const qo=typeof ResizeObserver<"u",Dl=qo===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Zn=Pe({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let o=null,a,l={width:-1,height:-1};function n(s){s===!0||e.debounce===0||e.debounce==="0"?i():o===null&&(o=setTimeout(i,e.debounce))}function i(){if(o!==null&&(clearTimeout(o),o=null),a){const{offsetWidth:s,offsetHeight:f}=a;(s!==l.width||f!==l.height)&&(l={width:s,height:f},t("resize",l))}}const{proxy:r}=Me();if(r.trigger=n,qo===!0){let s;const f=c=>{a=r.$el.parentNode,a?(s=new ResizeObserver(n),s.observe(a),i()):c!==!0&&He(()=>{f(!0)})};return et(()=>{f()}),Re(()=>{o!==null&&clearTimeout(o),s!==void 0&&(s.disconnect!==void 0?s.disconnect():a&&s.unobserve(a))}),Dt}else{let s=function(){o!==null&&(clearTimeout(o),o=null),w!==void 0&&(w.removeEventListener!==void 0&&w.removeEventListener("resize",n,$t.passive),w=void 0)},f=function(){s(),a?.contentDocument&&(w=a.contentDocument.defaultView,w.addEventListener("resize",n,$t.passive),i())};const{isHydrated:c}=Jn();let w;return et(()=>{He(()=>{a=r.$el,a&&f()})}),Re(s),()=>{if(c.value===!0)return b("object",{class:"q--avoid-card-border",style:Dl.style,tabindex:-1,type:"text/html",data:Dl.url,"aria-hidden":"true",onLoad:f})}}}});let zt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,zt=e.scrollLeft>=0,e.remove()}function ea(e,t,o){const a=o===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?a[0]:a[1]}${e?` text-${e}`:""}`}const ta=["left","center","right","justify"],Ol=Pe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>ta.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:o}){const{proxy:a}=Me(),{$q:l}=a,{registerTick:n}=At(),{registerTick:i}=At(),{registerTick:r}=At(),{registerTimeout:s,removeTimeout:f}=Mt(),{registerTimeout:c,removeTimeout:w}=Mt(),v=M(null),d=M(null),p=M(e.modelValue),_=M(!1),S=M(!0),z=M(!1),E=M(!1),C=[],q=M(0),B=M(!1);let j=null,Q=null,Y;const te=m(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:ea(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),de=m(()=>{const $=q.value,F=p.value;for(let J=0;J<$;J++)if(C[J].name.value===F)return!0;return!1}),ue=m(()=>`q-tabs__content--align-${_.value===!0?"left":E.value===!0?"justify":e.align}`),le=m(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),ve=m(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ue.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),R=m(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),K=m(()=>e.vertical!==!0&&l.lang.rtl===!0),H=m(()=>zt===!1&&K.value===!0);oe(K,h),oe(()=>e.modelValue,$=>{me({name:$,setCurrent:!0,skipEmit:!0})}),oe(()=>e.outsideArrows,Se);function me({name:$,setCurrent:F,skipEmit:J}){p.value!==$&&(J!==!0&&e["onUpdate:modelValue"]!==void 0&&o("update:modelValue",$),(F===!0||e["onUpdate:modelValue"]===void 0)&&(xe(p.value,$),p.value=$))}function Se(){n(()=>{v.value&&ke({width:v.value.offsetWidth,height:v.value.offsetHeight})})}function ke($){if(R.value===void 0||d.value===null)return;const F=$[R.value.container],J=Math.min(d.value[R.value.scroll],Array.prototype.reduce.call(d.value.children,(pe,re)=>pe+(re[R.value.content]||0),0)),be=F>0&&J>F;_.value=be,be===!0&&i(h),E.value=F<parseInt(e.breakpoint,10)}function xe($,F){const J=$!=null&&$!==""?C.find(pe=>pe.name.value===$):null,be=F!=null&&F!==""?C.find(pe=>pe.name.value===F):null;if(Ee===!0)Ee=!1;else if(J&&be){const pe=J.tabIndicatorRef.value,re=be.tabIndicatorRef.value;j!==null&&(clearTimeout(j),j=null),pe.style.transition="none",pe.style.transform="none",re.style.transition="none",re.style.transform="none";const ce=pe.getBoundingClientRect(),Ve=re.getBoundingClientRect();re.style.transform=e.vertical===!0?`translate3d(0,${ce.top-Ve.top}px,0) scale3d(1,${Ve.height?ce.height/Ve.height:1},1)`:`translate3d(${ce.left-Ve.left}px,0,0) scale3d(${Ve.width?ce.width/Ve.width:1},1,1)`,r(()=>{j=setTimeout(()=>{j=null,re.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",re.style.transform="none"},70)})}be&&_.value===!0&&x(be.rootRef.value)}function x($){const{left:F,width:J,top:be,height:pe}=d.value.getBoundingClientRect(),re=$.getBoundingClientRect();let ce=e.vertical===!0?re.top-be:re.left-F;if(ce<0){d.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ce),h();return}ce+=e.vertical===!0?re.height-pe:re.width-J,ce>0&&(d.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ce),h())}function h(){const $=d.value;if($===null)return;const F=$.getBoundingClientRect(),J=e.vertical===!0?$.scrollTop:Math.abs($.scrollLeft);K.value===!0?(S.value=Math.ceil(J+F.width)<$.scrollWidth-1,z.value=J>0):(S.value=J>0,z.value=e.vertical===!0?Math.ceil(J+F.height)<$.scrollHeight:Math.ceil(J+F.width)<$.scrollWidth)}function y($){Q!==null&&clearInterval(Q),Q=setInterval(()=>{A($)===!0&&g()},5)}function V(){y(H.value===!0?Number.MAX_SAFE_INTEGER:0)}function I(){y(H.value===!0?0:Number.MAX_SAFE_INTEGER)}function g(){Q!==null&&(clearInterval(Q),Q=null)}function k($,F){const J=Array.prototype.filter.call(d.value.children,Ve=>Ve===F||Ve.matches&&Ve.matches(".q-tab.q-focusable")===!0),be=J.length;if(be===0)return;if($===36)return x(J[0]),J[0].focus(),!0;if($===35)return x(J[be-1]),J[be-1].focus(),!0;const pe=$===(e.vertical===!0?38:37),re=$===(e.vertical===!0?40:39),ce=pe===!0?-1:re===!0?1:void 0;if(ce!==void 0){const Ve=K.value===!0?-1:1,Be=J.indexOf(F)+ce*Ve;return Be>=0&&Be<be&&(x(J[Be]),J[Be].focus({preventScroll:!0})),!0}}const U=m(()=>H.value===!0?{get:$=>Math.abs($.scrollLeft),set:($,F)=>{$.scrollLeft=-F}}:e.vertical===!0?{get:$=>$.scrollTop,set:($,F)=>{$.scrollTop=F}}:{get:$=>$.scrollLeft,set:($,F)=>{$.scrollLeft=F}});function A($){const F=d.value,{get:J,set:be}=U.value;let pe=!1,re=J(F);const ce=$<re?-1:1;return re+=ce*5,re<0?(pe=!0,re=0):(ce===-1&&re<=$||ce===1&&re>=$)&&(pe=!0,re=$),be(F,re),h(),pe}function se($,F){for(const J in $)if($[J]!==F[J])return!1;return!0}function Te(){let $=null,F={matchedLen:0,queryDiff:9999,hrefLen:0};const J=C.filter(ce=>ce.routeData?.hasRouterLink.value===!0),{hash:be,query:pe}=a.$route,re=Object.keys(pe).length;for(const ce of J){const Ve=ce.routeData.exact.value===!0;if(ce.routeData[Ve===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Be,query:Ne,matched:lt,href:P}=ce.routeData.resolvedLink.value,X=Object.keys(Ne).length;if(Ve===!0){if(Be!==be||X!==re||se(pe,Ne)===!1)continue;$=ce.name.value;break}if(Be!==""&&Be!==be||X!==0&&se(Ne,pe)===!1)continue;const ne={matchedLen:lt.length,queryDiff:re-X,hrefLen:P.length-Be.length};if(ne.matchedLen>F.matchedLen){$=ce.name.value,F=ne;continue}else if(ne.matchedLen!==F.matchedLen)continue;if(ne.queryDiff<F.queryDiff)$=ce.name.value,F=ne;else if(ne.queryDiff!==F.queryDiff)continue;ne.hrefLen>F.hrefLen&&($=ce.name.value,F=ne)}if($===null&&C.some(ce=>ce.routeData===void 0&&ce.name.value===p.value)===!0){Ee=!1;return}me({name:$,setCurrent:!0})}function T($){if(f(),B.value!==!0&&v.value!==null&&$.target&&typeof $.target.closest=="function"){const F=$.target.closest(".q-tab");F&&v.value.contains(F)===!0&&(B.value=!0,_.value===!0&&x(F))}}function W(){s(()=>{B.value=!1},30)}function G(){_e.avoidRouteWatcher===!1?c(Te):w()}function Z(){if(Y===void 0){const $=oe(()=>a.$route.fullPath,G);Y=()=>{$(),Y=void 0}}}function he($){C.push($),q.value++,Se(),$.routeData===void 0||a.$route===void 0?c(()=>{if(_.value===!0){const F=p.value,J=F!=null&&F!==""?C.find(be=>be.name.value===F):null;J&&x(J.rootRef.value)}}):(Z(),$.routeData.hasRouterLink.value===!0&&G())}function ee($){C.splice(C.indexOf($),1),q.value--,Se(),Y!==void 0&&$.routeData!==void 0&&(C.every(F=>F.routeData===void 0)===!0&&Y(),G())}const _e={currentModel:p,tabProps:te,hasFocus:B,hasActiveTab:de,registerTab:he,unregisterTab:ee,verifyRouteModel:G,updateModel:me,onKbdNavigate:k,avoidRouteWatcher:!1};cn(ro,_e);function we(){j!==null&&clearTimeout(j),g(),Y?.()}let Le,Ee;return Re(we),ao(()=>{Le=Y!==void 0,we()}),io(()=>{Le===!0&&(Z(),Ee=!0,G()),Se()}),()=>b("div",{ref:v,class:le.value,role:"tablist",onFocusin:T,onFocusout:W},[b(Zn,{onResize:ke}),b("div",{ref:d,class:ve.value,onScroll:h},Xe(t.default)),b(Fe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(S.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:V,onTouchstartPassive:V,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g}),b(Fe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:I,onTouchstartPassive:I,onMouseupPassive:g,onMouseleavePassive:g,onTouchendPassive:g})])}});let la=0;const oa=["click","keydown"],na={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${la++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function aa(e,t,o,a){const l=dn(ro,nl);if(l===nl)return console.error("QTab/QRouteTab component needs to be child of QTabs"),nl;const{proxy:n}=Me(),i=M(null),r=M(null),s=M(null),f=m(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),c=m(()=>l.currentModel.value===e.name),w=m(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(c.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),v=m(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),d=m(()=>e.disable===!0||l.hasFocus.value===!0||c.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function p(C,q){if(q!==!0&&C?.qAvoidFocus!==!0&&i.value?.focus(),e.disable!==!0){l.updateModel({name:e.name}),o("click",C);return}}function _(C){Yt(C,[13,32])?p(C,!0):Zt(C)!==!0&&C.keyCode>=35&&C.keyCode<=40&&C.altKey!==!0&&C.metaKey!==!0&&l.onKbdNavigate(C.keyCode,n.$el)===!0&&Ie(C),o("keydown",C)}function S(){const C=l.tabProps.value.narrowIndicator,q=[],B=b("div",{ref:s,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&q.push(b(Fe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&q.push(b("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&q.push(e.alertIcon!==void 0?b(Fe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):b("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),C===!0&&q.push(B);const j=[b("div",{class:"q-focus-helper",tabindex:-1,ref:i}),b("div",{class:v.value},so(t.default,q))];return C===!1&&j.push(B),j}const z={name:m(()=>e.name),rootRef:r,tabIndicatorRef:s,routeData:a};Re(()=>{l.unregisterTab(z)}),et(()=>{l.registerTab(z)});function E(C,q){const B={ref:r,class:w.value,tabindex:d.value,role:"tab","aria-selected":c.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:_,...q};return fn(b(C,B,S()),[[uo,f.value]])}return{renderTab:E,$tabs:l}}const Tt=Pe({name:"QTab",props:na,emits:oa,setup(e,{slots:t,emit:o}){const{renderTab:a}=aa(e,t,o);return()=>a("div")}});function ia(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,a)=>{const l=parseFloat(o);l&&(t[a]=l)}),t}const ra=lo({name:"touch-swipe",beforeMount(e,{value:t,arg:o,modifiers:a}){if(a.mouse!==!0&&Qe.has.touch!==!0)return;const l=a.mouseCapture===!0?"Capture":"",n={handler:t,sensitivity:ia(o),direction:Qt(a),noop:Dt,mouseStart(i){Xt(i,n)&&oo(i)&&(Ue(n,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),n.start(i,!0))},touchStart(i){if(Xt(i,n)){const r=i.target;Ue(n,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),n.start(i)}},start(i,r){Qe.is.firefox===!0&&Ct(e,!0);const s=ut(i);n.event={x:s.left,y:s.top,time:Date.now(),mouse:r===!0,dir:!1}},move(i){if(n.event===void 0)return;if(n.event.dir!==!1){Ie(i);return}const r=Date.now()-n.event.time;if(r===0)return;const s=ut(i),f=s.left-n.event.x,c=Math.abs(f),w=s.top-n.event.y,v=Math.abs(w);if(n.event.mouse!==!0){if(c<n.sensitivity[1]&&v<n.sensitivity[1]){n.end(i);return}}else if(window.getSelection().toString()!==""){n.end(i);return}else if(c<n.sensitivity[2]&&v<n.sensitivity[2])return;const d=c/r,p=v/r;n.direction.vertical===!0&&c<v&&c<100&&p>n.sensitivity[0]&&(n.event.dir=w<0?"up":"down"),n.direction.horizontal===!0&&c>v&&v<100&&d>n.sensitivity[0]&&(n.event.dir=f<0?"left":"right"),n.direction.up===!0&&c<v&&w<0&&c<100&&p>n.sensitivity[0]&&(n.event.dir="up"),n.direction.down===!0&&c<v&&w>0&&c<100&&p>n.sensitivity[0]&&(n.event.dir="down"),n.direction.left===!0&&c>v&&f<0&&v<100&&d>n.sensitivity[0]&&(n.event.dir="left"),n.direction.right===!0&&c>v&&f>0&&v<100&&d>n.sensitivity[0]&&(n.event.dir="right"),n.event.dir!==!1?(Ie(i),n.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Lt(),n.styleCleanup=_=>{n.styleCleanup=void 0,document.body.classList.remove("non-selectable");const S=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(S,50):S()}),n.handler({evt:i,touch:n.event.mouse!==!0,mouse:n.event.mouse,direction:n.event.dir,duration:r,distance:{x:c,y:v}})):n.end(i)},end(i){n.event!==void 0&&(Je(n,"temp"),Qe.is.firefox===!0&&Ct(e,!1),n.styleCleanup?.(!0),i!==void 0&&n.event.dir!==!1&&Ie(i),n.event=void 0)}};if(e.__qtouchswipe=n,a.mouse===!0){const i=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";Ue(n,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}Qe.has.touch===!0&&Ue(n,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchswipe;o!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&o.end(),o.handler=t.value),o.direction=Qt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Je(t,"main"),Je(t,"temp"),Qe.is.firefox===!0&&Ct(e,!1),t.styleCleanup?.(),delete e.__qtouchswipe)}});function To(){let e=Object.create(null);return{getCache:(t,o)=>e[t]===void 0?e[t]=typeof o=="function"?o():o:e[t],setCache(t,o){e[t]=o},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const ua={name:{required:!0},disable:Boolean},Rl={setup(e,{slots:t}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},Xe(t.default))}},sa={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ca=["update:modelValue","beforeTransition","transition"];function da(){const{props:e,emit:t,proxy:o}=Me(),{getCache:a}=To(),{registerTimeout:l}=Mt();let n,i;const r=M(null),s={value:null};function f(R){const K=e.vertical===!0?"up":"left";Y((o.$q.lang.rtl===!0?-1:1)*(R.direction===K?1:-1))}const c=m(()=>[[ra,f,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),w=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),d=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),p=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),S=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);oe(()=>e.modelValue,(R,K)=>{const H=q(R)===!0?B(R):-1;i!==!0&&Q(H===-1?0:H<B(K)?-1:1),s.value!==H&&(s.value=H,t("beforeTransition",R,K),l(()=>{t("transition",R,K)},e.transitionDuration))});function z(){Y(1)}function E(){Y(-1)}function C(R){t("update:modelValue",R)}function q(R){return R!=null&&R!==""}function B(R){return n.findIndex(K=>K.props.name===R&&K.props.disable!==""&&K.props.disable!==!0)}function j(){return n.filter(R=>R.props.disable!==""&&R.props.disable!==!0)}function Q(R){const K=R!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(R===-1?w.value:v.value):null;r.value!==K&&(r.value=K)}function Y(R,K=s.value){let H=K+R;for(;H!==-1&&H<n.length;){const me=n[H];if(me!==void 0&&me.props.disable!==""&&me.props.disable!==!0){Q(R),i=!0,t("update:modelValue",me.props.name),setTimeout(()=>{i=!1});return}H+=R}e.infinite===!0&&n.length!==0&&K!==-1&&K!==n.length&&Y(R,R===-1?n.length:-1)}function te(){const R=B(e.modelValue);return s.value!==R&&(s.value=R),!0}function de(){const R=q(e.modelValue)===!0&&te()&&n[s.value];return e.keepAlive===!0?[b(mn,_.value,[b(S.value===!0?a(p.value,()=>({...Rl,name:p.value})):Rl,{key:p.value,style:d.value},()=>R)])]:[b("div",{class:"q-panel scroll",style:d.value,key:p.value,role:"tabpanel"},[R])]}function ue(){if(n.length!==0)return e.animated===!0?[b(Gt,{name:r.value},de)]:de()}function le(R){return n=vn(Xe(R.default,[])).filter(K=>K.props!==null&&K.props.slot===void 0&&q(K.props.name)===!0),n.length}function ve(){return n}return Object.assign(o,{next:z,previous:E,goTo:C}),{panelIndex:s,panelDirectives:c,updatePanelsList:le,updatePanelIndex:te,getPanelContent:ue,getEnabledPanels:j,getPanels:ve,isValidPanelName:q,keepAliveProps:_,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:Y,goToPanel:C,nextPanel:z,previousPanel:E}}const fa=Pe({name:"QTabPanels",props:{...sa,...st},emits:ca,setup(e,{slots:t}){const o=Me(),a=ct(e,o.proxy.$q),{updatePanelsList:l,getPanelContent:n,panelDirectives:i}=da(),r=m(()=>"q-tab-panels q-panel-parent"+(a.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),Jt("div",{class:r.value},n(),"pan",e.swipeable,()=>i.value))}}),rl=Pe({name:"QTabPanel",props:ua,setup(e,{slots:t}){return()=>b("div",{class:"q-tab-panel",role:"tabpanel"},Xe(t.default))}}),va=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Fl({r:e,g:t,b:o,a}){const l=a!==void 0;if(e=Math.round(e),t=Math.round(t),o=Math.round(o),e>255||t>255||o>255||l&&a>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return a=l?(Math.round(255*a/100)|256).toString(16).slice(1):"","#"+(o|t<<8|e<<16|1<<24).toString(16).slice(1)+a}function Hl({r:e,g:t,b:o,a}){return`rgb${a!==void 0?"a":""}(${e},${t},${o}${a!==void 0?","+a/100:""})`}function Eo(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function Nl({h:e,s:t,v:o,a}){let l,n,i;t=t/100,o=o/100,e=e/360;const r=Math.floor(e*6),s=e*6-r,f=o*(1-t),c=o*(1-s*t),w=o*(1-(1-s)*t);switch(r%6){case 0:l=o,n=w,i=f;break;case 1:l=c,n=o,i=f;break;case 2:l=f,n=o,i=w;break;case 3:l=f,n=c,i=o;break;case 4:l=w,n=f,i=o;break;case 5:l=o,n=f,i=c;break}return{r:Math.round(l*255),g:Math.round(n*255),b:Math.round(i*255),a}}function ul({r:e,g:t,b:o,a}){const l=Math.max(e,t,o),n=Math.min(e,t,o),i=l-n,r=l===0?0:i/l,s=l/255;let f;switch(l){case n:f=0;break;case e:f=t-o+i*(t<o?6:0),f/=6*i;break;case t:f=o-e+i*2,f/=6*i;break;case o:f=e-t+i*4,f/=6*i;break}return{h:Math.round(f*360),s:Math.round(r*100),v:Math.round(s*100),a}}function Vo(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),o=va.exec(t);if(o===null)return Eo(t);const a={r:Math.min(255,parseInt(o[2],10)),g:Math.min(255,parseInt(o[3],10)),b:Math.min(255,parseInt(o[4],10))};if(o[1]){const l=parseFloat(o[5]);a.a=Math.min(1,isNaN(l)===!0?1:l)*100}return a}function ma(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const t=typeof e=="string"?Vo(e):e,o=t.r/255,a=t.g/255,l=t.b/255,n=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),i=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),r=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4);return .2126*n+.7152*i+.0722*r}const ga=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],jl="M5 5 h10 v10 h-10 v-10 z",ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==",Bo=Pe({name:"QColor",props:{...st,...gl,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:t}){const{proxy:o}=Me(),{$q:a}=o,l=ct(e,a),{getCache:n}=To(),i=M(null),r=M(null),s=m(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")!==-1),f=m(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1),c=M(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),w=M(e.defaultView),v=M(le(e.modelValue||e.defaultValue)),d=m(()=>e.disable!==!0&&e.readonly!==!0),p=m(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),_=m(()=>s.value!==null?s.value:p.value),S=m(()=>({type:"hidden",name:e.name,value:v.value[_.value===!0?"hex":"rgb"]})),z=no(S),E=m(()=>f.value!==null?f.value:v.value.a!==void 0),C=m(()=>({backgroundColor:v.value.rgb||"#000"})),q=m(()=>`q-color-picker__header-content q-color-picker__header-content--${(v.value.a!==void 0&&v.value.a<65?!0:ma(v.value)>.4)?"light":"dark"}`),B=m(()=>({background:`hsl(${v.value.h},100%,50%)`})),j=m(()=>({top:`${100-v.value.v}%`,[a.lang.rtl===!0?"right":"left"]:`${v.value.s}%`})),Q=m(()=>e.palette!==void 0&&e.palette.length!==0?e.palette:ga),Y=m(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(l.value===!0?" q-color-picker--dark q-dark":"")),te=m(()=>e.disable===!0?{"aria-disabled":"true"}:{}),de=m(()=>[[xo,ke,void 0,{prevent:!0,stop:!0,mouse:!0}]]);oe(()=>e.modelValue,T=>{const W=le(T||e.defaultValue);W.hex!==v.value.hex&&(v.value=W)}),oe(()=>e.defaultValue,T=>{if(!e.modelValue&&T){const W=le(T);W.hex!==v.value.hex&&(v.value=W)}});function ue(T,W){v.value.hex=Fl(T),v.value.rgb=Hl(T),v.value.r=T.r,v.value.g=T.g,v.value.b=T.b,v.value.a=T.a;const G=v.value[_.value===!0?"hex":"rgb"];t("update:modelValue",G),W===!0&&t("change",G)}function le(T){const W=f.value!==void 0?f.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1;if(typeof T!="string"||T.length===0||gn.anyColor(T.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:W===!0?100:void 0,hex:void 0,rgb:void 0};const G=Vo(T);return W===!0&&G.a===void 0&&(G.a=100),G.hex=Fl(G),G.rgb=Hl(G),Object.assign(G,ul(G))}function ve(T,W,G){const Z=i.value;if(Z===null)return;const he=Z.clientWidth,ee=Z.clientHeight,_e=Z.getBoundingClientRect();let we=Math.min(he,Math.max(0,T-_e.left));a.lang.rtl===!0&&(we=he-we);const Le=Math.min(ee,Math.max(0,W-_e.top)),Ee=Math.round(100*we/he),$=Math.round(100*Math.max(0,Math.min(1,-(Le/ee)+1))),F=Nl({h:v.value.h,s:Ee,v:$,a:E.value===!0?v.value.a:void 0});v.value.s=Ee,v.value.v=$,ue(F,G)}function R(T,W){const G=Math.round(T),Z=Nl({h:G,s:v.value.s,v:v.value.v,a:E.value===!0?v.value.a:void 0});v.value.h=G,ue(Z,W)}function K(T){R(T,!0)}function H(T,W,G,Z,he){if(Z!==void 0&&$e(Z),!/^[0-9]+$/.test(T)){he===!0&&o.$forceUpdate();return}const ee=Math.floor(Number(T));if(ee<0||ee>G){he===!0&&o.$forceUpdate();return}const _e={r:W==="r"?ee:v.value.r,g:W==="g"?ee:v.value.g,b:W==="b"?ee:v.value.b,a:E.value===!0?W==="a"?ee:v.value.a:void 0};if(W!=="a"){const we=ul(_e);v.value.h=we.h,v.value.s=we.s,v.value.v=we.v}if(ue(_e,he),he!==!0&&Z?.target.selectionEnd!==void 0){const we=Z.target.selectionEnd;He(()=>{Z.target.setSelectionRange(we,we)})}}function me(T,W){let G;const Z=T.target.value;if($e(T),c.value==="hex"){if(Z.length!==(E.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(Z))return!0;G=Eo(Z)}else{let ee;if(Z.endsWith(")"))if(E.value!==!0&&Z.startsWith("rgb(")){if(ee=Z.substring(4,Z.length-1).split(",").map(_e=>parseInt(_e,10)),ee.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(Z))return!0}else if(E.value===!0&&Z.startsWith("rgba(")){if(ee=Z.substring(5,Z.length-1).split(","),ee.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(Z))return!0;for(let we=0;we<3;we++){const Le=parseInt(ee[we],10);if(Le<0||Le>255)return!0;ee[we]=Le}const _e=parseFloat(ee[3]);if(_e<0||_e>1)return!0;ee[3]=_e}else return!0;else return!0;if(ee[0]<0||ee[0]>255||ee[1]<0||ee[1]>255||ee[2]<0||ee[2]>255||E.value===!0&&(ee[3]<0||ee[3]>1))return!0;G={r:ee[0],g:ee[1],b:ee[2],a:E.value===!0?ee[3]*100:void 0}}const he=ul(G);if(v.value.h=he.h,v.value.s=he.s,v.value.v=he.v,ue(G,W),W!==!0){const ee=T.target.selectionEnd;He(()=>{T.target.setSelectionRange(ee,ee)})}}function Se(T){const W=le(T),G={r:W.r,g:W.g,b:W.b,a:W.a};G.a===void 0&&(G.a=v.value.a),v.value.h=W.h,v.value.s=W.s,v.value.v=W.v,ue(G,!0)}function ke(T){T.isFinal?ve(T.position.left,T.position.top,!0):xe(T)}const xe=hn(T=>{ve(T.position.left,T.position.top)},20);function x(T){ve(T.pageX-window.pageXOffset,T.pageY-window.pageYOffset,!0)}function h(T){ve(T.pageX-window.pageXOffset,T.pageY-window.pageYOffset)}function y(T){r.value!==null&&(r.value.$el.style.opacity=T?1:0)}function V(T){c.value=T}function I(){const T=[];return e.noHeaderTabs!==!0&&T.push(b(Ol,{class:"q-color-picker__header-tabs",modelValue:c.value,dense:!0,align:"justify","onUpdate:modelValue":V},()=>[b(Tt,{label:"HEX"+(E.value===!0?"A":""),name:"hex",ripple:!1}),b(Tt,{label:"RGB"+(E.value===!0?"A":""),name:"rgb",ripple:!1})])),T.push(b("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[b("input",{class:"fit",value:v.value[c.value],...d.value!==!0?{readonly:!0}:{},...n("topIn",{onInput:W=>{y(me(W)===!0)},onChange:$e,onBlur:W=>{me(W,!0)===!0&&o.$forceUpdate(),y(!1)}})}),b(Fe,{ref:r,class:"q-color-picker__error-icon absolute no-pointer-events",name:a.iconSet.type.negative})])),b("div",{class:"q-color-picker__header relative-position overflow-hidden"},[b("div",{class:"q-color-picker__header-bg absolute-full"}),b("div",{class:q.value,style:C.value},T)])}function g(){return b(fa,{modelValue:w.value,animated:!0},()=>[b(rl,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},A),b(rl,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},se),b(rl,{class:"q-color-picker__palette-tab",name:"palette"},Te)])}function k(T){w.value=T}function U(){return b("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[b(Ol,{class:"absolute-full",modelValue:w.value,dense:!0,align:"justify","onUpdate:modelValue":k},()=>[b(Tt,{icon:a.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),b(Tt,{icon:a.iconSet.colorPicker.tune,name:"tune",ripple:!1}),b(Tt,{icon:a.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function A(){const T={ref:i,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(d.value!==!0?" readonly":""),style:B.value,...d.value===!0?{onClick:x,onMousedown:h}:{}},W=[b("div",{style:{paddingBottom:"100%"}}),b("div",{class:"q-color-picker__spectrum-white absolute-full"}),b("div",{class:"q-color-picker__spectrum-black absolute-full"}),b("div",{class:"absolute",style:j.value},[v.value.hex!==void 0?b("div",{class:"q-color-picker__spectrum-circle"}):null])],G=[b(pt,{class:"q-color-picker__hue non-selectable",modelValue:v.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:d.value!==!0,thumbPath:jl,"onUpdate:modelValue":R,onChange:K})];return E.value===!0&&G.push(b(pt,{class:"q-color-picker__alpha non-selectable",modelValue:v.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:ha,readonly:d.value!==!0,hideSelection:!0,thumbPath:jl,...n("alphaSlide",{"onUpdate:modelValue":Z=>H(Z,"a",100),onChange:Z=>H(Z,"a",100,void 0,!0)})})),[Jt("div",T,W,"spec",d.value,()=>de.value),b("div",{class:"q-color-picker__sliders"},G)]}function se(){return[b("div",{class:"row items-center no-wrap"},[b("div","R"),b(pt,{modelValue:v.value.r,min:0,max:255,color:"red",dark:l.value,readonly:d.value!==!0,...n("rSlide",{"onUpdate:modelValue":T=>H(T,"r",255),onChange:T=>H(T,"r",255,void 0,!0)})}),b("input",{value:v.value.r,maxlength:3,readonly:d.value!==!0,onChange:$e,...n("rIn",{onInput:T=>H(T.target.value,"r",255,T),onBlur:T=>H(T.target.value,"r",255,T,!0)})})]),b("div",{class:"row items-center no-wrap"},[b("div","G"),b(pt,{modelValue:v.value.g,min:0,max:255,color:"green",dark:l.value,readonly:d.value!==!0,...n("gSlide",{"onUpdate:modelValue":T=>H(T,"g",255),onChange:T=>H(T,"g",255,void 0,!0)})}),b("input",{value:v.value.g,maxlength:3,readonly:d.value!==!0,onChange:$e,...n("gIn",{onInput:T=>H(T.target.value,"g",255,T),onBlur:T=>H(T.target.value,"g",255,T,!0)})})]),b("div",{class:"row items-center no-wrap"},[b("div","B"),b(pt,{modelValue:v.value.b,min:0,max:255,color:"blue",readonly:d.value!==!0,dark:l.value,...n("bSlide",{"onUpdate:modelValue":T=>H(T,"b",255),onChange:T=>H(T,"b",255,void 0,!0)})}),b("input",{value:v.value.b,maxlength:3,readonly:d.value!==!0,onChange:$e,...n("bIn",{onInput:T=>H(T.target.value,"b",255,T),onBlur:T=>H(T.target.value,"b",255,T,!0)})})]),E.value===!0?b("div",{class:"row items-center no-wrap"},[b("div","A"),b(pt,{modelValue:v.value.a,color:"grey",readonly:d.value!==!0,dark:l.value,...n("aSlide",{"onUpdate:modelValue":T=>H(T,"a",100),onChange:T=>H(T,"a",100,void 0,!0)})}),b("input",{value:v.value.a,maxlength:3,readonly:d.value!==!0,onChange:$e,...n("aIn",{onInput:T=>H(T.target.value,"a",100,T),onBlur:T=>H(T.target.value,"a",100,T,!0)})})]):null]}function Te(){const T=W=>b("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:W},...d.value===!0?n("palette#"+W,{onClick:()=>{Se(W)}}):{}});return[b("div",{class:"row items-center q-color-picker__palette-rows"+(d.value===!0?" q-color-picker__palette-rows--editable":"")},Q.value.map(T))]}return()=>{const T=[g()];return e.name!==void 0&&e.disable!==!0&&z(T,"push"),e.noHeader!==!0&&T.unshift(I()),e.noFooter!==!0&&T.push(U()),b("div",{class:Y.value,...te.value},T)}}}),ba={class:"q-mt-md"},pa=Ot({__name:"AddCategoryDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const o=e,a=t,l=M(!1),n=M(""),i=M("#1976D2"),r=M(!1),s=M("#1976D2");oe(()=>o.modelValue,_=>{l.value=_}),oe(l,_=>{a("update:modelValue",_),_||w()});const f=()=>{n.value.trim()&&(a("submit",{name:n.value.trim(),color:i.value}),l.value=!1)},c=()=>{l.value=!1},w=()=>{n.value="",i.value="#1976D2"},v=()=>{s.value=i.value,r.value=!0},d=()=>{r.value=!1,i.value=s.value},p=()=>{s.value=i.value,r.value=!1};return(_,S)=>(Oe(),it(tt,{modelValue:l.value,"onUpdate:modelValue":S[4]||(S[4]=z=>l.value=z),persistent:""},{default:N(()=>[L(Ze,{style:{"min-width":"350px"}},{default:N(()=>[L(De,null,{default:N(()=>S[5]||(S[5]=[ie("div",{class:"text-h6"},"新增分類",-1)])),_:1,__:[5]}),L(De,{class:"q-pt-none"},{default:N(()=>[L(kt,{dense:"",modelValue:n.value,"onUpdate:modelValue":S[0]||(S[0]=z=>n.value=z),autofocus:"",label:"分類名稱",onKeyup:co(f,["enter"])},null,8,["modelValue"]),ie("div",ba,[S[7]||(S[7]=ie("div",{class:"text-subtitle2 q-mb-xs"},"分類顏色",-1)),L(kt,{modelValue:i.value,"onUpdate:modelValue":S[1]||(S[1]=z=>i.value=z),label:"顏色",readonly:"",class:"cursor-pointer",onClick:v},{prepend:N(()=>[ie("div",{style:Pt({backgroundColor:i.value}),class:"color-preview"},null,4)]),append:N(()=>[L(Fe,{name:"palette",class:"cursor-pointer",onClick:v})]),_:1},8,["modelValue"]),L(tt,{modelValue:r.value,"onUpdate:modelValue":S[3]||(S[3]=z=>r.value=z)},{default:N(()=>[L(Ze,{style:{"min-width":"300px"}},{default:N(()=>[L(De,null,{default:N(()=>S[6]||(S[6]=[ie("div",{class:"text-h6"},"選擇顏色",-1)])),_:1,__:[6]}),L(De,{class:"q-pt-none"},{default:N(()=>[L(Bo,{modelValue:i.value,"onUpdate:modelValue":S[2]||(S[2]=z=>i.value=z),class:"full-width"},null,8,["modelValue"])]),_:1}),L(nt,{align:"right"},{default:N(()=>[L(fe,{flat:"",label:"取消",onClick:d}),L(fe,{flat:"",label:"確定",color:"primary",onClick:p})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),L(nt,{align:"right",class:"text-primary"},{default:N(()=>[L(fe,{flat:"",label:"取消",onClick:c}),L(fe,{flat:"",label:"確定",onClick:f,disable:!n.value.trim()},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Rt=(e,t)=>{const o=e.__vccOpts||e;for(const[a,l]of t)o[a]=l;return o},ya=Rt(pa,[["__scopeId","data-v-f714176d"]]),It=Pe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const o=m(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>b("div",{class:o.value},Xe(t.default))}}),el=Pe({name:"QItem",props:{...st,...bn,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Me(),l=ct(e,a),{hasLink:n,linkAttrs:i,linkClass:r,linkTag:s,navigateOnClick:f}=pn(),c=M(null),w=M(null),v=m(()=>e.clickable===!0||n.value===!0||e.tag==="label"),d=m(()=>e.disable!==!0&&v.value===!0),p=m(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(l.value===!0?" q-item--dark":"")+(n.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(d.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),_=m(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function S(C){d.value===!0&&(w.value!==null&&C.qAvoidFocus!==!0&&(C.qKeyEvent!==!0&&document.activeElement===c.value?w.value.focus():document.activeElement===w.value&&c.value.focus()),f(C))}function z(C){if(d.value===!0&&Yt(C,[13,32])===!0){Ie(C),C.qKeyEvent=!0;const q=new MouseEvent("click",C);q.qKeyEvent=!0,c.value.dispatchEvent(q)}o("keyup",C)}function E(){const C=yn(t.default,[]);return d.value===!0&&C.unshift(b("div",{class:"q-focus-helper",tabindex:-1,ref:w})),C}return()=>{const C={ref:c,class:p.value,style:_.value,role:"listitem",onClick:S,onKeyup:z};return d.value===!0?(C.tabindex=e.tabindex||"0",Object.assign(C,i.value)):v.value===!0&&(C["aria-disabled"]="true"),b(s.value,C,E())}}}),Ca=Pe({name:"QField",inheritAttrs:!1,props:{...hl,tag:{type:String,default:"label"}},emits:fo,setup(){return vo(mo({tagProp:!0}))}}),Sa={xs:8,sm:10,md:14,lg:20,xl:24},ka=Pe({name:"QChip",props:{...st,...Cn,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:o}){const{proxy:{$q:a}}=Me(),l=ct(e,a),n=Sn(e,Sa),i=m(()=>e.selected===!0||e.icon!==void 0),r=m(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),s=m(()=>e.iconRemove||a.iconSet.chip.remove),f=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=m(()=>{const S=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(l.value===!0?" q-chip--dark q-dark":"")}),w=m(()=>{const S=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},z={...S,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:S,remove:z}});function v(S){S.keyCode===13&&d(S)}function d(S){e.disable||(o("update:selected",!e.selected),o("click",S))}function p(S){(S.keyCode===void 0||S.keyCode===13)&&(Ie(S),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function _(){const S=[];f.value===!0&&S.push(b("div",{class:"q-focus-helper"})),i.value===!0&&S.push(b(Fe,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const z=e.label!==void 0?[b("div",{class:"ellipsis"},[e.label])]:void 0;return S.push(b("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},kn(t.default,z))),e.iconRight&&S.push(b(Fe,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&S.push(b(Fe,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,...w.value.remove,onClick:p,onKeyup:p})),S}return()=>{if(e.modelValue===!1)return;const S={class:c.value,style:n.value};return f.value===!0&&Object.assign(S,w.value.chip,{onClick:d,onKeyup:v}),Jt("div",S,_(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[uo,e.ripple]])}}}),wa=Pe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const o=m(()=>parseInt(e.lines,10)),a=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),l=m(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>b("div",{style:l.value,class:a.value},Xe(t.default))}}),Ao=Pe({name:"QMenu",inheritAttrs:!1,props:{...On,...Gl,...st,...Bt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Wt},self:{type:String,validator:Wt},offset:{type:Array,validator:wo},scrollTarget:Yl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Xl,"click","escapeKey"],setup(e,{slots:t,emit:o,attrs:a}){let l=null,n,i,r;const s=Me(),{proxy:f}=s,{$q:c}=f,w=M(null),v=M(!1),d=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=ct(e,c),{registerTick:_,removeTick:S}=At(),{registerTimeout:z}=Mt(),{transitionProps:E,transitionStyle:C}=Jl(e),{localScrollTarget:q,changeScrollEvent:B,unconfigureScrollTarget:j}=So(e,y),{anchorEl:Q,canShow:Y}=Co({showing:v}),{hide:te}=Zl({showing:v,canShow:Y,handleShow:xe,handleHide:x,hideOnRouteChange:d,processOnMount:!0}),{showPortal:de,hidePortal:ue,renderPortal:le}=eo(s,w,U,"menu"),ve={anchorEl:Q,innerRef:w,onClickOutside(A){if(e.persistent!==!0&&v.value===!0)return te(A),(A.type==="touchstart"||A.target.classList.contains("q-dialog__backdrop"))&&Ie(A),!0}},R=m(()=>Kt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),K=m(()=>e.cover===!0?R.value:Kt(e.self||"top start",c.lang.rtl)),H=m(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),me=m(()=>e.autoClose===!0?{onClick:V}:{}),Se=m(()=>v.value===!0&&e.persistent!==!0);oe(Se,A=>{A===!0?(wn(g),ko(ve)):(Tl(g),Ut(ve))});function ke(){go(()=>{let A=w.value;A&&A.contains(document.activeElement)!==!0&&(A=A.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||A.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||A.querySelector("[autofocus], [data-autofocus]")||A,A.focus({preventScroll:!0}))})}function xe(A){if(l=e.noRefocus===!1?document.activeElement:null,xn(I),de(),y(),n=void 0,A!==void 0&&(e.touchPosition||e.contextMenu)){const se=ut(A);if(se.left!==void 0){const{top:Te,left:T}=Q.value.getBoundingClientRect();n={left:se.left-T,top:se.top-Te}}}i===void 0&&(i=oe(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),_(()=>{k(),e.noFocus!==!0&&ke()}),z(()=>{c.platform.is.ios===!0&&(r=e.autoClose,w.value.click()),k(),de(!0),o("show",A)},e.transitionDuration)}function x(A){S(),ue(),h(!0),l!==null&&(A===void 0||A.qClickOutside!==!0)&&(((A?.type.indexOf("key")===0?l.closest('[tabindex]:not([tabindex^="-"])'):void 0)||l).focus(),l=null),z(()=>{ue(!0),o("hide",A)},e.transitionDuration)}function h(A){n=void 0,i!==void 0&&(i(),i=void 0),(A===!0||v.value===!0)&&(_n(I),j(),Ut(ve),Tl(g)),A!==!0&&(l=null)}function y(){(Q.value!==null||e.scrollTarget!==void 0)&&(q.value=to(Q.value,e.scrollTarget),B(q.value,k))}function V(A){r!==!0?(qn(f,A),o("click",A)):r=!1}function I(A){Se.value===!0&&e.noFocus!==!0&&Tn(w.value,A.target)!==!0&&ke()}function g(A){e.noEscDismiss!==!0&&(o("escapeKey"),te(A))}function k(){bl({targetEl:w.value,offset:e.offset,anchorEl:Q.value,anchorOrigin:R.value,selfOrigin:K.value,absoluteOffset:n,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function U(){return b(Gt,E.value,()=>v.value===!0?b("div",{role:"menu",...a,ref:w,tabindex:-1,class:["q-menu q-position-engine scroll"+H.value,a.class],style:[a.style,C.value],...me.value},Xe(t.default)):null)}return Re(h),Object.assign(f,{focus:ke,updatePosition:k}),le}}),Ke=1e3,xa=["start","center","end","start-force","center-force","end-force"],Po=Array.prototype.filter,_a=window.getComputedStyle(document.body).overflowAnchor===void 0?Dt:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];Po.call(o,l=>l.dataset&&l.dataset.qVsAnchor!==void 0).forEach(l=>{delete l.dataset.qVsAnchor});const a=o[t];a?.dataset&&(a.dataset.qVsAnchor="")}))};function St(e,t){return e+t}function sl(e,t,o,a,l,n,i,r){const s=e===window?document.scrollingElement||document.documentElement:e,f=l===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-i-r,scrollMaxSize:0,offsetStart:-i,offsetEnd:-r};if(l===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=s.scrollLeft,c.scrollViewSize+=s.clientWidth),c.scrollMaxSize=s.scrollWidth,n===!0&&(c.scrollStart=(zt===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=s.scrollTop,c.scrollViewSize+=s.clientHeight),c.scrollMaxSize=s.scrollHeight),o!==null)for(let w=o.previousElementSibling;w!==null;w=w.previousElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=w[f]);if(a!==null)for(let w=a.nextElementSibling;w!==null;w=w.nextElementSibling)w.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=w[f]);if(t!==e){const w=s.getBoundingClientRect(),v=t.getBoundingClientRect();l===!0?(c.offsetStart+=v.left-w.left,c.offsetEnd-=v.width):(c.offsetStart+=v.top-w.top,c.offsetEnd-=v.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Ul(e,t,o,a){t==="end"&&(t=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(a===!0&&(t=(zt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):o===!0?(a===!0&&(t=(zt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Et(e,t,o,a){if(o>=a)return 0;const l=t.length,n=Math.floor(o/Ke),i=Math.floor((a-1)/Ke)+1;let r=e.slice(n,i).reduce(St,0);return o%Ke!==0&&(r-=t.slice(n*Ke,o).reduce(St,0)),a%Ke!==0&&a!==l&&(r-=t.slice(a,i*Ke).reduce(St,0)),r}const qa={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Wl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...qa};function Ta({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:o,virtualScrollItemSizeComputed:a}){const l=Me(),{props:n,emit:i,proxy:r}=l,{$q:s}=r;let f,c,w,v=[],d;const p=M(0),_=M(0),S=M({}),z=M(null),E=M(null),C=M(null),q=M({from:0,to:0}),B=m(()=>n.tableColspan!==void 0?n.tableColspan:100);a===void 0&&(a=m(()=>n.virtualScrollItemSize));const j=m(()=>a.value+";"+n.virtualScrollHorizontal),Q=m(()=>j.value+";"+n.virtualScrollSliceRatioBefore+";"+n.virtualScrollSliceRatioAfter);oe(Q,()=>{H()}),oe(j,Y);function Y(){K(c,!0)}function te(x){K(x===void 0?c:x)}function de(x,h){const y=t();if(y==null||y.nodeType===8)return;const V=sl(y,o(),z.value,E.value,n.virtualScrollHorizontal,s.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd);w!==V.scrollViewSize&&H(V.scrollViewSize),le(y,V,Math.min(e.value-1,Math.max(0,parseInt(x,10)||0)),0,xa.indexOf(h)!==-1?h:c!==-1&&x>c?"end":"start")}function ue(){const x=t();if(x==null||x.nodeType===8)return;const h=sl(x,o(),z.value,E.value,n.virtualScrollHorizontal,s.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd),y=e.value-1,V=h.scrollMaxSize-h.offsetStart-h.offsetEnd-_.value;if(f===h.scrollStart)return;if(h.scrollMaxSize<=0){le(x,h,0,0);return}w!==h.scrollViewSize&&H(h.scrollViewSize),ve(q.value.from);const I=Math.floor(h.scrollMaxSize-Math.max(h.scrollViewSize,h.offsetEnd)-Math.min(d[y],h.scrollViewSize/2));if(I>0&&Math.ceil(h.scrollStart)>=I){le(x,h,y,h.scrollMaxSize-h.offsetEnd-v.reduce(St,0));return}let g=0,k=h.scrollStart-h.offsetStart,U=k;if(k<=V&&k+h.scrollViewSize>=p.value)k-=p.value,g=q.value.from,U=k;else for(let A=0;k>=v[A]&&g<y;A++)k-=v[A],g+=Ke;for(;k>0&&g<y;)k-=d[g],k>-h.scrollViewSize?(g++,U=k):U=d[g]+k;le(x,h,g,U)}function le(x,h,y,V,I){const g=typeof I=="string"&&I.indexOf("-force")!==-1,k=g===!0?I.replace("-force",""):I,U=k!==void 0?k:"start";let A=Math.max(0,y-S.value[U]),se=A+S.value.total;se>e.value&&(se=e.value,A=Math.max(0,se-S.value.total)),f=h.scrollStart;const Te=A!==q.value.from||se!==q.value.to;if(Te===!1&&k===void 0){Se(y);return}const{activeElement:T}=document,W=C.value;Te===!0&&W!==null&&W!==T&&W.contains(T)===!0&&(W.addEventListener("focusout",R),setTimeout(()=>{W?.removeEventListener("focusout",R)})),_a(W,y-A);const G=k!==void 0?d.slice(A,y).reduce(St,0):0;if(Te===!0){const Z=se>=q.value.from&&A<=q.value.to?q.value.to:se;q.value={from:A,to:Z},p.value=Et(v,d,0,A),_.value=Et(v,d,se,e.value),requestAnimationFrame(()=>{q.value.to!==se&&f===h.scrollStart&&(q.value={from:q.value.from,to:se},_.value=Et(v,d,se,e.value))})}requestAnimationFrame(()=>{if(f!==h.scrollStart)return;Te===!0&&ve(A);const Z=d.slice(A,y).reduce(St,0),he=Z+h.offsetStart+p.value,ee=he+d[y];let _e=he+V;if(k!==void 0){const we=Z-G,Le=h.scrollStart+we;_e=g!==!0&&Le<he&&ee<Le+h.scrollViewSize?Le:k==="end"?ee-h.scrollViewSize:he-(k==="start"?0:Math.round((h.scrollViewSize-d[y])/2))}f=_e,Ul(x,_e,n.virtualScrollHorizontal,s.lang.rtl),Se(y)})}function ve(x){const h=C.value;if(h){const y=Po.call(h.children,A=>A.classList&&A.classList.contains("q-virtual-scroll--skip")===!1),V=y.length,I=n.virtualScrollHorizontal===!0?A=>A.getBoundingClientRect().width:A=>A.offsetHeight;let g=x,k,U;for(let A=0;A<V;){for(k=I(y[A]),A++;A<V&&y[A].classList.contains("q-virtual-scroll--with-prev")===!0;)k+=I(y[A]),A++;U=k-d[g],U!==0&&(d[g]+=U,v[Math.floor(g/Ke)]+=U),g++}}}function R(){C.value?.focus()}function K(x,h){const y=1*a.value;(h===!0||Array.isArray(d)===!1)&&(d=[]);const V=d.length;d.length=e.value;for(let g=e.value-1;g>=V;g--)d[g]=y;const I=Math.floor((e.value-1)/Ke);v=[];for(let g=0;g<=I;g++){let k=0;const U=Math.min((g+1)*Ke,e.value);for(let A=g*Ke;A<U;A++)k+=d[A];v.push(k)}c=-1,f=void 0,p.value=Et(v,d,0,q.value.from),_.value=Et(v,d,q.value.to,e.value),x>=0?(ve(q.value.from),He(()=>{de(x)})):ke()}function H(x){if(x===void 0&&typeof window<"u"){const k=t();k!=null&&k.nodeType!==8&&(x=sl(k,o(),z.value,E.value,n.virtualScrollHorizontal,s.lang.rtl,n.virtualScrollStickySizeStart,n.virtualScrollStickySizeEnd).scrollViewSize)}w=x;const h=parseFloat(n.virtualScrollSliceRatioBefore)||0,y=parseFloat(n.virtualScrollSliceRatioAfter)||0,V=1+h+y,I=x===void 0||x<=0?1:Math.ceil(x/a.value),g=Math.max(1,I,Math.ceil((n.virtualScrollSliceSize>0?n.virtualScrollSliceSize:10)/V));S.value={total:Math.ceil(g*V),start:Math.ceil(g*h),center:Math.ceil(g*(.5+h)),end:Math.ceil(g*(1+h)),view:I}}function me(x,h){const y=n.virtualScrollHorizontal===!0?"width":"height",V={["--q-virtual-scroll-item-"+y]:a.value+"px"};return[x==="tbody"?b(x,{class:"q-virtual-scroll__padding",key:"before",ref:z},[b("tr",[b("td",{style:{[y]:`${p.value}px`,...V},colspan:B.value})])]):b(x,{class:"q-virtual-scroll__padding",key:"before",ref:z,style:{[y]:`${p.value}px`,...V}}),b(x,{class:"q-virtual-scroll__content",key:"content",ref:C,tabindex:-1},h.flat()),x==="tbody"?b(x,{class:"q-virtual-scroll__padding",key:"after",ref:E},[b("tr",[b("td",{style:{[y]:`${_.value}px`,...V},colspan:B.value})])]):b(x,{class:"q-virtual-scroll__padding",key:"after",ref:E,style:{[y]:`${_.value}px`,...V}})]}function Se(x){c!==x&&(n.onVirtualScroll!==void 0&&i("virtualScroll",{index:x,from:q.value.from,to:q.value.to-1,direction:x<c?"decrease":"increase",ref:r}),c=x)}H();const ke=En(ue,s.platform.is.ios===!0?120:35);ho(()=>{H()});let xe=!1;return ao(()=>{xe=!0}),io(()=>{if(xe!==!0)return;const x=t();f!==void 0&&x!==void 0&&x!==null&&x.nodeType!==8?Ul(x,f,n.virtualScrollHorizontal,s.lang.rtl):de(c)}),Re(()=>{ke.cancel()}),Object.assign(r,{scrollTo:de,reset:Y,refresh:te}),{virtualScrollSliceRange:q,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:H,onVirtualScrollEvt:ke,localResetVirtualScroll:K,padVirtualScroll:me,scrollTo:de,reset:Y,refresh:te}}const Kl=e=>["add","add-unique","toggle"].includes(e),Ea=".*+?^${}()|[]\\",Va=Object.keys(hl);function cl(e,t){if(typeof e=="function")return e;const o=e!==void 0?e:t;return a=>a!==null&&typeof a=="object"&&o in a?a[o]:a}const $o=Pe({name:"QSelect",inheritAttrs:!1,props:{...Wl,...gl,...hl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Kl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Wl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...fo,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:o}){const{proxy:a}=Me(),{$q:l}=a,n=M(!1),i=M(!1),r=M(-1),s=M(""),f=M(!1),c=M(!1);let w=null,v=null,d,p,_,S=null,z,E,C,q;const B=M(null),j=M(null),Q=M(null),Y=M(null),te=M(null),de=Vn(e),ue=Bn(Sl),le=m(()=>Array.isArray(e.options)?e.options.length:0),ve=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:K,localResetVirtualScroll:H,padVirtualScroll:me,onVirtualScrollEvt:Se,scrollTo:ke,setVirtualScrollSize:xe}=Ta({virtualScrollLength:le,getVirtualScrollTarget:Uo,getVirtualScrollEl:ft,virtualScrollItemSizeComputed:ve}),x=mo(),h=m(()=>{const u=e.mapOptions===!0&&e.multiple!==!0,D=e.modelValue!==void 0&&(e.modelValue!==null||u===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const O=e.mapOptions===!0&&d!==void 0?d:[],ae=D.map(Ce=>P(Ce,O));return e.modelValue===null&&u===!0?ae.filter(Ce=>Ce!==null):ae}return D}),y=m(()=>{const u={};return Va.forEach(D=>{const O=e[D];O!==void 0&&(u[D]=O)}),u}),V=m(()=>e.optionsDark===null?x.isDark.value:e.optionsDark),I=m(()=>El(h.value)),g=m(()=>{let u="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[u,e.inputClass]:(u+=" q-field__input--padding",e.inputClass===void 0?u:[u,e.inputClass])}),k=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),U=m(()=>le.value===0),A=m(()=>h.value.map(u=>$.value(u)).join(", ")),se=m(()=>e.displayValue!==void 0?e.displayValue:A.value),Te=m(()=>e.optionsHtml===!0?()=>!0:u=>u?.html===!0),T=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(Te.value))),W=m(()=>x.focused.value===!0?e.tabindex:-1),G=m(()=>{const u={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":n.value===!0?"true":"false","aria-controls":`${x.targetUid.value}_lb`};return r.value>=0&&(u["aria-activedescendant"]=`${x.targetUid.value}_${r.value}`),u}),Z=m(()=>({id:`${x.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),he=m(()=>h.value.map((u,D)=>({index:D,opt:u,html:Te.value(u),selected:!0,removeAtIndex:ce,toggleOption:Be,tabindex:W.value}))),ee=m(()=>{if(le.value===0)return[];const{from:u,to:D}=R.value;return e.options.slice(u,D).map((O,ae)=>{const Ce=F.value(O)===!0,ge=X(O)===!0,ze=u+ae,qe={clickable:!0,active:ge,activeClass:Le.value,manualFocus:!0,focused:!1,disable:Ce,tabindex:-1,dense:e.optionsDense,dark:V.value,role:"option","aria-selected":ge===!0?"true":"false",id:`${x.targetUid.value}_${ze}`,onClick:()=>{Be(O)}};return Ce!==!0&&(r.value===ze&&(qe.focused=!0),l.platform.is.desktop===!0&&(qe.onMousemove=()=>{n.value===!0&&Ne(ze)})),{index:ze,opt:O,html:Te.value(O),label:$.value(O),selected:qe.active,focused:qe.focused,toggleOption:Be,setOptionIndex:Ne,itemProps:qe}})}),_e=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:l.iconSet.arrow.dropdown),we=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Le=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ee=m(()=>cl(e.optionValue,"value")),$=m(()=>cl(e.optionLabel,"label")),F=m(()=>cl(e.optionDisable,"disable")),J=m(()=>h.value.map(Ee.value)),be=m(()=>{const u={onInput:Sl,onChange:ue,onKeydown:dt,onKeyup:Ae,onKeypress:We,onFocus:ne,onClick(D){p===!0&&$e(D)}};return u.onCompositionstart=u.onCompositionupdate=u.onCompositionend=ue,u});oe(h,u=>{d=u,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&x.innerLoading.value!==!0&&(i.value!==!0&&n.value!==!0||I.value!==!0)&&(_!==!0&&ht(),(i.value===!0||n.value===!0)&&vt(""))},{immediate:!0}),oe(()=>e.fillInput,ht),oe(n,tl),oe(le,on);function pe(u){return e.emitValue===!0?Ee.value(u):u}function re(u){if(u!==-1&&u<h.value.length)if(e.multiple===!0){const D=e.modelValue.slice();o("remove",{index:u,value:D.splice(u,1)[0]}),o("update:modelValue",D)}else o("update:modelValue",null)}function ce(u){re(u),x.focus()}function Ve(u,D){const O=pe(u);if(e.multiple!==!0){e.fillInput===!0&&wt($.value(u),!0,!0),o("update:modelValue",O);return}if(h.value.length===0){o("add",{index:0,value:O}),o("update:modelValue",e.multiple===!0?[O]:O);return}if(D===!0&&X(u)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ae=e.modelValue.slice();o("add",{index:ae.length,value:O}),ae.push(O),o("update:modelValue",ae)}function Be(u,D){if(x.editable.value!==!0||u===void 0||F.value(u)===!0)return;const O=Ee.value(u);if(e.multiple!==!0){D!==!0&&(wt(e.fillInput===!0?$.value(u):"",!0,!0),at()),j.value?.focus(),(h.value.length===0||xt(Ee.value(h.value[0]),O)!==!0)&&o("update:modelValue",e.emitValue===!0?O:u);return}if((p!==!0||f.value===!0)&&x.focus(),ne(),h.value.length===0){const ge=e.emitValue===!0?O:u;o("add",{index:0,value:ge}),o("update:modelValue",e.multiple===!0?[ge]:ge);return}const ae=e.modelValue.slice(),Ce=J.value.findIndex(ge=>xt(ge,O));if(Ce!==-1)o("remove",{index:Ce,value:ae.splice(Ce,1)[0]});else{if(e.maxValues!==void 0&&ae.length>=e.maxValues)return;const ge=e.emitValue===!0?O:u;o("add",{index:ae.length,value:ge}),ae.push(ge)}o("update:modelValue",ae)}function Ne(u){if(l.platform.is.desktop!==!0)return;const D=u!==-1&&u<le.value?u:-1;r.value!==D&&(r.value=D)}function lt(u=1,D){if(n.value===!0){let O=r.value;do O=zl(O+u,-1,le.value-1);while(O!==-1&&O!==r.value&&F.value(e.options[O])===!0);r.value!==O&&(Ne(O),ke(O),D!==!0&&e.useInput===!0&&e.fillInput===!0&&Ft(O>=0?$.value(e.options[O]):z,!0))}}function P(u,D){const O=ae=>xt(Ee.value(ae),u);return e.options.find(O)||D.find(O)||u}function X(u){const D=Ee.value(u);return J.value.find(O=>xt(O,D))!==void 0}function ne(u){e.useInput===!0&&j.value!==null&&(u===void 0||j.value===u.target&&u.target.value===A.value)&&j.value.select()}function ye(u){Yt(u,27)===!0&&n.value===!0&&($e(u),at(),ht()),o("keyup",u)}function Ae(u){const{value:D}=u.target;if(u.keyCode!==void 0){ye(u);return}if(u.target.value="",w!==null&&(clearTimeout(w),w=null),v!==null&&(clearTimeout(v),v=null),ht(),typeof D=="string"&&D.length!==0){const O=D.toLocaleLowerCase(),ae=ge=>{const ze=e.options.find(qe=>String(ge.value(qe)).toLocaleLowerCase()===O);return ze===void 0?!1:(h.value.indexOf(ze)===-1?Be(ze):at(),!0)},Ce=ge=>{ae(Ee)!==!0&&ge!==!0&&ae($)!==!0&&vt(D,!0,()=>Ce(!0))};Ce()}else x.clearValue(u)}function We(u){o("keypress",u)}function dt(u){if(o("keydown",u),Zt(u)===!0)return;const D=s.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),O=u.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(r.value!==-1||D===!0);if(u.keyCode===27){Ge(u);return}if(u.keyCode===9&&O===!1){mt();return}if(u.target===void 0||u.target.id!==x.targetUid.value||x.editable.value!==!0)return;if(u.keyCode===40&&x.innerLoading.value!==!0&&n.value===!1){Ie(u),gt();return}if(u.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?re(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(u.keyCode===35||u.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(Ie(u),r.value=-1,lt(u.keyCode===36?1:-1,e.multiple)),(u.keyCode===33||u.keyCode===34)&&K.value!==void 0&&(Ie(u),r.value=Math.max(-1,Math.min(le.value,r.value+(u.keyCode===33?-1:1)*K.value.view)),lt(u.keyCode===33?1:-1,e.multiple)),(u.keyCode===38||u.keyCode===40)&&(Ie(u),lt(u.keyCode===38?-1:1,e.multiple));const ae=le.value;if((C===void 0||q<Date.now())&&(C=""),ae>0&&e.useInput!==!0&&u.key!==void 0&&u.key.length===1&&u.altKey===!1&&u.ctrlKey===!1&&u.metaKey===!1&&(u.keyCode!==32||C.length!==0)){n.value!==!0&&gt(u);const Ce=u.key.toLocaleLowerCase(),ge=C.length===1&&C[0]===Ce;q=Date.now()+1500,ge===!1&&(Ie(u),C+=Ce);const ze=new RegExp("^"+C.split("").map(ll=>Ea.indexOf(ll)!==-1?"\\"+ll:ll).join(".*"),"i");let qe=r.value;if(ge===!0||qe<0||ze.test($.value(e.options[qe]))!==!0)do qe=zl(qe+1,-1,ae-1);while(qe!==r.value&&(F.value(e.options[qe])===!0||ze.test($.value(e.options[qe]))!==!0));r.value!==qe&&He(()=>{Ne(qe),ke(qe),qe>=0&&e.useInput===!0&&e.fillInput===!0&&Ft($.value(e.options[qe]),!0)});return}if(!(u.keyCode!==13&&(u.keyCode!==32||e.useInput===!0||C!=="")&&(u.keyCode!==9||O===!1))){if(u.keyCode!==9&&Ie(u),r.value!==-1&&r.value<ae){Be(e.options[r.value]);return}if(D===!0){const Ce=(ge,ze)=>{if(ze){if(Kl(ze)!==!0)return}else ze=e.newValueMode;if(wt("",e.multiple!==!0,!0),ge==null)return;(ze==="toggle"?Be:Ve)(ge,ze==="add-unique"),e.multiple!==!0&&(j.value?.focus(),at())};if(e.onNewValue!==void 0?o("newValue",s.value,Ce):Ce(s.value),e.multiple!==!0)return}n.value===!0?mt():x.innerLoading.value!==!0&&gt()}}function ft(){return p===!0?te.value:Q.value!==null&&Q.value.contentEl!==null?Q.value.contentEl:void 0}function Uo(){return ft()}function Wo(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?he.value.map(u=>t["selected-item"](u)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?he.value.map((u,D)=>b(ka,{key:"option-"+D,removable:x.editable.value===!0&&F.value(u.opt)!==!0,dense:!0,textColor:e.color,tabindex:W.value,onRemove(){u.removeAtIndex(D)}},()=>b("span",{class:"ellipsis",[u.html===!0?"innerHTML":"textContent"]:$.value(u.opt)}))):[b("span",{class:"ellipsis",[T.value===!0?"innerHTML":"textContent"]:se.value})]}function Cl(){if(U.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:s.value}):void 0;const u=t.option!==void 0?t.option:O=>b(el,{key:O.index,...O.itemProps},()=>b(It,()=>b(wa,()=>b("span",{[O.html===!0?"innerHTML":"textContent"]:O.label}))));let D=me("div",ee.value.map(u));return t["before-options"]!==void 0&&(D=t["before-options"]().concat(D)),so(t["after-options"],D)}function Ko(u,D){const O=D===!0?{...G.value,...x.splitAttrs.attributes.value}:void 0,ae={ref:D===!0?j:void 0,key:"i_t",class:g.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search",...O,id:D===!0?x.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":u===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...be.value};return u!==!0&&p===!0&&(Array.isArray(ae.class)===!0?ae.class=[...ae.class,"no-pointer-events"]:ae.class+=" no-pointer-events"),b("input",ae)}function Sl(u){w!==null&&(clearTimeout(w),w=null),v!==null&&(clearTimeout(v),v=null),!(u&&u.target&&u.target.qComposing===!0)&&(Ft(u.target.value||""),_=!0,z=s.value,x.focused.value!==!0&&(p!==!0||f.value===!0)&&x.focus(),e.onFilter!==void 0&&(w=setTimeout(()=>{w=null,vt(s.value)},e.inputDebounce)))}function Ft(u,D){s.value!==u&&(s.value=u,D===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",u):v=setTimeout(()=>{v=null,o("inputValue",u)},e.inputDebounce))}function wt(u,D,O){_=O!==!0,e.useInput===!0&&(Ft(u,!0),(D===!0||O!==!0)&&(z=u),D!==!0&&vt(u))}function vt(u,D,O){if(e.onFilter===void 0||D!==!0&&x.focused.value!==!0)return;x.innerLoading.value===!0?o("filterAbort"):(x.innerLoading.value=!0,c.value=!0),u!==""&&e.multiple!==!0&&h.value.length!==0&&_!==!0&&u===$.value(h.value[0])&&(u="");const ae=setTimeout(()=>{n.value===!0&&(n.value=!1)},10);S!==null&&clearTimeout(S),S=ae,o("filter",u,(Ce,ge)=>{(D===!0||x.focused.value===!0)&&S===ae&&(clearTimeout(S),typeof Ce=="function"&&Ce(),c.value=!1,He(()=>{x.innerLoading.value=!1,x.editable.value===!0&&(D===!0?n.value===!0&&at():n.value===!0?tl(!0):n.value=!0),typeof ge=="function"&&He(()=>{ge(a)}),typeof O=="function"&&He(()=>{O(a)})}))},()=>{x.focused.value===!0&&S===ae&&(clearTimeout(S),x.innerLoading.value=!1,c.value=!1),n.value===!0&&(n.value=!1)})}function Qo(){return b(Ao,{ref:Q,class:k.value,style:e.popupContentStyle,modelValue:n.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&U.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:V.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:we.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Z.value,onScrollPassive:Se,onBeforeShow:wl,onBeforeHide:Xo,onShow:Yo},Cl)}function Xo(u){xl(u),mt()}function Yo(){xe()}function Go(u){$e(u),j.value?.focus(),f.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Jo(u){$e(u),He(()=>{f.value=!1})}function Zo(){const u=[b(Ca,{class:`col-auto ${x.fieldClass.value}`,...y.value,for:x.targetUid.value,dark:V.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:s.value.length!==0,...x.splitAttrs.listeners.value,onFocus:Go,onBlur:Jo},{...t,rawControl:()=>x.getControl(!0),before:void 0,after:void 0})];return n.value===!0&&u.push(b("div",{ref:te,class:k.value+" scroll",style:e.popupContentStyle,...Z.value,onClick:Ge,onScrollPassive:Se},Cl())),b(tt,{ref:Y,modelValue:i.value,position:e.useInput===!0?"top":void 0,transitionShow:E,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:wl,onBeforeHide:en,onHide:tn,onShow:ln},()=>b("div",{class:"q-select__dialog"+(V.value===!0?" q-select__dialog--dark q-dark":"")+(f.value===!0?" q-select__dialog--focused":"")},u))}function en(u){xl(u),Y.value!==null&&Y.value.__updateRefocusTarget(x.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),x.focused.value=!1}function tn(u){at(),x.focused.value===!1&&o("blur",u),ht()}function ln(){const u=document.activeElement;(u===null||u.id!==x.targetUid.value)&&j.value!==null&&j.value!==u&&j.value.focus(),xe()}function mt(){i.value!==!0&&(r.value=-1,n.value===!0&&(n.value=!1),x.focused.value===!1&&(S!==null&&(clearTimeout(S),S=null),x.innerLoading.value===!0&&(o("filterAbort"),x.innerLoading.value=!1,c.value=!1)))}function gt(u){x.editable.value===!0&&(p===!0?(x.onControlFocusin(u),i.value=!0,He(()=>{x.focus()})):x.focus(),e.onFilter!==void 0?vt(s.value):(U.value!==!0||t["no-option"]!==void 0)&&(n.value=!0))}function at(){i.value=!1,mt()}function ht(){e.useInput===!0&&wt(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&$.value(h.value[0])||"",!0,!0)}function tl(u){let D=-1;if(u===!0){if(h.value.length!==0){const O=Ee.value(h.value[0]);D=e.options.findIndex(ae=>xt(Ee.value(ae),O))}H(D)}Ne(D)}function on(u,D){n.value===!0&&x.innerLoading.value===!1&&(H(-1,!0),He(()=>{n.value===!0&&x.innerLoading.value===!1&&(u>D?H():tl(!0))}))}function kl(){i.value===!1&&Q.value!==null&&Q.value.updatePosition()}function wl(u){u!==void 0&&$e(u),o("popupShow",u),x.hasPopupOpen=!0,x.onControlFocusin(u)}function xl(u){u!==void 0&&$e(u),o("popupHide",u),x.hasPopupOpen=!1,x.onControlFocusout(u)}function _l(){p=l.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||U.value===!1:!0),E=l.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return An(_l),Pn(kl),_l(),Re(()=>{w!==null&&clearTimeout(w),v!==null&&clearTimeout(v)}),Object.assign(a,{showPopup:gt,hidePopup:at,removeAtIndex:re,add:Ve,toggleOption:Be,getOptionIndex:()=>r.value,setOptionIndex:Ne,moveOptionSelection:lt,filter:vt,updateMenuPosition:kl,updateInputValue:wt,isOptionSelected:X,getEmittingOptionValue:pe,isOptionDisabled:(...u)=>F.value.apply(null,u)===!0,getOptionValue:(...u)=>Ee.value.apply(null,u),getOptionLabel:(...u)=>$.value.apply(null,u)}),Object.assign(x,{innerValue:h,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:B,targetRef:j,hasValue:I,showPopup:gt,floatingLabel:m(()=>e.hideSelected!==!0&&I.value===!0||typeof s.value=="number"||s.value.length!==0||El(e.displayValue)),getControlChild:()=>{if(x.editable.value!==!1&&(i.value===!0||U.value!==!0||t["no-option"]!==void 0))return p===!0?Zo():Qo();x.hasPopupOpen===!0&&(x.hasPopupOpen=!1)},controlEvents:{onFocusin(u){x.onControlFocusin(u)},onFocusout(u){x.onControlFocusout(u,()=>{ht(),mt()})},onClick(u){if(Ge(u),p!==!0&&n.value===!0){mt(),j.value?.focus();return}gt(u)}},getControl:u=>{const D=Wo(),O=u===!0||i.value!==!0||p!==!0;if(e.useInput===!0)D.push(Ko(u,O));else if(x.editable.value===!0){const Ce=O===!0?G.value:void 0;D.push(b("input",{ref:O===!0?j:void 0,key:"d_t",class:"q-select__focus-target",id:O===!0?x.targetUid.value:void 0,value:se.value,readonly:!0,"data-autofocus":u===!0||e.autofocus===!0||void 0,...Ce,onKeydown:dt,onKeyup:ye,onKeypress:We})),O===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&D.push(b("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ae}))}if(de.value!==void 0&&e.disable!==!0&&J.value.length!==0){const Ce=J.value.map(ge=>b("option",{value:ge,selected:!0}));D.push(b("select",{class:"hidden",name:de.value,multiple:e.multiple},Ce))}const ae=e.useInput===!0||O!==!0?void 0:x.splitAttrs.attributes.value;return b("div",{class:"q-field__native row items-center",...ae,...x.splitAttrs.listeners.value},D)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[b(Fe,{class:"q-select__dropdown-icon"+(n.value===!0?" rotate-180":""),name:_e.value})]:null}),vo(x)}});function Mo(e,t){if(t&&e===t)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const a=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=a.display;return l==="block"||l==="table"?e:Mo(e.parentNode)}function dl(e,t,o){return!e||e===document.body?!1:o===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Lo(e,t,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),t.count===0)o.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(o.setEnd(e,t.count),t.count=0);else for(let a=0;t.count!==0&&a<e.childNodes.length;a++)o=Lo(e.childNodes[a],t,o);return o}const Ba=/^https?:\/\//;class Aa{constructor(t,o){this.el=t,this.eVm=o,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(dl(t.anchorNode,this.el,!0)&&dl(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const t=this.selection;return t?.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const o=t.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?Mo(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const o=document.createRange(),a=document.getSelection();t!==null?(o.setStart(t.startContainer,t.startOffset),o.setEnd(t.endContainer,t.endOffset),a.removeAllRanges(),a.addRange(o)):(a.selectAllChildren(this.el),a.collapseToEnd())}savePosition(){let t=-1,o;const a=document.getSelection(),l=this.el.parentNode;if(a.focusNode&&dl(a.focusNode,l))for(o=a.focusNode,t=a.focusOffset;o&&o!==l;)o!==this.el&&o.previousSibling?(o=o.previousSibling,t+=o.textContent.length):o=o.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const o=window.getSelection(),a=Lo(this.el,{count:this.savedPos});a&&(a.collapse(!1),o.removeAllRanges(),o.addRange(a))}}hasParent(t,o){const a=o?this.parent:this.blockParent;return a!==null?a.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,o,a=this.parent){return a===null?!1:t.includes(a.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(t,o,a.parentNode):!1}is(t,o){if(this.selection===null)return!1;switch(t){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===o;case"fontName":const a=document.queryCommandValue(t);return a===`"${o}"`||a===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(t);return o!==void 0?l===o:l}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,o,a=Dt){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(t,o)&&(t="outdent",o=null),o==="PRE"&&this.is(t,"PRE")&&(o="P");else if(t==="print"){a();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(t==="link"){const l=this.getParentAttribute("href");if(l===null){const n=this.selectWord(this.selection),i=n?n.toString():"";if(!i.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Ba.test(i)?i:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(n.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),a();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),a();return}document.execCommand(t,!1,o),a()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const o=document.createRange();o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset);const a=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const l=t.focusNode,n=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",a[0],"character"),t.modify("move",a[1],"word"),t.extend(l,n),t.modify("extend",a[1],"character"),t.modify("extend",a[0],"word"),t}}const Pa=Pe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const o=m(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:o.value},Xe(t.default))}}),$a=Object.keys(bo);function Ma(e){return $a.reduce((t,o)=>{const a=e[o];return a!==void 0&&(t[o]=a),t},{})}const La=Pe({name:"QBtnDropdown",props:{...bo,...Bt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:o}){const{proxy:a}=Me(),l=M(e.modelValue),n=M(null),i=$n(),r=m(()=>{const q={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i.value,"aria-label":e.toggleAriaLabel||a.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(q["aria-disabled"]="true"),q}),s=m(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),f=m(()=>Mn(e)),c=m(()=>Ma(e));oe(()=>e.modelValue,q=>{n.value?.[q?"show":"hide"]()}),oe(()=>e.split,C);function w(q){l.value=!0,o("beforeShow",q)}function v(q){o("show",q),o("update:modelValue",!0)}function d(q){l.value=!1,o("beforeHide",q)}function p(q){o("hide",q),o("update:modelValue",!1)}function _(q){o("click",q)}function S(q){$e(q),C(),o("click",q)}function z(q){n.value?.toggle(q)}function E(q){n.value?.show(q)}function C(q){n.value?.hide(q)}return Object.assign(a,{show:E,hide:C,toggle:z}),et(()=>{e.modelValue===!0&&E()}),()=>{const q=[b(Fe,{class:s.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&q.push(b(Ao,{ref:n,id:i.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:w,onShow:v,onBeforeHide:d,onHide:p},t.default)),e.split===!1?b(fe,{class:"q-btn-dropdown q-btn-dropdown--simple",...c.value,...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:_},{default:()=>Xe(t.label,[]).concat(q),loading:t.loading}):b(Pa,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...f.value,glossy:e.glossy,stretch:e.stretch},()=>[b(fe,{class:"q-btn-dropdown--current",...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:S},{default:t.label,loading:t.loading}),b(fe,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...r.value,...f.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>q)])}}});function zo(e,t,o){t.handler?t.handler(e,o,o.caret):o.runCmd(t.cmd,t.param)}function yl(e){return b("div",{class:"q-editor__toolbar-group"},e)}function Io(e,t,o,a=!1){const l=a||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),n=[];if(e.$q.platform.is.desktop&&(t.tip||t.htmlTip)){const i=t.key?b("div",[b("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;n.push(b(Ht,{delay:1e3},()=>[b("div",t.htmlTip?{innerHTML:t.htmlTip}:t.tip),i]))}return b(fe,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:l?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,"aria-label":t.label==null?t.tip:void 0,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(i){o?.(),zo(i,t,e)}},()=>n)}function za(e,t){const o=t.list==="only-icons";let a=t.label,l=t.icon!==null?t.icon:void 0,n,i;function r(){f.component.proxy.hide()}if(o)i=t.options.map(c=>{const w=c.type===void 0?e.caret.is(c.cmd,c.param):!1;return w&&(a=c.tip,l=c.icon!==null?c.icon:void 0),Io(e,c,r,w)}),n=e.toolbarBackgroundClass.value,i=[yl(i)];else{const c=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,w=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,v=t.list==="no-icons";i=t.options.map(d=>{const p=d.disable?d.disable(e):!1,_=d.type===void 0?e.caret.is(d.cmd,d.param):!1;_&&(a=d.tip,l=d.icon!==null?d.icon:void 0);const S=d.htmlTip;return b(el,{active:_,activeClass:c,clickable:!0,disable:p,dense:!0,onClick(z){r(),z?.qAvoidFocus!==!0&&e.contentRef.value?.focus(),e.caret.restore(),zo(z,d,e)}},()=>[v===!0?null:b(It,{class:_?c:w,side:!0},()=>b(Fe,{name:d.icon!==null?d.icon:void 0})),b(It,S?()=>b("div",{class:"text-no-wrap",innerHTML:d.htmlTip}):d.tip?()=>b("div",{class:"text-no-wrap"},d.tip):void 0)])}),n=[e.toolbarBackgroundClass.value,w]}const s=t.highlight&&a!==t.label,f=b(La,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:s?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:s&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:a,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:l,contentClass:n,onShow:c=>e.emit("dropdownShow",c),onHide:c=>e.emit("dropdownHide",c),onBeforeShow:c=>e.emit("dropdownBeforeShow",c),onBeforeHide:c=>e.emit("dropdownBeforeHide",c)},()=>i);return f}function Ia(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(o=>o.cmd==="viewsource")).map(t=>yl(t.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?Xe(e.slots[o.slot]):o.type==="dropdown"?za(e,o):Io(e,o))))}function Da(e,t,o,a={}){const l=Object.keys(a);if(l.length===0)return{};const n={default_font:{cmd:"fontName",param:e,icon:o,tip:t}};return l.forEach(i=>{const r=a[i];n[i]={cmd:"fontName",param:r,icon:o,tip:r,htmlTip:`<font face="${r}">${r}</font>`}}),n}function Oa(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const a=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[b("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),b("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:l=>{$e(l),o=l.target.value},onKeydown:l=>{if(Zt(l)!==!0)switch(l.keyCode){case 13:return Ge(l),a();case 27:Ge(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),yl([b(fe,{key:"qedt_btm_rem",...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),b(fe,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:a})])]}}let Vt=0;const Ra={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Fa=["update:fullscreen","fullscreen"];function Ha(){const e=Me(),{props:t,emit:o,proxy:a}=e;let l,n,i;const r=M(!1);Ln(e)===!0&&oe(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&c()}),oe(()=>t.fullscreen,w=>{r.value!==w&&s()}),oe(r,w=>{o("update:fullscreen",w),o("fullscreen",w)});function s(){r.value===!0?c():f()}function f(){r.value!==!0&&(r.value=!0,i=a.$el.parentNode,i.replaceChild(n,a.$el),document.body.appendChild(a.$el),Vt++,Vt===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:c},Vl.add(l))}function c(){r.value===!0&&(l!==void 0&&(Vl.remove(l),l=void 0),i.replaceChild(a.$el,n),r.value=!1,Vt=Math.max(0,Vt-1),Vt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return ho(()=>{n=document.createElement("span")}),et(()=>{t.fullscreen===!0&&f()}),Re(c),Object.assign(a,{toggleFullscreen:s,setFullscreen:f,exitFullscreen:c}),{inFullscreen:r,toggleFullscreen:s}}const Na=Object.prototype.toString,fl=Object.prototype.hasOwnProperty,ja=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Ql(e){if(e!==Object(e)||ja.has(Na.call(e))===!0||e.constructor&&fl.call(e,"constructor")===!1&&fl.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||fl.call(e,t)}function Do(){let e,t,o,a,l,n,i=arguments[0]||{},r=1,s=!1;const f=arguments.length;for(typeof i=="boolean"&&(s=i,i=arguments[1]||{},r=2),Object(i)!==i&&typeof i!="function"&&(i={}),f===r&&(i=this,r--);r<f;r++)if((e=arguments[r])!==null)for(t in e)o=i[t],a=e[t],i!==a&&(s===!0&&a&&((l=Array.isArray(a))||Ql(a)===!0)?(l===!0?n=Array.isArray(o)===!0?o:[]:n=Ql(o)===!0?o:{},i[t]=Do(s,n,a)):a!==void 0&&(i[t]=a));return i}const Oo=Pe({name:"QEditor",props:{...st,...Ra,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Fa,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:o}){const{proxy:a}=Me(),{$q:l}=a,n=ct(e,l),{inFullscreen:i,toggleFullscreen:r}=Ha(),s=zn(),f=M(null),c=M(null),w=M(null),v=M(!1),d=m(()=>!e.readonly&&!e.disable);let p,_,S=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),p=window.getComputedStyle(document.body).fontFamily;const z=m(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),E=m(()=>({type:"a",flat:e.toolbarOutline!==!0&&e.toolbarPush!==!0,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!d.value,size:"sm"})),C=m(()=>{const g=l.lang.editor,k=l.iconSet.editor;return{bold:{cmd:"bold",icon:k.bold,tip:g.bold,key:66},italic:{cmd:"italic",icon:k.italic,tip:g.italic,key:73},strike:{cmd:"strikeThrough",icon:k.strikethrough,tip:g.strikethrough,key:83},underline:{cmd:"underline",icon:k.underline,tip:g.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:k.unorderedList,tip:g.unorderedList},ordered:{cmd:"insertOrderedList",icon:k.orderedList,tip:g.orderedList},subscript:{cmd:"subscript",icon:k.subscript,tip:g.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:k.superscript,tip:g.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:U=>U.caret&&!U.caret.can("link"),icon:k.hyperlink,tip:g.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:k.toggleFullscreen,tip:g.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:k.viewSource,tip:g.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:k.quote,tip:g.quote,key:81},left:{cmd:"justifyLeft",icon:k.left,tip:g.left},center:{cmd:"justifyCenter",icon:k.center,tip:g.center},right:{cmd:"justifyRight",icon:k.right,tip:g.right},justify:{cmd:"justifyFull",icon:k.justify,tip:g.justify},print:{type:"no-state",cmd:"print",icon:k.print,tip:g.print,key:80},outdent:{type:"no-state",disable:U=>U.caret&&!U.caret.can("outdent"),cmd:"outdent",icon:k.outdent,tip:g.outdent},indent:{type:"no-state",disable:U=>U.caret&&!U.caret.can("indent"),cmd:"indent",icon:k.indent,tip:g.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:k.removeFormat,tip:g.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:k.hr,tip:g.hr},undo:{type:"no-state",cmd:"undo",icon:k.undo,tip:g.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:k.redo,tip:g.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:k.heading1||k.heading,tip:g.heading1,htmlTip:`<h1 class="q-ma-none">${g.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:k.heading2||k.heading,tip:g.heading2,htmlTip:`<h2 class="q-ma-none">${g.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:k.heading3||k.heading,tip:g.heading3,htmlTip:`<h3 class="q-ma-none">${g.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:k.heading4||k.heading,tip:g.heading4,htmlTip:`<h4 class="q-ma-none">${g.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:k.heading5||k.heading,tip:g.heading5,htmlTip:`<h5 class="q-ma-none">${g.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:k.heading6||k.heading,tip:g.heading6,htmlTip:`<h6 class="q-ma-none">${g.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:k.heading,tip:g.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:k.code,htmlTip:`<code>${g.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:k.size1||k.size,tip:g.size1,htmlTip:`<font size="1">${g.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:k.size2||k.size,tip:g.size2,htmlTip:`<font size="2">${g.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:k.size3||k.size,tip:g.size3,htmlTip:`<font size="3">${g.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:k.size4||k.size,tip:g.size4,htmlTip:`<font size="4">${g.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:k.size5||k.size,tip:g.size5,htmlTip:`<font size="5">${g.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:k.size6||k.size,tip:g.size6,htmlTip:`<font size="6">${g.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:k.size7||k.size,tip:g.size7,htmlTip:`<font size="7">${g.size7}</font>`}}}),q=m(()=>{const g=e.definitions||{},k=e.definitions||e.fonts?Do(!0,{},C.value,g,Da(p,l.lang.editor.defaultFont,l.iconSet.editor.font,e.fonts)):C.value;return e.toolbar.map(U=>U.map(A=>{if(A.options)return{type:"dropdown",icon:A.icon,label:A.label,size:"sm",dense:!0,fixedLabel:A.fixedLabel,fixedIcon:A.fixedIcon,highlight:A.highlight,list:A.list,options:A.options.map(Te=>k[Te])};const se=k[A];return se?se.type==="no-state"||g[A]&&(se.cmd===void 0||C.value[se.cmd]&&C.value[se.cmd].type==="no-state")?se:Object.assign({type:"toggle"},se):{type:"slot",slot:A}}))}),B={$q:l,props:e,slots:t,emit:o,inFullscreen:i,toggleFullscreen:r,runCmd:h,isViewingSource:v,editLinkUrl:w,toolbarBackgroundClass:z,buttonProps:E,contentRef:c,buttons:q,setContent:x};oe(()=>e.modelValue,g=>{S!==g&&(S=g,x(g,!0))}),oe(w,g=>{o(`link${g?"Show":"Hide"}`)});const j=m(()=>e.toolbar&&e.toolbar.length!==0),Q=m(()=>{const g={},k=U=>{U.key&&(g[U.key]={cmd:U.cmd,param:U.param})};return q.value.forEach(U=>{U.forEach(A=>{A.options?A.options.forEach(k):k(A)})}),g}),Y=m(()=>i.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),te=m(()=>`q-editor q-editor--${v.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(i.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(n.value===!0?" q-editor--dark q-dark":"")),de=m(()=>[e.contentClass,"q-editor__content",{col:i.value,"overflow-auto":i.value||e.maxHeight}]),ue=m(()=>e.disable===!0?{"aria-disabled":"true"}:{});function le(){if(c.value!==null){const g=`inner${v.value===!0?"Text":"HTML"}`,k=c.value[g];k!==e.modelValue&&(S=k,o("update:modelValue",k))}}function ve(g){if(o("keydown",g),g.ctrlKey!==!0||Zt(g)===!0){y();return}const k=g.keyCode,U=Q.value[k];if(U!==void 0){const{cmd:A,param:se}=U;Ie(g),h(A,se,!1)}}function R(g){y(),o("click",g)}function K(g){if(c.value!==null){const{scrollTop:k,scrollHeight:U}=c.value;_=U-k}B.caret.save(),o("blur",g)}function H(g){He(()=>{c.value!==null&&_!==void 0&&(c.value.scrollTop=c.value.scrollHeight-_)}),o("focus",g)}function me(g){const k=f.value;if(k!==null&&k.contains(g.target)===!0&&(g.relatedTarget===null||k.contains(g.relatedTarget)!==!0)){const U=`inner${v.value===!0?"Text":"HTML"}`;B.caret.restorePosition(c.value[U].length),y()}}function Se(g){const k=f.value;k!==null&&k.contains(g.target)===!0&&(g.relatedTarget===null||k.contains(g.relatedTarget)!==!0)&&(B.caret.savePosition(),y())}function ke(){_=void 0}function xe(g){B.caret.save()}function x(g,k){if(c.value!==null){k===!0&&B.caret.savePosition();const U=`inner${v.value===!0?"Text":"HTML"}`;c.value[U]=g,k===!0&&(B.caret.restorePosition(c.value[U].length),y())}}function h(g,k,U=!0){V(),B.caret.restore(),B.caret.apply(g,k,()=>{V(),B.caret.save(),U&&y()})}function y(){setTimeout(()=>{w.value=null,a.$forceUpdate()},1)}function V(){go(()=>{c.value?.focus({preventScroll:!0})})}function I(){return c.value}return et(()=>{B.caret=a.caret=new Aa(c.value,B),x(e.modelValue),y(),document.addEventListener("selectionchange",xe)}),Re(()=>{document.removeEventListener("selectionchange",xe)}),Object.assign(a,{runCmd:h,refreshToolbar:y,focus:V,getContentEl:I}),()=>{let g;if(j.value){const k=[b("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+z.value},Ia(B))];w.value!==null&&k.push(b("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+z.value},Oa(B))),g=b("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},k)}return b("div",{ref:f,class:te.value,style:{height:i.value===!0?"100%":null},...ue.value,onFocusin:me,onFocusout:Se},[g,b("div",{ref:c,style:Y.value,class:de.value,contenteditable:d.value,placeholder:e.placeholder,...s.listeners.value,onInput:le,onKeydown:ve,onClick:R,onBlur:K,onFocus:H,onMousedown:ke,onTouchstartPassive:ke})])}}}),Ua={class:"q-mb-md"},Wa=Ot({__name:"AddContentDialog",props:{modelValue:{type:Boolean},categories:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const o=e,a=t,l=M(!1),n=M(""),i=M(""),r=M(""),s=m(()=>o.categories.map(d=>({label:d.label,value:d.value,color:d.color}))),f=m(()=>n.value.trim()!==""&&i.value.trim()!==""&&r.value!=="");oe(()=>o.modelValue,d=>{l.value=d}),oe(l,d=>{a("update:modelValue",d),d||v()});const c=()=>{f.value&&(a("submit",{label:n.value.trim(),content:i.value.trim(),categoryId:r.value}),l.value=!1)},w=()=>{l.value=!1},v=()=>{n.value="",i.value="",r.value=""};return(d,p)=>(Oe(),it(tt,{modelValue:l.value,"onUpdate:modelValue":p[3]||(p[3]=_=>l.value=_),persistent:""},{default:N(()=>[L(Ze,{style:{"min-width":"500px","max-width":"700px"}},{default:N(()=>[L(De,null,{default:N(()=>p[4]||(p[4]=[ie("div",{class:"text-h6"},"新增內容",-1)])),_:1,__:[4]}),L(De,{class:"q-pt-none"},{default:N(()=>[L($o,{modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=_=>r.value=_),options:s.value,label:"選擇分類","option-label":"label","option-value":"value","emit-value":"","map-options":"",class:"q-mb-md",disable:s.value.length===0},po({_:2},[s.value.length===0?{name:"no-option",fn:N(()=>[L(el,null,{default:N(()=>[L(It,{class:"text-grey"},{default:N(()=>p[5]||(p[5]=[ot(" 請先新增分類 ",-1)])),_:1,__:[5]})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","options","disable"]),L(kt,{dense:"",modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=_=>n.value=_),autofocus:"",label:"內容標籤名稱",class:"q-mb-md"},null,8,["modelValue"]),ie("div",Ua,[p[6]||(p[6]=ie("div",{class:"text-subtitle2 q-mb-xs"},"內容",-1)),L(Oo,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=_=>i.value=_),"min-height":"5rem",toolbar:[["left","center","right","justify"],["bold","italic","underline","strike"],["quote","unordered","ordered"],["undo","redo"]]},null,8,["modelValue"])])]),_:1}),L(nt,{align:"right",class:"text-primary"},{default:N(()=>[L(fe,{flat:"",label:"取消",onClick:w}),L(fe,{flat:"",label:"確定",onClick:c,disable:!f.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ka=Rt(Wa,[["__scopeId","data-v-60b4864e"]]),Qa={class:"q-mb-md"},Xa=Ot({__name:"EditContentDialog",props:{modelValue:{type:Boolean},categories:{},contentItem:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const o=e,a=t,l=M(!1),n=M(""),i=M(""),r=M(""),s=m(()=>o.categories.map(d=>({label:d.label,value:d.value,color:d.color}))),f=m(()=>n.value.trim()!==""&&i.value.trim()!==""&&r.value!=="");oe(()=>o.modelValue,d=>{l.value=d,d&&o.contentItem&&(n.value=o.contentItem.label,i.value=o.contentItem.content,r.value=o.contentItem.categoryId)}),oe(l,d=>{a("update:modelValue",d),d||v()});const c=()=>{f.value&&o.contentItem&&(a("submit",{id:o.contentItem.id,label:n.value.trim(),content:i.value.trim(),categoryId:r.value}),w())},w=()=>{l.value=!1},v=()=>{n.value="",i.value="",r.value=""};return(d,p)=>(Oe(),it(tt,{modelValue:l.value,"onUpdate:modelValue":p[3]||(p[3]=_=>l.value=_),persistent:""},{default:N(()=>[L(Ze,{style:{"min-width":"500px","max-width":"700px"}},{default:N(()=>[L(De,null,{default:N(()=>p[4]||(p[4]=[ie("div",{class:"text-h6"},"編輯內容",-1)])),_:1,__:[4]}),L(De,{class:"q-pt-none"},{default:N(()=>[L(kt,{dense:"",modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=_=>n.value=_),autofocus:"",label:"內容標籤名稱",class:"q-mb-md"},null,8,["modelValue"]),L($o,{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=_=>r.value=_),options:s.value,label:"選擇分類","option-label":"label","option-value":"value","emit-value":"","map-options":"",class:"q-mb-md",disable:s.value.length===0},po({_:2},[s.value.length===0?{name:"no-option",fn:N(()=>[L(el,null,{default:N(()=>[L(It,{class:"text-grey"},{default:N(()=>p[5]||(p[5]=[ot(" 請先新增分類 ",-1)])),_:1,__:[5]})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","options","disable"]),ie("div",Qa,[p[6]||(p[6]=ie("div",{class:"text-subtitle2 q-mb-xs"},"內容",-1)),L(Oo,{modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=_=>i.value=_),"min-height":"5rem",toolbar:[["left","center","right","justify"],["bold","italic","underline","strike"],["quote","unordered","ordered"],["undo","redo"]]},null,8,["modelValue"])])]),_:1}),L(nt,{align:"right",class:"text-primary"},{default:N(()=>[L(fe,{flat:"",label:"取消",onClick:w}),L(fe,{flat:"",label:"更新",onClick:c,disable:!f.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ya=Rt(Xa,[["__scopeId","data-v-c537f45b"]]),Ga={class:"q-mt-md"},Ja=Ot({__name:"EditCategoryDialog",props:{modelValue:{type:Boolean},category:{}},emits:["update:modelValue","submit"],setup(e,{emit:t}){const o=e,a=t,l=M(!1),n=M(""),i=M("#1976D2"),r=M(!1),s=M("#1976D2");oe(()=>o.modelValue,_=>{l.value=_,_&&o.category&&(n.value=o.category.name,i.value=o.category.color,s.value=o.category.color)}),oe(l,_=>{a("update:modelValue",_),_||w()});const f=()=>{n.value.trim()&&o.category&&(a("submit",{id:o.category.id,name:n.value.trim(),color:i.value}),l.value=!1)},c=()=>{l.value=!1},w=()=>{n.value="",i.value="#1976D2",s.value="#1976D2"},v=()=>{s.value=i.value,r.value=!0},d=()=>{r.value=!1,i.value=s.value},p=()=>{s.value=i.value,r.value=!1};return(_,S)=>(Oe(),it(tt,{modelValue:l.value,"onUpdate:modelValue":S[4]||(S[4]=z=>l.value=z),persistent:""},{default:N(()=>[L(Ze,{style:{"min-width":"350px"}},{default:N(()=>[L(De,null,{default:N(()=>S[5]||(S[5]=[ie("div",{class:"text-h6"},"編輯分類",-1)])),_:1,__:[5]}),L(De,{class:"q-pt-none"},{default:N(()=>[L(kt,{dense:"",modelValue:n.value,"onUpdate:modelValue":S[0]||(S[0]=z=>n.value=z),autofocus:"",label:"分類名稱",onKeyup:co(f,["enter"])},null,8,["modelValue"]),ie("div",Ga,[S[7]||(S[7]=ie("div",{class:"text-subtitle2 q-mb-xs"},"分類顏色",-1)),L(kt,{modelValue:i.value,"onUpdate:modelValue":S[1]||(S[1]=z=>i.value=z),label:"顏色",readonly:"",class:"cursor-pointer",onClick:v},{prepend:N(()=>[ie("div",{style:Pt({backgroundColor:i.value}),class:"color-preview"},null,4)]),append:N(()=>[L(Fe,{name:"palette",class:"cursor-pointer",onClick:v})]),_:1},8,["modelValue"]),L(tt,{modelValue:r.value,"onUpdate:modelValue":S[3]||(S[3]=z=>r.value=z)},{default:N(()=>[L(Ze,{style:{"min-width":"300px"}},{default:N(()=>[L(De,null,{default:N(()=>S[6]||(S[6]=[ie("div",{class:"text-h6"},"選擇顏色",-1)])),_:1,__:[6]}),L(De,{class:"q-pt-none"},{default:N(()=>[L(Bo,{modelValue:i.value,"onUpdate:modelValue":S[2]||(S[2]=z=>i.value=z),class:"full-width"},null,8,["modelValue"])]),_:1}),L(nt,{align:"right"},{default:N(()=>[L(fe,{flat:"",label:"取消",onClick:d}),L(fe,{flat:"",label:"確定",color:"primary",onClick:p})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}),L(nt,{align:"right",class:"text-primary"},{default:N(()=>[L(fe,{flat:"",label:"取消",onClick:c}),L(fe,{flat:"",label:"更新",onClick:f,disable:!n.value.trim()},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Za=Rt(Ja,[["__scopeId","data-v-fdf74c15"]]);function Ro(e){return encodeURIComponent(e)}function Fo(e){return decodeURIComponent(e)}function ei(e){return Ro(e===Object(e)?JSON.stringify(e):""+e)}function ti(e){if(e==="")return e;e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),e=Fo(e.replace(/\+/g," "));try{const t=JSON.parse(e);(t===Object(t)||Array.isArray(t)===!0)&&(e=t)}catch{}return e}function Ho(e){const t=new Date;return t.setMilliseconds(t.getMilliseconds()+e),t.toUTCString()}function li(e){let t=0;const o=e.match(/(\d+)d/),a=e.match(/(\d+)h/),l=e.match(/(\d+)m/),n=e.match(/(\d+)s/);return o&&(t+=o[1]*864e5),a&&(t+=a[1]*36e5),l&&(t+=l[1]*6e4),n&&(t+=n[1]*1e3),t===0?e:Ho(t)}function No(e,t,o={},a){let l,n;o.expires!==void 0&&(Object.prototype.toString.call(o.expires)==="[object Date]"?l=o.expires.toUTCString():typeof o.expires=="string"?l=li(o.expires):(n=parseFloat(o.expires),l=isNaN(n)===!1?Ho(n*864e5):o.expires));const r=[`${Ro(e)}=${ei(t)}`,l!==void 0?"; Expires="+l:"",o.path?"; Path="+o.path:"",o.domain?"; Domain="+o.domain:"",o.sameSite?"; SameSite="+o.sameSite:"",o.httpOnly?"; HttpOnly":"",o.secure?"; Secure":"",o.other?"; "+o.other:""].join("");document.cookie=r}function ml(e,t){const o=document,a=o.cookie?o.cookie.split("; "):[],l=a.length;let n=e?null:{},i=0,r,s,f;for(;i<l;i++)if(r=a[i].split("="),s=Fo(r.shift()),f=r.join("="),!e)n[s]=f;else if(e===s){n=ti(f);break}return n}function oi(e,t,o){No(e,"",{expires:-1,...t})}function ni(e,t){return ml(e)!==null}function ai(e){return{get:t=>ml(t),set:(t,o,a)=>No(t,o,a),has:t=>ni(t),remove:(t,o)=>oi(t,o),getAll:()=>ml(null)}}const jo={install({$q:e,ssrContext:t}){e.cookies=this}};Object.assign(jo,ai());const ii=In("category",()=>{const e=M([]),t="copy-helper-categories",o=365,a=()=>{try{const E=JSON.stringify(e.value);console.log("Saving data to cookie:",E),console.log("Data type:",typeof E);const C=new Date;C.setDate(C.getDate()+o);const q=`${t}=${encodeURIComponent(E)}; expires=${C.toUTCString()}; path=/`;document.cookie=q,console.log("Cookie string set:",q)}catch(E){console.error("Failed to save data to cookie:",E)}};(()=>{try{const C=(le=>{const R=`; ${document.cookie}`.split(`; ${le}=`);if(R.length===2){const K=R.pop()?.split(";").shift();return K?decodeURIComponent(K):null}return null})(t),q=jo.get(t);console.log("=== Cookie Loading Debug ==="),console.log("Raw native cookie data:",C),console.log("Raw native cookie type:",typeof C),console.log("Quasar cookie data:",q),console.log("Quasar cookie type:",typeof q),console.log("Are they equal?",C===q);const B=C;console.log("Final cookie data:",B),console.log("Final cookie data type:",typeof B),console.log("Final cookie data length:",B?.length),console.log("=== Validation Checks ===");const j=!!B;console.log("1. cookieData exists:",j,B?"✓":"✗");const Q=typeof B=="string";console.log("2. is string:",Q,Q?"✓":"✗");const Y=B&&B.trim()!=="";console.log("3. not empty after trim:",Y,Y?"✓":"✗");const te=B!=="[object Object]";console.log('4. not "[object Object]":',te,te?"✓":"✗");const de=B!=="undefined";console.log('5. not "undefined" string:',de,de?"✓":"✗");const ue=B!=="null";if(console.log('6. not "null" string:',ue,ue?"✓":"✗"),j&&Q&&Y&&te&&de&&ue){console.log("✓ All basic validations passed");const le=B.startsWith("["),ve=B.startsWith("{"),R=le||ve;if(console.log('7. starts with "[" or "{":',R,`(starts with "[": ${le}, starts with "{": ${ve})`,R?"✓":"✗"),R){console.log("✓ JSON format validation passed, attempting to parse...");const K=JSON.parse(B);console.log("Parsed data:",K),console.log("Parsed data type:",typeof K);const H=Array.isArray(K);console.log("8. parsed data is array:",H,H?"✓":"✗"),H?(e.value=K,console.log("✅ Successfully loaded data from cookie:",K)):(console.warn("❌ Cookie data is not an array, initializing with empty array"),console.log("Parsed data structure:",K),e.value=[])}else console.warn("❌ Cookie data does not look like JSON, clearing..."),console.log("First 50 chars of cookie data:",B.substring(0,50)),document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[]}else console.log("❌ Basic validation failed, starting with empty array"),console.log("Failed checks summary:"),j||console.log("  - Cookie data does not exist"),Q||console.log("  - Cookie data is not a string"),Y||console.log("  - Cookie data is empty or only whitespace"),te||console.log('  - Cookie data is "[object Object]"'),de||console.log('  - Cookie data is "undefined"'),ue||console.log('  - Cookie data is "null"'),e.value=[]}catch(E){console.error("❌ Failed to load data from cookie:",E),console.error("Problematic cookie data (native):",document.cookie),E instanceof Error?console.error("Error details:",{name:E.name,message:E.message,stack:E.stack?.substring(0,200)+"..."}):console.error("Unknown error type:",E),document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[]}console.log("=== Cookie Loading Complete ===")})();const n=()=>"cat_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),i=(E,C)=>{const q={category_name:E,category_id:n(),category_color:C,context:[]};e.value.push(q),a()},r=E=>e.value.find(C=>C.category_id===E),s=E=>{const C=e.value.findIndex(q=>q.category_id===E);return C!==-1?(e.value.splice(C,1),a(),!0):!1},f=(E,C,q)=>{const B=r(E);return B?(B.category_name=C,B.category_color=q,a(),!0):!1},c=(E,C,q)=>{const B=r(E);if(B){const j={id:"content_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),label:C,content:q,createdAt:new Date().toISOString()};return B.context.push(j),a(),!0}return!1};return{data:e,addCategory:i,updateCategory:f,findCategoryById:r,removeCategoryById:s,addContentToCategory:c,removeContentFromCategory:(E,C)=>{const q=r(E);if(q){const B=q.context.findIndex(j=>j.id===C);if(B!==-1)return q.context.splice(B,1),a(),!0}return!1},addContextToCategory:(E,C)=>c(E,"Legacy Item",C),removeContextFromCategory:(E,C)=>{const q=r(E);if(q){const B=q.context.findIndex(j=>j.content===C);if(B!==-1)return q.context.splice(B,1),a(),!0}return!1},getAllCategories:()=>e.value,clearAllData:()=>{e.value=[],a()},clearCookieData:()=>{try{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[],console.log("Cookie data cleared successfully")}catch(E){console.error("Failed to clear cookie data:",E)}},resetCookieData:()=>{try{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`,e.value=[],a(),console.log("Cookie data reset and reinitialized successfully")}catch(E){console.error("Failed to reset cookie data:",E)}}}}),ri={class:"index-page"},ui={class:"q-pa-md"},si={class:"q-mb-md q-gutter-sm"},ci={key:0,class:"q-mb-md"},di={class:"categories-grid"},fi={class:"row items-center q-gutter-sm q-mb-sm category-header"},vi=["onClick"],mi={class:"text-subtitle1 flex-1"},gi={class:"text-caption content-count"},hi={class:"row q-gutter-xs category-actions"},bi={key:0,class:"q-mt-sm"},pi={key:0,class:"content-list"},yi={class:"row items-center q-gutter-sm"},Ci=["onClick"],Si={class:"row items-center q-gutter-sm"},ki={class:"text-subtitle2 flex-1"},wi={class:"row q-gutter-xs content-actions"},xi={key:0,class:"q-mt-sm"},_i=["innerHTML","onClick"],qi={key:1,class:"text-center text-grey-6 q-py-md"},Ti=Ot({__name:"IndexPage",setup(e){const t=M(!1),o=M(!1),a=M(!1),l=M(!1),n=M(!1),i=M(!1),r=ii(),s=M({}),f=M({}),c=()=>{const h={};r.data.forEach(y=>{h[y.category_id]=!0}),s.value=h};et(()=>{c();const h=y=>{(y.ctrlKey||y.metaKey)&&y.key.toLowerCase()==="e"&&(y.preventDefault(),r.data.length>0&&j())};document.addEventListener("keydown",h),Re(()=>{document.removeEventListener("keydown",h)})}),oe(()=>r.data,(h,y)=>{if(h.forEach(V=>{V.category_id in s.value||(s.value[V.category_id]=!0)}),y){const V=new Set(h.map(g=>g.category_id));Object.keys(s.value).forEach(g=>{V.has(g)||delete s.value[g]});const I=new Set;h.forEach(g=>{g.context.forEach(k=>{I.add(k.id)})}),Object.keys(f.value).forEach(g=>{I.has(g)||delete f.value[g]})}},{deep:!0});const w=m(()=>r.data.length===0?!1:r.data.every(h=>s.value[h.category_id])),v=h=>{const y=r.data.find(I=>I.category_id===h);return!y||y.context.length===0?{allExpanded:!1,hasContent:!1}:{allExpanded:y.context.every(I=>f.value[I.id]),hasContent:!0}},d=h=>{const y=r.data.find(g=>g.category_id===h);if(!y)return;const{allExpanded:V}=v(h),I=!V;y.context.forEach(g=>{f.value[g.id]=I}),je.create({message:I?"已展開該分類所有內容":"已收合該分類所有內容",color:"info",position:"top",timeout:1e3,icon:I?"unfold_more":"unfold_less"})},p=M(null),_=M(null),S=M(null),z=M(null),E=M(null),C=M(""),q=h=>{s.value[h]=!s.value[h]},B=h=>{f.value[h]=!f.value[h]},j=()=>{const h=!w.value,y={};r.data.forEach(V=>{y[V.category_id]=h}),s.value=y,Q(h),je.create({message:h?"已展開所有分類和內容":"已收合所有分類和內容",color:"info",position:"top",timeout:1500,icon:h?"unfold_more":"unfold_less"})},Q=h=>{const y={};r.data.forEach(V=>{V.context.forEach(I=>{y[I.id]=h})}),f.value=y},Y=(h,y)=>{p.value={id:h.id,label:h.label,content:h.content,categoryId:y},a.value=!0},te=(h,y)=>{n.value=!0,_.value=h,S.value=y},de=()=>{_.value&&S.value&&(r.removeContentFromCategory(_.value,S.value)?je.create({message:"內容已刪除",color:"positive",position:"top",timeout:2e3,icon:"delete"}):je.create({message:"刪除失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})),n.value=!1,_.value=null,S.value=null},ue=()=>{n.value=!1,_.value=null,S.value=null},le=m(()=>r.data.map(h=>({label:h.category_name,value:h.category_id,color:h.category_color}))),ve=h=>{console.log("新增分類:",h),r.addCategory(h.name,h.color),setTimeout(()=>{const y=r.data[r.data.length-1];y&&(s.value[y.category_id]=!0)},0),console.log("目前所有分類:",r.getAllCategories())},R=h=>{console.log("新增內容:",h),r.addContentToCategory(h.categoryId,h.label,h.content)?(console.log("內容新增成功"),console.log("目前所有分類:",r.getAllCategories())):console.error("內容新增失敗：找不到指定分類")},K=h=>{console.log("編輯內容:",h),p.value&&h.categoryId!==p.value.categoryId?(r.removeContentFromCategory(p.value.categoryId,h.id),r.addContentToCategory(h.categoryId,h.label,h.content)&&je.create({message:"內容已更新並移動到新分類",color:"positive",position:"top",timeout:2e3,icon:"edit"})):(r.removeContentFromCategory(h.categoryId,h.id),r.addContentToCategory(h.categoryId,h.label,h.content)&&je.create({message:"內容已更新",color:"positive",position:"top",timeout:2e3,icon:"edit"})),p.value=null,a.value=!1},H=h=>{z.value={id:h.category_id,name:h.category_name,color:h.category_color},l.value=!0},me=h=>{r.updateCategory(h.id,h.name,h.color)?je.create({message:"分類已更新",color:"positive",position:"top",timeout:2e3,icon:"edit"}):je.create({message:"更新失敗",color:"negative",position:"top",timeout:2e3,icon:"error"}),l.value=!1,z.value=null},Se=(h,y)=>{E.value=h,C.value=y,i.value=!0},ke=()=>{if(E.value){const h=r.data.find(V=>V.category_id===E.value);h&&h.context.forEach(V=>{delete f.value[V.id]}),r.removeCategoryById(E.value)?(je.create({message:"分類已刪除",color:"positive",position:"top",timeout:2e3,icon:"delete"}),s.value[E.value]&&delete s.value[E.value]):je.create({message:"刪除失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})}xe()},xe=()=>{i.value=!1,E.value=null,C.value=""},x=async h=>{try{const y=document.createElement("div");y.innerHTML=h;const V=y.textContent||y.innerText||"";await navigator.clipboard.writeText(V),je.create({message:"內容已複製到剪貼簿",color:"positive",position:"top",timeout:2e3,icon:"content_copy"})}catch(y){console.error("複製失敗:",y),je.create({message:"複製失敗",color:"negative",position:"top",timeout:2e3,icon:"error"})}};return(h,y)=>(Oe(),Ye("div",ri,[ie("div",ui,[ie("div",si,[L(fe,{color:"primary",label:"新增分類",icon:"add",unelevated:"",class:"action-btn",onClick:y[0]||(y[0]=V=>t.value=!0)}),L(fe,{color:"secondary",label:"新增內容",icon:"note_add",unelevated:"",class:"action-btn",onClick:y[1]||(y[1]=V=>o.value=!0),disable:qt(r).data.length===0},null,8,["disable"]),L(fe,{color:"grey-7",label:w.value?"收合全部":"展開全部",icon:w.value?"unfold_less":"unfold_more",outline:"",class:"action-btn",onClick:j,disable:qt(r).data.length===0},{default:N(()=>[qt(r).data.length>0?(Oe(),it(Ht,{key:0},{default:N(()=>[ot(bt(w.value?"點擊收合所有分類":"點擊展開所有分類")+" ",1),y[8]||(y[8]=ie("br",null,null,-1)),y[9]||(y[9]=ot(" (快捷鍵: Ctrl/Cmd + E) ",-1))]),_:1,__:[8,9]})):_t("",!0)]),_:1},8,["label","icon","disable"])]),qt(r).data.length>0?(Oe(),Ye("div",ci,[ie("div",di,[(Oe(!0),Ye(Bl,null,Al(qt(r).data,V=>(Oe(),it(Ze,{key:V.category_id,class:"category-card",style:Pt({background:`linear-gradient(135deg, ${V.category_color}20, ${V.category_color}10)`})},{default:N(()=>[L(De,null,{default:N(()=>[ie("div",fi,[ie("div",{class:"row items-center q-gutter-sm flex-1 cursor-pointer category-toggle",onClick:I=>q(V.category_id)},[ie("div",{style:Pt([{backgroundColor:V.category_color},{width:"20px",height:"20px","border-radius":"4px"}]),class:"q-pa-xs category-color-indicator"},null,4),ie("div",mi,bt(V.category_name),1),ie("div",gi,bt(V.context.length),1),L(Fe,{name:s.value[V.category_id]?"expand_less":"expand_more",size:"sm",class:Dn(["transition-transform expand-icon",{"rotate-180":!s.value[V.category_id]}])},null,8,["name","class"])],8,vi),ie("div",hi,[V.context.length>0?(Oe(),it(fe,{key:0,flat:"",dense:"",round:"",icon:v(V.category_id).allExpanded?"unfold_less":"unfold_more",size:"sm",color:"info",onClick:I=>d(V.category_id)},{default:N(()=>[L(Ht,null,{default:N(()=>[ot(bt(v(V.category_id).allExpanded?"收合該分類所有內容":"展開該分類所有內容"),1)]),_:2},1024)]),_:2},1032,["icon","onClick"])):_t("",!0),L(fe,{flat:"",dense:"",round:"",icon:"edit",size:"sm",color:"primary",onClick:I=>H(V)},null,8,["onClick"]),L(fe,{flat:"",dense:"",round:"",icon:"delete",size:"sm",color:"negative",onClick:I=>Se(V.category_id,V.category_name)},null,8,["onClick"])])]),L(Ll,null,{default:N(()=>[s.value[V.category_id]?(Oe(),Ye("div",bi,[V.context.length>0?(Oe(),Ye("div",pi,[(Oe(!0),Ye(Bl,null,Al(V.context,I=>(Oe(),Ye("div",{key:I.id,class:"content-item q-pa-sm q-mb-xs",style:Pt({background:`linear-gradient(135deg, ${V.category_color}15, ${V.category_color}08)`,"--category-color":V.category_color,"--category-color-light":`${V.category_color}20`,"--category-color-hover":`${V.category_color}10`,"--category-color-border":`${V.category_color}40`})},[ie("div",yi,[ie("div",{class:"col cursor-pointer content-toggle",onClick:g=>B(I.id)},[ie("div",Si,[ie("div",ki,bt(I.label),1),L(Fe,{name:f.value[I.id]?"expand_less":"expand_more",size:"sm",class:"transition-transform content-expand-icon"},null,8,["name"])])],8,Ci),ie("div",wi,[L(fe,{flat:"",dense:"",round:"",icon:"content_copy",size:"sm",color:"info",onClick:g=>x(I.content)},{default:N(()=>[L(Ht,null,{default:N(()=>y[10]||(y[10]=[ot("複製內容",-1)])),_:1,__:[10]})]),_:2},1032,["onClick"]),L(fe,{flat:"",dense:"",round:"",icon:"edit",size:"sm",color:"primary",onClick:g=>Y(I,V.category_id)},null,8,["onClick"]),L(fe,{flat:"",dense:"",round:"",icon:"delete",size:"sm",color:"negative",onClick:g=>te(V.category_id,I.id)},null,8,["onClick"])])]),L(Ll,null,{default:N(()=>[f.value[I.id]?(Oe(),Ye("div",xi,[ie("div",{class:"text-caption text-grey-7 content-detail cursor-pointer",innerHTML:I.content,onClick:g=>x(I.content)},null,8,_i)])):_t("",!0)]),_:2},1024)],4))),128))])):(Oe(),Ye("div",qi,"此分類目前沒有內容"))])):_t("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))])])):_t("",!0),y[16]||(y[16]=ie("div",{class:"row items-center justify-evenly"},null,-1)),L(ya,{modelValue:t.value,"onUpdate:modelValue":y[2]||(y[2]=V=>t.value=V),onSubmit:ve},null,8,["modelValue"]),L(Ka,{modelValue:o.value,"onUpdate:modelValue":y[3]||(y[3]=V=>o.value=V),categories:le.value,onSubmit:R},null,8,["modelValue","categories"]),L(Ya,{modelValue:a.value,"onUpdate:modelValue":y[4]||(y[4]=V=>a.value=V),categories:le.value,"content-item":p.value,onSubmit:K},null,8,["modelValue","categories","content-item"]),L(Za,{modelValue:l.value,"onUpdate:modelValue":y[5]||(y[5]=V=>l.value=V),category:z.value,onSubmit:me},null,8,["modelValue","category"]),L(tt,{modelValue:n.value,"onUpdate:modelValue":y[6]||(y[6]=V=>n.value=V),persistent:""},{default:N(()=>[L(Ze,{style:{"min-width":"300px"}},{default:N(()=>[L(De,null,{default:N(()=>y[11]||(y[11]=[ie("div",{class:"text-h6"},"確認刪除內容",-1)])),_:1,__:[11]}),L(De,{class:"q-pt-none"},{default:N(()=>y[12]||(y[12]=[ot(" 您確定要刪除此內容嗎？此操作無法復原。 ",-1)])),_:1,__:[12]}),L(nt,{align:"right"},{default:N(()=>[L(fe,{flat:"",label:"取消",color:"grey",onClick:ue}),L(fe,{flat:"",label:"刪除",color:"negative",onClick:de})]),_:1})]),_:1})]),_:1},8,["modelValue"]),L(tt,{modelValue:i.value,"onUpdate:modelValue":y[7]||(y[7]=V=>i.value=V),persistent:""},{default:N(()=>[L(Ze,{style:{"min-width":"300px"}},{default:N(()=>[L(De,null,{default:N(()=>y[13]||(y[13]=[ie("div",{class:"text-h6"},"確認刪除分類",-1)])),_:1,__:[13]}),L(De,{class:"q-pt-none"},{default:N(()=>[ot(" 您確定要刪除分類「"+bt(C.value)+"」嗎？ ",1),y[14]||(y[14]=ie("br",null,null,-1)),y[15]||(y[15]=ie("span",{class:"text-red"},"此操作將同時刪除該分類下的所有內容，且無法復原。",-1))]),_:1,__:[14,15]}),L(nt,{align:"right"},{default:N(()=>[L(fe,{flat:"",label:"取消",color:"grey",onClick:xe}),L(fe,{flat:"",label:"刪除",color:"negative",onClick:ke})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}}),Vi=Rt(Ti,[["__scopeId","data-v-ffa428bb"]]);export{Vi as default};
